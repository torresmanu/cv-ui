{"version":3,"sources":["services/common.js","services/urls.js","redux/constants.js","utils/date.js","services/PortalUsersService.js","redux/reducers/auth.js","redux/reducers/alertMessages.js","redux/reducers/dateFilterReducer.js","redux/reducers/kpiDataReducer.js","redux/reducers/index.js","redux/reducers/themeReducers.js","redux/store/index.js","services/api.js","pages/auth/Page404.js","services/DBService.js","utils/toTitleCase.js","redux/store/dbFilterSlice.js","redux/actions/snackbarActions.js","services/alertMessages.js","theme/variants.js","theme/typography.js","theme/overrides.js","theme/breakpoints.js","theme/props.js","theme/shadows.js","theme/index.js","components/Loader.js","components/Async.js","routes/auth.js","routes/index.js","components/Sidebar.js","images/Logo.png","components/Header.js","components/Notifier.js","layouts/Dashboard.js","layouts/Auth.js","images/logo_simple.svg","layouts/Landing.js","routes/Routes.js","App.js","index.js","services/handleError.js","routes/functions.js","pages/components/Logo.js","services/AuthService.js","redux/actions/authActions.js","images/Logo4.png"],"names":["Token","checkLogIn","ret","sessionStorage","getItem","GLOBALS","SESSION_KEYS","TOKEN","now","Date","EXPIRATION_DATE","window","location","href","setToken","token","dt","setMinutes","getMinutes","setItem","toString","getToken","Urls","api","API","defaults","baseURL","ApiLogIn","ApiLogOut","ApiChangePassword","ApiResetPassword","ApiRegister","ApiInstitution","ENDPOINTS","INSTITUTION","LIST","USER_ID","ApiSetInst","PORTAL_USER","SET_INST","interceptors","response","use","error","Promise","reject","SET_THEME","SET_SIGNED_IN","SET_SIGNED_OUT","SET_RESET_PASSWORD_DONE","SET_NEW_PASSWORD_DONE","SET_AUTH_LOADING","SET_AUTH_ERROR","ENQUEUE_SNACKBAR","CLOSE_SNACKBAR","REMOVE_SNACKBAR","SET_FORM_STATUS","SET_START_DATE","SET_END_DATE","FETCH_KPI_DATA_REQUEST","FETCH_KPI_DATA_SUCCESS","FETCH_KPI_DATA_FAILURE","moment","locale","formattedDate","date","originalDate","substring","parts","split","formatDate","isoDateTime","format","PortalUsersService","setInstitution","id","user_id","axios","create","process","responseType","headers","HEADERS_VALUES","PARTNER","post","then","PERMISSIONS","JSON","stringify","data","catch","handleError","snackbarMessages","portalUsers","set","getMasterList","_response$data","Object","values","get","GET","search","email","SEARCH","link","institution_id","url_params","LINK","store","dispatch","enqueueSnackbar","successMessage","success","unlink","role","url","body","name","lastname","company","user_role","passwd","password","force_enable","SET","edit","message","enable","enabled","disable","initial","loading","signedIn","notifications","open","dismissed","variant","key","initialState","startDate","endDate","isKPILoading","calibrationData","trustworthyData","processingFailsData","discardedData","completedEvaluations","successfulTasks","kpiDataReducer","state","arguments","length","undefined","action","type","calibrations","trustworthy_task","processing_fails","discarded","completed_evaluations","successful_tasks","combineReducers","dateFilter","kpiData","filters","dbFilterReducer","alertMessages","types","notification","map","dismissAll","filter","themeReducer","currentTheme","actions","payload","auth","configureStore","reducer","rootReducer","auth_value","Button","styled","MuiButton","spacing","Wrapper","div","props","theme","breakpoints","up","Page404","React","createElement","Typography","component","align","gutterBottom","Link","to","color","mt","Grid","container","direction","justify","alignItems","item","style","paddingTop","Logo","logo","width","DBService","DB","GET_FILTER_VALUES","_snackbarMessages$err","_snackbarMessages$err2","researchDB","get_filter_values","titleCase","str","_str","_str3","_str5","_str2","_str4","startsWith","endsWith","word","subWord","_subWord$charAt","charAt","toUpperCase","slice","join","loadFilterValues","createAsyncThunk","async","_","_ref","rejectWithValue","http_code","handleArrayFilter","existingFilter","value","existingValues","includes","push","handleRangeFilter","parseFn","parseFloat","dateFormatFn","formattedValue","min","max","resetFilterState","selectedFilter","selectedSubFilter","selectedCategory","filterType","dbFilterSlice","createSlice","subjects","evaluations","institutionMap","portalUserMap","evaluationTypeMap","isLoading","appliedFilters","appliedValues","filtersToRender","subFilterType","searchDisable","disabledKeys","reducers","setSelectedFilter","setSelectedSubFilter","setSelectedCategory","setFilterType","setSubFilterType","applyFilters","filterCategory","filterKey","displayFilterKey","cleanFilter","replace","cleanSubFilter","filterToRender","filterTitleCase","filter_type","sub_filter_type","filter_values","clearAllFilters","appliedKeys","removeAppliedFilter","filterToRemove","categoryKey","val","keys","setSearchDisable","extraReducers","builder","addCase","pending","fulfilled","institutions","portal_users","evaluation_types","cleanedSubjects","cleanedEvaluations","rejected","options","getTime","Math","random","closeSnackbar","item_message","autoHideDuration","IconButton","onClick","CloseIcon","errorMessage","variants","palette","primary","main","contrastText","secondary","blue","textSecondary","header","background","grey","indicator","sidebar","brand","footer","online","green","badge","typography","useNextVariants","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","h1","fontWeight","lineHeight","h2","h3","h4","h5","h6","body1","body2","button","textTransform","overrides","MuiCardHeader","marginTop","marginRight","MuiPickersDay","day","MuiPickersYear","root","height","MuiPickersCalendar","transitionContainer","MuiPickersCalendarHeader","iconButton","backgroundColor","switchHeader","marginBottom","MuiPickersClock","margin","MuiPickersClockNumber","clockNumber","left","MuiPickerDTHeader","dateHeader","timeHeader","MuiPickersTimePicker","hourMinuteLabel","MuiPickersToolbar","toolbar","xs","sm","md","lg","xl","MuiButtonBase","disableRipple","titleTypographyProps","createShadow","px","shadows","themes","createMuiTheme","Root","Loader","CircularProgress","m","asyncComponent","importComponent","AsyncComponent","Component","constructor","super","this","componentDidMount","r","setTimeout","default","setState","render","C","locationHelper","locationHelperBuilder","userIsAuthenticatedDefaults","authenticatedSelector","authenticatingSelector","wrapperDisplayName","userIsAuthenticatedRedir","connectedAuthWrapper","connectedRouterRedirect","AuthenticatingComponent","redirectPath","ownProps","getRedirectQueryParam","NeedsLogin","userIsNotAuthenticatedDefaults","userIsNotAuthenticatedRedir","allowRedirectBack","SignIn","SignUp","ForgotPassword","ResetPassword","Page500","Users","Database","MyAccount","Home","permissions","parse","homeRoutes","_permissions$stats","find","perm","CAN_SEE_KPI","_permissions$reports","_permissions$reports2","LIST_EVALUATORS","_permissions$instance","_permissions$research","CAN_RESEARCH_DB","_permissions$research2","CAN_SEARCH_DB","_permissions$portal_u","CAN_SEE_MASTER_LIST","path","children","hidden","accountRoutes","authRoutes","Unlock","FileText","UsersIcon","BarChart","icon","DatabaseRoutes","dashboard","landing","routes","originalMenu","child","NavLink","forwardRef","ref","RouterNavLink","assign","innerRef","Drawer","MuiDrawer","Scrollbar","PerfectScrollbar","List","MuiList","Items","Brand","ListItem","Category","activeClassName","CategoryText","ListItemText","CategoryIconLess","ExpandLess","rgba","CategoryIconMore","ExpandMore","LinkText","LinkBadge","Chip","fontWeightBold","CategoryBadge","SidebarSection","SidebarFooter","SidebarCategory","classes","isOpen","isCollapsable","rest","label","SidebarLink","_ref2","disabled","dense","exact","Sidebar","toggle","index","forEach","UNSAFE_componentWillMount","pathName","pathname","route","isActive","indexOf","isHome","containsHome","staticContext","other","padding","disablePadding","category","Fragment","Collapse","in","timeout","unmountOnExit","Divider","Avatar","alt","src","startIcon","AccountBoxIcon","e","redirectTo","fullWidth","justifyContent","ExitToAppIcon","AuthService","logout","removeItem","USER","VERSION","withRouter","AppBar","MuiAppBar","HeaderContainer","img","ProfileSection","connect","withTheme","onDrawerToggle","anchorEl","setAnchorEl","useState","history","useHistory","handleMenuClose","position","elevation","Toolbar","event","currentTarget","cursor","Popover","Boolean","onClose","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","minWidth","MenuItem","handleLogout","displayed","Notifier","useDispatch","useSelector","useSnackbar","useEffect","reason","myKey","GlobalStyle","createGlobalStyle","AppContent","Paper","MuiPaper","MainContent","down","Dashboard","mobileOpen","handleDrawerToggle","CssBaseline","Header","p","mapStateToProps","snackbar","params","Auth","Landing","Box","sx","top","overflow","zIndex","loop","autoPlay","muted","playsInline","objectFit","objectPosition","py","textAlign","bgcolor","Container","childRoutes","Layout","Route","Routes","Switch","DashboardLayout","dashboardRoutes","AuthLayout","LandingLayout","landingRoutes","Suspense","fallback","ConnectedApp","StylesProvider","injectFirst","MuiPickersUtilsProvider","utils","DateFnsUtils","MuiThemeProvider","maTheme","ThemeProvider","ConfirmProvider","SnackbarProvider","maxSnack","AppWithRouter","Router","basename","ReactDOM","Provider","App","document","getElementById","_error$response","_error$response$data","_error$response$data$","_error$response2","_error$response2$data","_error$response2$data2","_error$response3","_error$response3$data","_error$response3$data2","_error$response4","_error$response4$data","otherStyles","maxWidth","attemptLogin","username","login","xhr","XMLHttpRequest","setRequestHeader","HEADERS_NAMES","AUTH_TYPE","LOGIN","AUTHORIZATION","BASIC","TextEncoder","encode","btoa","String","fromCharCode","apply","safeBase64Encode","LOGIN_TYPE","onreadystatechange","readyState","_this$response","USER_FNAME","USER_LNAME","send","clear","endpoint","LOGOUT","receivedInstitutionInfo","innerHTML","ilist","inst_list","i","inst","INST_LIST","NAME","ID","USER_INSTITUTIONS","modifyAccount","MODIFY_OWN","filtered","fromEntries","entries","k","v","account","sendResetPasswordEmail","RESET_PASSWORD","resetPassword"],"mappings":"4GAAA,6CA8IO,MAAMA,EAAQ,CAElBC,WAAY,WACT,IAAIC,GAAM,EAEV,GAA2D,OAAvDC,eAAeC,QAAQC,EAAQC,aAAaC,OAAgB,CAE7D,IAAIC,EAAM,IAAIC,KAGIP,IAFL,IAAIO,KAAKN,eAAeC,QAAQC,EAAQC,aAAaI,kBAErDF,EAEhB,MAGGN,GAAM,EAELA,IAAKS,OAAOC,SAASC,KAAO,aACnC,EAEAC,SAAU,SAAUC,GACjB,IAEIC,EAAK,IAAIP,KAEbO,EAAGC,WAAYD,EAAGE,aAJJ,IAMdf,eAAegB,QAAQd,EAAQC,aAAaC,MAAMQ,GAClDZ,eAAegB,QAAQd,EAAQC,aAAaI,gBAAgBM,EAAGI,WAElE,EAEAC,SAAU,WACP,OAAOlB,eAAeC,QAAQC,EAAQC,aAAaC,MACtD,E,mCChLH,qDAGA,MASae,EAAO,CAChBC,IAAKC,IAAIC,SAASC,QAElBC,SAAUH,IAAIC,SAASC,QACvBE,UAAWJ,IAAIC,SAASC,QAbT,eAcfG,kBAAmBL,IAAIC,SAASC,QAbR,SAcxBI,iBAAkBN,IAAIC,SAASC,QAbR,iBAcvBK,YAAaP,IAAIC,SAASC,QAbT,iBAejBM,eAAgB3B,EAAQ4B,UAAUC,YAAYC,KAAO,IAAMhC,eAAeC,QAAQC,EAAQC,aAAa8B,SACvGC,WAAYhC,EAAQ4B,UAAUK,YAAYC,SAAW,KAGzDf,IAAIgB,aAAaC,SAASC,KACxB,SAAUD,GAER,OAAOA,CACT,IACA,SAAUE,GACR,OAAOC,QAAQC,OAAOF,EACxB,G,kCChCF,giBAAO,MAAMG,EAAY,YAEZC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAA0B,0BAC1BC,EAAwB,wBACxBC,EAAmB,mBACnBC,EAAiB,iBAEjBC,EAAmB,mBACnBC,EAAiB,iBACjBC,EAAkB,kBAElBC,EAAkB,kBAGlBC,EAAiB,iBACjBC,EAAe,eACfC,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAyB,wB,mCCpBtC,kGAGAC,IAAOC,OAAO,MAEd,MAUaC,EAAiBC,IAC5B,MAAMC,EAAeD,EAAKE,UAAU,EAAE,IAChCC,GAAoB,OAAZF,QAAY,IAAZA,OAAY,EAAZA,EAAcG,MAAM,OAAQ,CAAC,EAAE,EAAE,GAC/C,MAAQ,GAAED,EAAM,MAAMA,EAAM,MAAMA,EAAM,IAAI,EAIjCE,EAAaC,GACjBC,YAAOD,EAAa,a,mCCvB7B,+GAWO,MAAME,EAAqB,CAE9BC,eAAgB,SAAUC,EAAIC,EAAS7D,GACrC,OAAO8D,IAAMC,OAAO,CAClBpD,QAASqD,WACTC,aAAc,OACdC,QAAS,CACP,SAAY5E,EAAQ6E,eAAeC,QACnC,cAAiBP,EAAU,IAAM7D,EACjC,UAAa,KAEdqE,KAAK9D,IAAKe,WAAasC,GAAIU,MAAM5C,IAChCtC,eAAegB,QAAQd,EAAQC,aAAagF,YAAaC,KAAKC,UAAU/C,EAASgD,KAAKA,OAC/EhD,EAASgD,QAEbC,OAAO/C,IACNgD,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYC,IAAI,GAEpE,EACAC,cAAe,WAEX,OAAOvE,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAYH,KAAO,OAClDkD,MAAM5C,IAAc,IAADuD,EAClB,OAAOC,OAAOC,OAAe,OAARzD,QAAQ,IAARA,GAAc,QAANuD,EAARvD,EAAUgD,YAAI,IAAAO,OAAN,EAARA,EAAgBP,OAAS,EAAE,IAEnDC,OAAO/C,IACJgD,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYM,IAAI,GAEnE,EACCA,IAAK,SAAUvB,GACb,OAAOpD,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAY8D,IAAM,IAAMxB,GACvDS,MAAM5C,GACEA,EAASgD,MAAQ,KAEvBC,OAAO/C,IACNgD,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYM,IAAI,GAElE,EAEAE,OAAQ,SAAUC,GACf,OAAO9E,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAYiE,OAAS,KACrD,CAACD,MAAOA,IACPjB,MAAM5C,GACEA,EAASgD,MAAQ,KAEvBC,OAAO/C,IACNgD,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYM,IAAI,GAElE,EAEDK,KAAM,SAAU5B,EAAS6B,EAAgBD,GACvC,MAAME,EAAY,IAAM9B,EAAU,gBAAkB6B,EAAiB,SAAUD,EAC/E,OAAOhF,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAYqE,KAAOD,GAClDrB,MAAM5C,IACI,IAAT+D,EAAaI,IAAMC,SAASC,YAAgBC,YAAenB,EAAiBoB,QAAQnB,YAAYW,QAChGI,IAAMC,SAASC,YAAgBC,YAAenB,EAAiBoB,QAAQnB,YAAYoB,UAC5ExE,EAASgD,MAAQ,MAEvBC,OAAO/C,IACG,IAAT6D,EAAab,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYW,MACjEb,YAAYhD,EAAOiD,EAAiBjD,MAAMkD,YAAYoB,OAAO,GAEvE,EAEAnB,IAAK,SAAUlB,EAASa,EAAMgB,EAAgBS,GAC5C,MAAMC,EAAMvC,EAAU,IAAMA,EAAU,KAChCwC,EAAOxC,EAAU,CACrByC,KAAM5B,EAAK4B,KACXC,SAAU7B,EAAK6B,SACfC,QAAS9B,EAAK8B,QACdC,UAAWN,GAEb,CACEG,KAAM5B,EAAK4B,KACXC,SAAU7B,EAAK6B,SACfG,OAAQhC,EAAKiC,SACbpB,MAAOb,EAAKa,MACZiB,QAAS9B,EAAK8B,QACdd,eAAgBA,EAChBe,UAAWN,EACXS,cAAc,GAGhB,OAAOnG,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAYsF,IAAMT,EAAKC,GACtD/B,MAAM5C,IACLmC,EAAUgC,IAAMC,SAASC,YAAgBC,YAAenB,EAAiBoB,QAAQnB,YAAYgC,QAC3FjB,IAAMC,SAASC,YAAgBC,YAAenB,EAAiBoB,QAAQnB,YAAYf,UAC9ErC,EAASgD,MAAQ,MAEvBC,OAAO/C,IACL,MAAMmF,EAAUlD,EAAUgB,EAAiBjD,MAAMkD,YAAYgC,KAAOjC,EAAiBjD,MAAMkD,YAAYf,OACvGa,YAAYhD,EAAOmF,EAAQ,GAEpC,EACAC,OAAQ,SAAUnD,EAASmD,GACzB,OAAOvG,IAAI4D,KAAK/E,EAAQ4B,UAAUK,YAAYsF,IAAM,IAAMhD,EAAS,CAACoD,QAASD,IAC1E1C,MAAM5C,IACLmE,IAAMC,SACJC,YACEC,YACEgB,EAASnC,EAAiBoB,QAAQnB,YAAYkC,OAASnC,EAAiBoB,QAAQnB,YAAYoC,WAE3FxF,EAASgD,MAAQ,MAEvBC,OAAO/C,IACNgD,YACEhD,EACAoF,EAASnC,EAAiBjD,MAAMkD,YAAYkC,OAASnC,EAAiBjD,MAAMkD,YAAYoC,QAAQ,GAE1G,E,wzFCrHJ,MAKMC,EAAU,CAAEC,SAAS,EACTC,S,OALfpI,EAAMqB,YACN,IAAIZ,KAAS,IAAIA,KAAKN,eAAeC,QAAQ,oBAM9BuC,MAAO,KACPoE,eAAgB,MCVlC,MAAMmB,EAAW,CACbG,cAAe,CAAC,CAAEC,MAAK,EAAOC,WAAW,EAAMC,QAAS,UAAWC,IAAK,OCA5E,MAAMC,EAAe,CACnBC,UAAW,KACXC,QAAS,MCFX,MAAMF,EAAe,CACnBG,cAAc,EACdC,gBAAiB,GACjBC,gBAAiB,GACjBC,oBAAqB,GACrBC,cAAe,GACfC,qBAAsB,GACtBC,gBAAiB,GACjBxG,MAAO,MAiCMyG,MA9BQ,WAAmC,IAAlCC,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGZ,EAAce,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClD,OAAQC,EAAOC,MACb,KAAK/F,IACH,MAAO,IACF0F,EACHR,cAAc,EACdlG,MAAO,MAEX,KAAKiB,IACH,MAAO,IACFyF,EACHR,cAAc,EACdC,gBAAiBW,EAAOhE,KAAKkE,aAC7BZ,gBAAiBU,EAAOhE,KAAKmE,iBAC7BZ,oBAAqBS,EAAOhE,KAAKoE,iBACjCZ,cAAeQ,EAAOhE,KAAKqE,UAC3BZ,qBAAsBO,EAAOhE,KAAKsE,sBAClCZ,gBAAiBM,EAAOhE,KAAKuE,kBAEjC,KAAKnG,IACH,MAAO,IACFwF,EACHR,cAAc,EACdlG,MAAO8G,EAAO9G,OAElB,QACE,OAAO0G,EAEb,E,SC9BeY,cAAgB,CAC9BC,WFLc,WAA0D,IAA/Bb,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGZ,EAAce,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpE,OAAQC,EAAOC,MACb,KAAKjG,IACH,MAAO,IAAK4F,EAAOV,UAAWc,EAAOxF,MACvC,KAAKP,IACH,MAAO,IAAK2F,EAAOT,QAASa,EAAOxF,MACrC,QACE,OAAOoF,EAEb,EEHCc,QAASf,EACTgB,QAASC,IACTC,cHVc,WAAyC,IAAxBjB,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACpB,EAASuB,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/C,OAAQC,EAAOC,MACb,KAAKa,IACD,MAAO,IACAlB,EACHhB,cAAe,IACRgB,EAAMhB,cACT,CACII,IAAKgB,EAAOhB,OACTgB,EAAOe,gBAK1B,KAAKD,IACD,MAAO,IACAlB,EACHhB,cAAegB,EAAMhB,cAAcoC,KAAID,GAClCf,EAAOiB,YAAcF,EAAa/B,MAAQgB,EAAOhB,IAC5C,IAAK+B,EAAcjC,WAAW,GAC9B,IAAKiC,MAIvB,KAAKD,IACD,MAAO,IACAlB,EACHhB,cAAegB,EAAMhB,cAAcsC,QAC/BH,GAAgBA,EAAa/B,MAAQgB,EAAOhB,OAI5D,QACE,OAAOY,EAEb,EGxBCuB,aCfc,WAAsD,IAArCvB,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAEuB,aAAc,GAAKC,EAAOxB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChE,OAAQsB,EAAQpB,OAETa,IACI,IACFlB,EACHwB,aAAcC,EAAQC,SAIjB1B,CAEb,EDIC2B,KJHc,WAA0C,IAAzB3B,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACpB,EAAS4C,EAAOxB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQsB,EAAQpB,MAEd,KAAKa,IACH,MAAO,IACFlB,EACHjB,UAAU,EACVD,SAAS,EACTxF,MAAO,KACPoE,eAAgB,MAGpB,KAAKwD,IACH,MAAO,IACFlB,EACHjB,UAAU,GAGd,KAAKmC,IACH,MAAO,IACFlB,EACHlB,SAAS,EACTxF,MAAO,KACPoE,eAAgB,6EAGpB,KAAKwD,IACH,MAAO,IACFlB,EACHlB,SAAS,EACTxF,MAAO,KACPoE,eAAgB,+CAGpB,KAAKwD,IACH,MAAO,IACFlB,EACHlB,SAAS,GAGb,KAAKoC,IACH,MAAO,IACFlB,EACHlB,SAAS,EACTxF,MAAOmI,EAAQC,QACfhE,eAAgB,MAGpB,QACE,OAAOsC,EAEb,IM/DA,MAAMzC,EAAQqE,YAAe,CAC3BC,QAASC,IAGIvE,K,kCCPf,oBAGA,IAAIwE,EAAajL,eAAeC,QAAQC,EAAQC,aAAa8B,SAC3C,IAAMjC,eAAeC,QAAQC,EAAQC,aAAaC,OAEpE,MAAMiB,EAAMqD,IAAMC,OAAO,CACvBpD,QAASqD,WACTC,aAAc,OACdC,QAAS,CACP,SAAY5E,EAAQ6E,eAAeC,QACnC,cAAiBiG,EACjB,UAAa,KAIF5J,K,mCChBf,8FASA,MAAM6J,EAASC,YAAOC,IAAPD,CAAkBE,KAE3BC,EAAUH,IAAOI,GAAI;aACdC,GAASA,EAAMC,MAAMJ,QAAQ;;;;IAItCG,GAASA,EAAMC,MAAMC,YAAYC,GAAG;eACzBH,GAASA,EAAMC,MAAMJ,QAAQ;;EAwC7BO,UApCf,WACE,OACEC,IAAAC,cAACR,EAAO,KACNO,IAAAC,cAACC,IAAU,CAACC,UAAU,KAAK3D,QAAQ,KAAK4D,MAAM,SAASC,cAAY,GAAC,OAGpEL,IAAAC,cAACC,IAAU,CAACC,UAAU,KAAK3D,QAAQ,KAAK4D,MAAM,SAASC,cAAY,GAAC,mBAGpEL,IAAAC,cAACC,IAAU,CAACC,UAAU,KAAK3D,QAAQ,QAAQ4D,MAAM,SAASC,cAAY,GAAC,yDAIvEL,IAAAC,cAACZ,EAAM,CACLc,UAAWG,IACXC,GAAG,IACH/D,QAAQ,YACRgE,MAAM,YACNC,GAAI,GACL,qBAGDT,IAAAC,cAACS,IAAI,CACHC,WAAS,EACTC,UAAU,MACVC,QAAQ,SACRC,WAAW,UAEbd,IAAAC,cAACS,IAAI,CAACK,MAAI,EAACC,MAAO,CAACC,WAAY,KAC3BjB,IAAAC,cAACiB,IAAI,CAACC,KAAMA,IAAMC,MAAO,UAKnC,C,kJClDO,MAAMC,EAGQ,WACb,OAAO7L,IAAI4D,KAAK/E,EAAQ4B,UAAUqL,GAAGC,kBAAoB,MAAMlI,MAAM5C,GAC1DA,EAASgD,MAAQ,KAE3BC,OAAO/C,IAAW,IAAD6K,EAAAC,EAEd,OADA9H,YAAYhD,GAAS,IAAoB,OAAhBiD,QAAgB,IAAhBA,GAAuB,QAAP4H,EAAhB5H,EAAkBjD,aAAK,IAAA6K,GAAY,QAAZC,EAAvBD,EAAyBE,kBAAU,IAAAD,OAAnB,EAAhBA,EAAqCE,oBAAqB,IACvE,OAALhL,QAAK,IAALA,OAAK,EAALA,EAAOF,QAAQ,GAE9B,EChBSmL,EAAaC,IAAS,IAADC,EAAAC,EAAAC,EAYJC,EAKFC,EAf1B,GAAY,OAARL,QAAwBrE,IAARqE,EAClB,MAAO,IAIU,kBAARA,IACTA,EAAMA,EAAIzM,YAIL,QAAP0M,EAAID,SAAG,IAAAC,GAAHA,EAAKK,WAAW,UAClBN,EAAS,QAANI,EAAGJ,SAAG,IAAAI,OAAA,EAAHA,EAAK9J,UAAU,IAIhB,QAAP4J,EAAIF,SAAG,IAAAE,GAAHA,EAAKK,SAAS,SAChBP,EAAS,QAANK,EAAGL,SAAG,IAAAK,OAAA,EAAHA,EAAK/J,UAAU,EAAG0J,EAAItE,OAAS,IAgBvC,OAZe,QAANyE,EAAGH,SAAG,IAAAG,OAAA,EAAHA,EAAK3J,MAAM,MAGIoG,KAAK4D,GAEvBA,EACJhK,MAAM,KACNoG,KAAK6D,IAAO,IAAAC,EAAA,OAAY,OAAPD,QAAO,IAAPA,GAAkB,QAAXC,EAAPD,EAASE,OAAO,UAAE,IAAAD,OAAX,EAAPA,EAAoBE,gBAAuB,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAASI,MAAM,GAAG,IACvEC,KAAK,OAIYA,KAAK,IAAI,E,aC1B1B,MAAMC,EAAmBC,YAC9B,4BACAC,MAAOC,EAACC,KAA2B,IAAzB,gBAAEC,GAAiBD,EAC3B,IACE,MAAMvM,QAAiB4K,IACvB,OAA4B,OAAhB,OAAR5K,QAAQ,IAARA,OAAQ,EAARA,EAAUyM,WACLzM,EAASgD,KAETwJ,EAAgB,+BAE3B,CAAE,MAAOtM,GACP,OAAOsM,EAAgBtM,EAAMvB,WAC/B,KAKE+N,EAAoBA,CAACC,EAAgBC,KACzC,IAAIC,EAAiB,GASrB,OARIF,GAAkBA,EAAoB,MACxCE,EAAiBF,EAAoB,KAGlCE,EAAeC,SAASF,EAAM5G,MACjC6G,EAAeE,KAAKH,EAAM5G,KAGrB,CAAE,IAAO6G,EAAgB,EAI5BG,EAAoB,SAACJ,GAAsD,IAA/CK,EAAOpG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGqG,WAAYC,EAAYtG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACrE,MAAMuG,EAAiB,CAAC,EAUxB,YARiBrG,GAAb6F,EAAMS,KAAkC,KAAdT,EAAMS,MAClCD,EAAqB,KAAID,EAAeA,EAAaP,EAAMS,IAAK,cAAgBJ,EAAQL,EAAMS,WAG/EtG,GAAb6F,EAAMU,KAAkC,KAAdV,EAAMU,MAClCF,EAAqB,KAAID,EAAeA,EAAaP,EAAMU,IAAK,cAAgBL,EAAQL,EAAMU,MAGzFF,CACT,EAGMG,EAAoB3G,IACxBA,EAAM4G,eAAiB,KACvB5G,EAAM6G,kBAAoB,KAC1B7G,EAAM8G,iBAAmB,KACzB9G,EAAM+G,WAAa,EAAE,EAGjBC,EAAgBC,YAAY,CAChCjJ,KAAM,UACNqB,aAAc,CACZ0B,QAAS,CAAEmG,SAAU,GAAIC,YAAa,IACtCC,eAAgB,CAAC,EACjBC,cAAe,CAAC,EAChBC,kBAAmB,CAAC,EACpBC,WAAW,EACXjO,MAAO,KACPsN,eAAgB,KAChBC,kBAAmB,KACnBC,iBAAkB,KAClBU,eAAgB,CAAC,EACjBC,cAAe,GACfC,gBAAiB,GACjBX,WAAY,GACZY,cAAe,GACfC,eAAe,EACfC,aAAc,IAEhBC,SAAU,CACRC,kBAAmBA,CAAC/H,EAAOI,KACzBJ,EAAM4G,eAAiBxG,EAAOsB,OAAO,EAEvCsG,qBAAsBA,CAAChI,EAAOI,KAC5BJ,EAAM6G,kBAAoBzG,EAAOsB,OAAO,EAE1CuG,oBAAqBA,CAACjI,EAAOI,KAC3BJ,EAAM8G,iBAAmB1G,EAAOsB,OAAO,EAEzCwG,cAAeA,CAAClI,EAAOI,KACrBJ,EAAM+G,WAAa3G,EAAOsB,OAAO,EAEnCyG,iBAAkBA,CAACnI,EAAOI,KACxBJ,EAAM2H,cAAgBvH,EAAOsB,OAAO,EAEtC0G,aAAcA,CAACpI,EAAOI,KACpB,MAAM,OAAEkB,EAAM,MAAE0E,EAAK,WAAEe,EAAU,eAAEsB,GAAmBjI,EAAOsB,QAG7D,IAEI4G,EAWAC,EAbAC,EAAclH,EAAOmH,QAAQ,8BAA+B,IAgBhE,GAXEH,EAFqB,aAAnBD,EAEW,WAAUG,IACK,gBAAnBH,EAEGG,EAEAlH,EAMVtB,EAAM6G,kBAAmB,CAC3B,IAAI6B,EAAiB1I,EAAM6G,kBAAkB4B,QAAQ,8BAA+B,IAGlFzI,EAAM6G,kBADe,aAAnBwB,EACyB,WAAUK,IACT,gBAAnBL,EACiBK,EAEA1I,EAAM6G,kBAGlC0B,EAAmBhE,EAAUmE,GAC7BJ,EAAa,GAAEtI,EAAM6G,mBACvB,MACE0B,EAAmBhE,EAAUiE,GAG/B,MAAMG,EAAiB,CACrBC,gBAAiBL,EACjBM,YAAa9B,EACb+B,gBAAiB9I,EAAM2H,cACvBoB,cAAe/C,EACfqC,eAAgBA,EAChBC,UAAWA,GAYb,IAAI9B,EAEJ,GAVAxG,EAAM0H,gBAAgBvB,KAAKwC,GAGtB3I,EAAMwH,eAAgB,GAAEa,eAC3BrI,EAAMwH,eAAgB,GAAEa,aAA4B,CAAC,GAMpC,UAAftB,EAAwB,CAC1B,MAAMhB,EAAiB/F,EAAMwH,eAAgB,GAAEa,aAA0BC,GACzE9B,EAAiBV,EAAkBC,EAAgBC,EAErD,MAAO,GAAmB,QAAfe,GAAuC,UAAfA,EACjCP,EAAiBJ,EAAkBJ,EAAOM,YAC1CtG,EAAM6H,aAAa1B,KAAKqC,QAEnB,GAAmB,aAAfzB,EACTP,EAAiBJ,EAAkBJ,EAAO,KAAM/K,KAChD+E,EAAM6H,aAAa1B,KAAKqC,GACxB7B,EAAiB3G,QACZ,GAAmB,qBAAf+G,EACT,GAA4B,UAAxB/G,EAAM2H,cAA2B,CACnC,MAAM5B,EAAiB/F,EAAMwH,eAAgB,GAAEa,aAA0BC,GACzE9B,EAAiBV,EAAkBC,EAAgBC,GACnDhG,EAAM6H,aAAa1B,KAAKH,EAAM5G,IAChC,KAAmC,QAAxBY,EAAM2H,eAAmD,UAAxB3H,EAAM2H,eAChDnB,EAAiBJ,EAAkBJ,EAAOM,YAC1CtG,EAAM6H,aAAa1B,KAAKmC,GACxB3B,EAAiB3G,IACgB,aAAxBA,EAAM2H,eACfnB,EAAiBJ,EAAkBJ,EAAO,KAAM/K,KAChD+E,EAAM6H,aAAa1B,KAAKmC,GACxB3B,EAAiB3G,IAEc,SAAxBA,EAAM2H,gBACbnB,GAA2B,IAAVR,IAAkB,EACnChG,EAAM6H,aAAa1B,KAAKmC,GACxB3B,EAAiB3G,IAKrBA,EAAMwH,eAAgB,GAAEa,aAA0BC,GAAa9B,EAC/DxG,EAAM4H,eAAgB,CAAK,EAE7BoB,gBAAkBhJ,IACdA,EAAMwH,eAAiB,CAAC,EACxBxH,EAAM0H,gBAAkB,GACxB1H,EAAMyH,cAAgB,GACtBzH,EAAMiJ,YAAc,GACpBjJ,EAAM6H,aAAe,EAAE,EAE3BqB,oBAAqBA,CAAClJ,EAAOI,KAC3B,MAAM+I,EAAiB/I,EAAOsB,SACxB,eAAE2G,EAAc,UAAEC,EAAS,cAAES,EAAa,YAAEF,EAAW,gBAAEC,GAAoBK,EAEnF,IAAIX,EAAcF,EAAUG,QAAQ,8BAA+B,IACnEzI,EAAM6H,aAA+B,qBAAhBgB,EACC,UAApBC,EACE9I,EAAM6H,aAAavG,QAAQlC,GAAQA,IAAO2J,EAAc3J,MACtDY,EAAM6H,aAAavG,QAAQlC,GAAQA,IAAOkJ,IAE9CtI,EAAM6H,aAAavG,QAAQlC,GAAQA,IAAQoJ,IAG7CxI,EAAM0H,gBAAkB1H,EAAM0H,gBAAgBpG,QAC3CA,KAEGA,EAAOgH,YAAcA,GACrBhH,EAAO+G,iBAAmBA,GAC1BnM,KAAKC,UAAUmF,EAAOyH,iBAAmB7M,KAAKC,UAAU4M,MAI9D,MAAMK,EAAe,GAAEf,YAGvB,GAAIrI,EAAMwH,eAAe4B,GAAc,CACrC,GAAoB,UAAhBP,EAAyB,CAE3B,MAAM9C,EAAiB/F,EAAMwH,eAAe4B,GAAad,GACrDvC,GAAkBA,EAAoB,MACxCA,EAAoB,IAAIA,EAAoB,IAAEzE,QAC7C+H,GAAQA,IAAQN,EAAc/C,QAEI,IAAjCD,EAAoB,IAAE7F,cAEjBF,EAAMwH,eAAe4B,GAAad,GAGzCtI,EAAMwH,eAAe4B,GAAad,GAAavC,EAGnD,aAES/F,EAAMwH,eAAe4B,GAAad,GAImB,IAA1D1L,OAAO0M,KAAKtJ,EAAMwH,eAAe4B,IAAclJ,eAC1CF,EAAMwH,eAAe4B,EAEhC,GAEFG,iBAAkBA,CAACvJ,EAAOI,KACxBJ,EAAM4H,cAAgBxH,EAAOsB,OAAO,GAGxC8H,cAAgBC,IACdA,EACGC,QAAQnE,EAAiBoE,SAAU3J,IAClCA,EAAMuH,WAAY,CAAI,IAEvBmC,QAAQnE,EAAiBqE,WAAW,CAAC5J,EAAOI,KAC3C,MAAM,aAAEyJ,EAAY,aAAEC,EAAY,iBAAEC,KAAqBhJ,GAAYX,EAAOsB,QAGtEsI,EAAkB,IAAKjJ,EAAQmG,UAC/B+C,EAAqB,IAAKlJ,EAAQoG,oBAEjC6C,EAA8B,oBAC9BC,EAAiC,aAExCjK,EAAMe,QAAU,CACdmG,SAAU8C,EACV7C,YAAa8C,GAGfjK,EAAMoH,eAAiByC,GAAgB,CAAC,EACxC7J,EAAMqH,cAAgByC,GAAgB,CAAC,EACvC9J,EAAMsH,kBAAoByC,GAAoB,CAAC,EAC/C/J,EAAMuH,WAAY,CAAK,IAExBmC,QAAQnE,EAAiB2E,UAAU,CAAClK,EAAOI,KAC1CJ,EAAMuH,WAAY,EAClBvH,EAAM1G,MAAQ8G,EAAOsB,OAAO,GAC5B,KAKK,kBACXqG,EAAiB,qBACjBC,EAAoB,oBACpBC,EAAmB,cACnBC,EAAa,iBACbC,EAAgB,aAChBC,EAAY,oBACZc,EAAmB,gBACnBF,EAAe,iBACfO,GACEvC,EAAcvF,QAEHuF,MAAqB,O,kCC3SpC,gFAGO,MAAMvJ,EAAmB0D,IAC5B,MAAM/B,EAAM+B,EAAagJ,SAAWhJ,EAAagJ,QAAQ/K,IAEzD,MAAO,CACHiB,KAAMa,IACNC,aAAc,IACPA,EACH/B,IAAKA,IAAO,IAAIhI,MAAOgT,UAAYC,KAAKC,UAE/C,EAGQC,EAAgBnL,IAAG,CAC5BiB,KAAMa,IACNG,YAAajC,EACbA,O,kCClBJ,kIAYO,SAAS1B,EAAe8M,GAC3B,MAAM,CACFvL,MAAM,EACNR,QAAU,GAAE+L,IACZL,QAAQ,CACJhL,QAAS,UACTsL,iBAAkB,KAClBrL,KAAK,IAAIhI,MAAOgT,UAChBhK,OAAQhB,GACJuD,IAAAC,cAAC8H,IAAU,CAACtL,IAAI,QAAQ,aAAW,QAAQ+D,MAAM,UAAUwH,QAASA,IAAMpN,IAAMC,SAAS+M,YAAcnL,KACrGuD,IAAAC,cAACgI,IAAS,QAK5B,CAEO,SAASC,EAAaL,GACzB,MAAM,CACFvL,MAAM,EACNR,QAAU,GAAE+L,IACZL,QAAQ,CACJhL,QAAS,QACTsL,iBAAkB,KAClBrL,KAAK,IAAIhI,MAAOgT,UAChBhK,OAAQhB,GACJuD,IAAAC,cAAC8H,IAAU,CAACtL,IAAI,QAAQ,aAAW,QAAQ+D,MAAM,UAAUwH,QAASA,IAAMpN,IAAMC,SAAS+M,YAAcnL,KACrGuD,IAAAC,cAACgI,IAAS,QAK5B,C,4NCeeE,MAJE,CApDG,CAClB9M,KAAM,OACN+M,QAAS,CACPC,QAAS,CACPC,KAAM,UACNC,aAAc,QAEhBC,UAAW,CACTF,KAAMG,IAAK,KACXF,aAAc,QAEhBG,cAAe,CACbJ,KAAM,YAGVK,OAAQ,CACNnI,MAAO,UACPoI,WAAY,UACZvO,OAAQ,CACNmG,MAAOqI,IAAK,MAEdC,UAAW,CACTF,WAAYH,IAAK,OAGrBM,QAAS,CACPvI,MAAO,UACPoI,WAAY,UACZD,OAAQ,CACNnI,MAAOqI,IAAK,KACZD,WAAY,UACZI,MAAO,CACLxI,MAAOiI,IAAK,OAGhBQ,OAAQ,CACNzI,MAAOqI,IAAK,KACZD,WAAY,UACZM,OAAQ,CACNN,WAAYO,IAAM,OAGtBC,MAAO,CACL5I,MAAO,OACPoI,WAAYH,IAAK,OAGrBrN,KAAM,CACJwN,WAAY,+CCUDS,MA7DI,CACjBC,iBAAiB,EACjBC,WAAY,CACV,aACA,gBACA,qBACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACA5G,KAAK,KACP6G,SAAU,GACVC,gBAAiB,IACjBC,kBAAmB,IACnBC,iBAAkB,IAClBC,GAAI,CACFJ,SAAU,OACVK,WAAY,IACZC,WAAY,KAEdC,GAAI,CACFP,SAAU,UACVK,WAAY,IACZC,WAAY,KAEdE,GAAI,CACFR,SAAU,SACVK,WAAY,IACZC,WAAY,KAEdG,GAAI,CACFT,SAAU,UACVK,WAAY,IACZC,WAAY,KAEdI,GAAI,CACFV,SAAU,WACVK,WAAY,IACZC,WAAY,KAEdK,GAAI,CACFX,SAAU,YACVK,WAAY,IACZC,WAAY,KAEdM,MAAO,CACLZ,SAAU,GACVK,WAAY,KAEdQ,MAAO,CACLb,SAAU,GACVhJ,MAAO,WAET8J,OAAQ,CACNC,cAAe,SCqBJC,MA9EG,CAChBC,cAAe,CACbhN,OAAQ,CACNiN,UAAW,OACXC,YAAa,SAGjBC,cAAe,CACbC,IAAK,CACHhB,WAAY,QAGhBiB,eAAgB,CACdC,KAAM,CACJC,OAAQ,SAGZC,mBAAoB,CAClBC,oBAAqB,CACnBR,UAAW,QAGfS,yBAA0B,CACxBC,WAAY,CACVC,gBAAiB,cACjB,QAAS,CACPA,gBAAiB,gBAGrBC,aAAc,CACZZ,UAAW,MACXa,aAAc,QAGlBC,gBAAiB,CACf7K,UAAW,CACT8K,OAAS,eAGbC,sBAAuB,CACrBC,YAAa,CACXC,KAAO,mBACPxK,MAAO,OACP4J,OAAQ,SAGZa,kBAAmB,CACjBC,WAAY,CACV,OAAQ,CACNtC,SAAU,WACVK,WAAY,MAGhBkC,WAAY,CACV,OAAQ,CACNvC,SAAU,OACVK,WAAY,OAIlBmC,qBAAsB,CACpBC,gBAAiB,CACf,OAAQ,CACNzC,SAAU,UACVK,WAAY,OAIlBqC,kBAAmB,CACjBC,QAAS,CACP,OAAQ,CACN3C,SAAU,WACVK,WAAY,QC9DLhK,MAVK,CAClB3F,OAAQ,CACNkS,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,OCGO7M,MATD,CACZ8M,cAAe,CACbC,eAAe,GAEjBjC,cAAe,CACbkC,qBAAsB,CAAEnQ,QAAS,QCLrC,SAASoQ,EAAaC,GACpB,MAAQ,OAAMA,0BAChB,CA8BeC,MA5BC,CACd,OACAF,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,IACbA,EAAa,KCAAG,MAFA5E,EAAS1J,KAAIjC,GAlBdA,IACLwQ,YACL,CACExN,QAAS,EACTK,YAAaA,EACb2K,UAAWA,EACX7K,MAAOA,EACP0J,WAAYA,EACZyD,QAASA,EACT1R,KAAMoB,EAAQpB,KACduN,OAAQnM,EAAQmM,OAChBP,QAAS5L,EAAQ4L,QACjBW,QAASvM,EAAQuM,SAEnBvM,EAAQnB,MAI2BuE,CAAMpD,K,iBCtB7C,MAAMyQ,EAAO3N,IAAOI,GAAI;;;;;EAeTwN,MARf,WACE,OACElN,IAAAC,cAACgN,EAAI,KACHjN,IAAAC,cAACkN,IAAgB,CAACC,EAAG,EAAG5M,MAAM,cAGpC,ECZe,SAAS6M,EAAeC,GACrC,MAAMC,UAAuBvN,IAAMwN,UACjCC,YAAY9N,GACV+N,MAAM/N,GAENgO,KAAKtQ,MAAQ,CACX8C,UAAW,KAEf,CAEA,uBAAMyN,GAZIR,cAaI,IAbC,IAAIxW,SAAQiX,GAAKC,WAAWD,EAAGT,MAe5C,MAAQW,QAAS5N,SAAoBmN,IAErCK,KAAKK,SAAS,CACZ7N,UAAWA,GAEf,CAEA8N,SACE,MAAMC,EAAIP,KAAKtQ,MAAM8C,UAErB,OAAO+N,EAAIlO,IAAAC,cAACiO,EAAMP,KAAKhO,OAAYK,IAAAC,cAACiN,EAAM,KAC5C,EAGF,OAAOK,CACT,C,qFC3BA,MAAMY,EAAiBC,IAAsB,CAAC,GAExCC,EAA8B,CAClCC,sBAAuBjR,IAAS,EAChCkR,uBAAwBlR,IAAS,EACjCmR,mBAAoB,uBAKhBC,GAF6BC,IAAqBL,GAEvBM,kCAAwB,IACpDN,EACHO,wBAAyB1B,EACzB2B,aAAcA,CAACxR,EAAOyR,IAAaX,EAAeY,sBAAsBD,IAAa,mBAG1EE,EAAa7O,GAAasO,EACrC3L,EAAM3C,IAGF8O,EAAiC,CAErCX,sBAAuBjR,IAAUA,EAAM2B,KAAK5C,WAAaiB,EAAM2B,KAAK7C,QACpEoS,uBAAwBlR,GAASA,EAAM2B,KAAK7C,QAC5CqS,mBAAoB,0BAKhBU,GAFgCR,IAAqBO,GAEvBN,kCAAwB,IACvDM,EACHJ,aAAcA,CAACxR,EAAOyR,IAAaX,EAAeY,sBAAsBD,IAAa,IACrFK,mBAAmB,K,yBCvBrB,MAAMC,ED0B8BF,EAClCpM,GC3BqB,IAAM,gEAC7B,MAAMuM,GAASvM,GAAM,IAAM,+DACrBwM,GAAiBxM,GAAM,IAAM,wDAC7ByM,GAAgBzM,GAAM,IAAM,wDAC5B/C,GAAU+C,GAAM,IAAM,2CACtB0M,GAAU1M,GAAM,IAAM,kCAQtB2M,IALcT,GAAW,IAAM,kCACrBA,GAAW,IAAM,kCACZA,GAAW,IAAM,6EACfA,GAAW,IAAM,6EACxBA,GAAW,IAAM,4EACnBA,GAAW,IAAM,8EAazBU,IAZkBV,GAAW,IAAM,4EACvBA,GAAW,IAAM,4EACdA,GAAW,IAAM,8EACfA,GAAW,IAAM,6EAE1BA,GAAW,IAAM,6EACRA,GAAW,IAAM,6EAChBA,GAAW,IAAM,6EACvBA,GAAW,IAAM,6EAClBA,GAAW,IAAM,6EAGjBA,GAAW,IAAM,wEAG5BW,GAAYX,GAAW,IAAM,wDAE7BY,GAAO9M,GAAM,IAAM,yDAGnB+M,GAActW,KAAKuW,MAAM3b,eAAeC,QAAQC,EAAQC,aAAagF,cAUrEyW,MATYF,MAAkC,QAApBG,EAAAH,GAAmB,aAAC,IAAAG,OAAA,EAApBA,EAAsBC,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAY6W,iBACpE,QADiFC,EACvGP,GAAqB,eAAC,IAAAO,OAAA,EAAtBA,EAAwBH,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYnD,UAC3C,QADiDka,EACvER,GAAqB,eAAC,IAAAQ,OAAA,EAAtBA,EAAwBJ,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYgX,qBACzC,QAD0DC,EAClFV,GAAuB,iBAAC,IAAAU,GAAxBA,EAA0BN,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYnD,WAC1C0Z,KAAwC,QAA7BW,EAAGX,GAAyB,mBAAC,IAAAW,GAA1BA,EAA4BP,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYmX,qBACvFZ,KAAwC,QAA7Ba,EAAGb,GAAyB,mBAAC,IAAAa,GAA1BA,EAA4BT,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYqX,mBAEpFd,KAAyC,QAA9Be,EAAGf,GAA0B,oBAAC,IAAAe,GAA3BA,EAA6BX,MAAMC,GAAQA,IAAO7b,EAAQiF,YAAYuX,uBAE1F,CACjBlY,GAAI,OACJmY,KAAM,IACN3Q,UAAWyP,GACXmB,SAAU,KACVC,QAAQ,IAGJC,GAAgB,CACpBtY,GAAI,aACJmY,KAAM,cACN3Q,UAAWwP,GACXoB,SAAU,KACVC,QAAQ,GAwGJE,IAjGGC,IAOAC,IAQAC,IA2CAF,IAQAG,IA+BU,CACjB3Y,GAAI,OACJmY,KAAM,QACNS,KAAMvR,IAAAC,cAACwP,GAAK,MACZuB,QAAQ,EACRD,SAAU,CACR,CACED,KAAM,gBACNzV,KAAM,UACN8E,UAAWiP,GAEb,CACE0B,KAAM,gBACNzV,KAAM,UACN8E,UAAWkP,IAEb,CACEyB,KAAM,wBACNzV,KAAM,kBACN8E,UAAWmP,IAEb,CACEwB,KAAM,2BACNzV,KAAM,iBACN8E,UAAWoP,IAEb,CACEuB,KAAM,YACNzV,KAAM,WACN8E,UAAWJ,IAEb,CACE+Q,KAAM,YACNzV,KAAM,WACN8E,UAAWqP,OAKXgC,GAAiB,CACrB7Y,GAAI,YACJmY,KAAM,aACN3Q,UAAWuP,GACX6B,KAAMvR,IAAAC,cAACqR,IAAQ,OAUJG,GAAY,CACvBR,GACAO,IAGWxS,GAAO,CAACkS,IAERQ,GAAU,CAdD,CAClBZ,KAAM,WACNzV,KAAM,UACN8E,UAAWyP,IAWwBG,IAExB,QACbkB,GACAO,I,gQC7MF,IAAIG,GAASC,GAAajT,QAAOkT,IAAUA,EAAMb,SAEjD,MAAMc,GAAU9R,IAAM+R,YAAW,CAACpS,EAAOqS,IACvChS,IAAAC,cAACgS,KAAahY,OAAAiY,OAAA,CAACC,SAAUH,GAASrS,MAG9ByS,GAAS9S,YAAO+S,KAAW;;;;;;EAQ3BC,GAAYhT,YAAOiT,KAAkB;;;EAKrCC,GAAOlT,YAAOmT,KAAS;EAGvBC,GAAQpT,IAAOI,GAAI;iBACRC,GAASA,EAAMC,MAAMJ,QAAQ;oBAC1BG,GAASA,EAAMC,MAAMJ,QAAQ;EAG3CmT,GAAQrT,YAAOsT,KAAU;eAChBjT,GAASA,EAAMC,MAAMyJ,WAAWa,GAAGV;iBACjC7J,GAASA,EAAMC,MAAMyJ,WAAWM;WACtChK,GAASA,EAAMC,MAAMmJ,QAAQJ,OAAOnI;;iBAE9Bb,GAASA,EAAMC,MAAMyJ,WAAWE;;kBAE/B5J,GAASA,EAAMC,MAAMJ,QAAQ;mBAC5BG,GAASA,EAAMC,MAAMJ,QAAQ;;;;IAI5CG,GAASA,EAAMC,MAAMC,YAAYC,GAAG;;;EAMlC+S,GAAWvT,YAAOsT,KAAU;iBACjBjT,GAASA,EAAMC,MAAMJ,QAAQ;oBAC1BG,GAASA,EAAMC,MAAMJ,QAAQ;kBAC/BG,GAASA,EAAMC,MAAMJ,QAAQ;mBAC5BG,GAASA,EAAMC,MAAMJ,QAAQ;iBAC/BG,GAASA,EAAMC,MAAMyJ,WAAWK;;;aAGpC/J,GAASA,EAAMC,MAAMmJ,QAAQvI;;;;;;;;;;;MAWpCb,GAASA,EAAMmT;;;eAGNnT,GAASA,EAAMC,MAAMmJ,QAAQvI;;;EAKtCuS,GAAezT,YAAO0T,KAAc;;;aAG7BrT,GAASA,EAAMC,MAAMmJ,QAAQvI;;;iBAGzBb,GAASA,EAAMC,MAAMJ,QAAQ;;EAIxCyT,GAAmB3T,YAAO4T,KAAY;WACjCvT,GAASwT,aAAKxT,EAAMC,MAAMmJ,QAAQvI,MAAO;EAG9C4S,GAAmB9T,YAAO+T,KAAY;WACjC1T,GAASwT,aAAKxT,EAAMC,MAAMmJ,QAAQvI,MAAO;EAG9CF,GAAOhB,YAAOsT,KAAU;kBACZjT,GAASA,EAAMC,MAAMJ,QAAQ;iBAC9BG,GAASA,EAAMC,MAAMJ,QAAQ;oBAC1BG,GAASA,EAAMC,MAAMJ,QAAQ;;;aAGpCG,GAASwT,aAAKxT,EAAMC,MAAMmJ,QAAQvI,MAAO;;;;;;;eAOvCb,GAASA,EAAMC,MAAMmJ,QAAQvI;;;;MAItCb,GAASA,EAAMmT;;;eAGNnT,GAASA,EAAMC,MAAMmJ,QAAQvI;;;EAKtC8S,GAAWhU,YAAO0T,KAAc;WAC3BrT,GAASA,EAAMC,MAAMmJ,QAAQvI;;;;;;EAQlC+S,GAAYjU,YAAOkU,KAAM;;iBAEd7T,GAASA,EAAMC,MAAMyJ,WAAWoK;;;;;;;;;aASpC9T,GAASA,EAAMC,MAAMmJ,QAAQK,MAAM5I;oBAC5Bb,GAASA,EAAMC,MAAMJ,QAAQ;qBAC5BG,GAASA,EAAMC,MAAMJ,QAAQ;;EAI5CkU,GAAgBpU,YAAOiU,GAAW;;EAIlCI,GAAiBrU,YAAOY,KAAY;WAC/BP,GAASA,EAAMC,MAAMmJ,QAAQvI;aAC3Bb,GAASA,EAAMC,MAAMJ,QAAQ;MACpCG,GAASA,EAAMC,MAAMJ,QAAQ,QAAQG,GAASA,EAAMC,MAAMJ,QAAQ;;;EAKlEoU,GAAgBtU,IAAOI,GAAI;aACpBC,GAASA,EAAMC,MAAMJ,QAAQ;MACpCG,GAASA,EAAMC,MAAMJ,QAAQ;;;;;;;;EAUnC,SAASqU,GAAe7Q,GAQpB,IARqB,KACvB3H,EAAI,KACJkW,EAAI,QACJuC,EAAO,OACPC,EAAM,cACNC,EAAa,MACb5K,KACG6K,GACJjR,EACC,OACEhD,IAAAC,cAAC4S,GAAaoB,EACX1C,EACDvR,IAAAC,cAAC8S,GAAY,KAAE1X,GACd2Y,EACCD,EACE/T,IAAAC,cAACmT,GAAgB,MAEjBpT,IAAAC,cAACgT,GAAgB,MAEjB,KACH7J,EAAQpJ,IAAAC,cAACyT,GAAa,CAACQ,MAAO9K,IAAY,GAGjD,CAIA,SAAS+K,GAAWC,GAAuC,IAAtC,KAAE/Y,EAAI,GAAEkF,EAAE,MAAE6I,EAAK,SAAEiL,GAAS,GAAOD,EACtD,OACEpU,IAAAC,cAACK,GAAI,CACHgK,QAAM,EACNgK,OAAK,EACLnU,UAAW2R,GACXyC,OAAK,EACLhU,GAAIA,EACJuS,gBAAgB,SAChBuB,SAAUA,GAEVrU,IAAAC,cAACqT,GAAQ,KAAEjY,GACV+N,EAAQpJ,IAAAC,cAACsT,GAAS,CAACW,MAAO9K,IAAY,GAG7C,CAEA,MAAMoL,WAAgBxU,IAAMwN,UAC1BC,YAAY9N,GACV+N,MAAM/N,GAAO,KAIf8U,OAASC,IAEPza,OAAO0M,KAAKgH,KAAKtQ,OAAOsX,SACtB5T,GACE4M,KAAKtQ,MAAMqX,IACX/G,KAAKK,UAAS,MACZ,CAACjN,IAAO,QAKd4M,KAAKK,UAAS3Q,IAAK,CACjB,CAACqX,IAASrX,EAAMqX,MACf,EAhBH/G,KAAKtQ,MAAQ,CAAC,CAChB,CAkBAuX,4BAEE,MAAMC,EAAWlH,KAAKhO,MAAM/K,SAASkgB,SAErCnD,GAAOgD,SAAQ,CAACI,EAAOL,KACrB,MAAMM,EAA4C,IAAjCH,EAASI,QAAQF,EAAMjE,MAClCiD,EAASgB,EAAMzY,KACf4Y,KAASH,EAAMI,cAA6B,MAAbN,GAErClH,KAAKK,UAAS,MACZ,CAAC0G,GAAQM,GAAYjB,GAAUmB,KAC9B,GAEP,CAGAjH,SACE,MAAM,QAAE6F,EAAO,cAAEsB,KAAkBC,GAAU1H,KAAKhO,MAUlD,OACEK,IAAAC,cAACmS,GAAMnY,OAAAiY,OAAA,CAAC1V,QAAQ,aAAgB6Y,GAC9BrV,IAAAC,cAAC0S,GAAK,KACJ3S,IAAAC,cAACiB,KAAI,CAACC,KAAMA,KAAMmU,QAAS,IAAKlU,MAAO,WAEzCpB,IAAAC,cAACqS,GAAS,KACRtS,IAAAC,cAACuS,GAAI,CAAC+C,gBAAc,GAClBvV,IAAAC,cAACyS,GAAK,KACHf,GAAOlT,KAAI,CAAC+W,EAAUd,IACrB1U,IAAAC,cAACD,IAAMyV,SAAQ,CAAChZ,IAAKiY,GAClBc,EAAS7M,OACR3I,IAAAC,cAAC0T,GAAc,KAAE6B,EAAS7M,QACxB,KAEH6M,EAASzE,SACR/Q,IAAAC,cAACD,IAAMyV,SAAQ,CAAChZ,IAAKiY,GACnB1U,IAAAC,cAAC4T,GAAe,CACdE,QAASpG,KAAKtQ,MAAMqX,GACpBV,eAAe,EACf3Y,KAAMma,EAAS7c,GACf4Y,KAAMiE,EAASjE,KACfjH,QAAQ,EACRtC,QAASA,IAAM2F,KAAK8G,OAAOC,KAG7B1U,IAAAC,cAACyV,KAAQ,CACPC,GAAIhI,KAAKtQ,MAAMqX,GACfkB,QAAQ,OACRC,eAAa,GAEZL,EAASzE,SAAStS,KAAI,CAACsW,EAAOL,IAC3BK,EAAM/D,OACF,KAENhR,IAAAC,cAACkU,GAAW,CACV1X,IAAKiY,EACLrZ,KAAM0Z,EAAM1Z,KACZkF,GAAIwU,EAAMjE,KACVS,KAAMwD,EAAMxD,KACZnI,MAAO2L,EAAM3L,MACbiL,SAAUU,EAAMV,eAMxBrU,IAAAC,cAAC4T,GAAe,CACdG,eAAe,EACf3Y,KAAMma,EAAS7c,GACf4H,GAAIiV,EAAS1E,KACbgC,gBAAgB,SAChB3S,UAAW2R,GACXP,KAAMiE,EAASjE,KACfgD,OAAK,EACLnL,MAAOoM,EAASpM,cAQ9BpJ,IAAAC,cAAC6V,KAAO,MACR9V,IAAAC,cAAC2T,GAAa,CAAC5L,QAASA,IAAM2F,KAAK8G,OAAO,KACxCzU,IAAAC,cAACS,KAAI,CAACC,WAAS,EAACnB,QAAS,GACvBQ,IAAAC,cAACS,KAAI,CAACK,MAAI,GACRf,IAAAC,cAAC8V,KAAM,CACLC,IAAK7hB,eAAeC,QAAQ,mBAC5B6hB,IAAI,qBACJjV,MAAO,CAACR,MAAO,UAAW6K,gBAAiB,cAG/CrL,IAAAC,cAACS,KAAI,CAACK,MAAI,GACRf,IAAAC,cAACC,KAAU,CAAC1D,QAAQ,SACjBrI,eAAeC,QAAQ,mBAAmB,IAAED,eAAeC,QAAQ,mBAEtE4L,IAAAC,cAACC,KAAU,CAAC1D,QAAQ,SACjBrI,eAAeC,QAAQ,cAG5B4L,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,IACbpM,IAAAC,cAACyV,KAAQ,CACPC,GAAIhI,KAAKtQ,MAAM,IACfuY,QAAQ,OACRC,eAAa,GAEb7V,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,IACbpM,IAAAC,cAACZ,KAAM,CACL6W,UAAWlW,IAAAC,cAACkW,KAAc,MAC1BnO,QAAUoO,GAAKC,aAAW,eAC1BhC,UAAWlgB,eAAeC,QAAQC,EAAQC,aAAaC,OACvD+hB,WAAS,EACTtV,MAAO,CAACuV,eAAgB,SACzB,eAIHvW,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,IACbpM,IAAAC,cAACZ,KAAM,CACL6W,UAAWlW,IAAAC,cAACuW,KAAa,MACzBxO,QAAUoO,IA3GxBK,KAAYC,SACZviB,eAAewiB,WAAWtiB,EAAQC,aAAaC,OAC/CJ,eAAewiB,WAAWtiB,EAAQC,aAAasiB,MAC/CziB,eAAewiB,WAAWtiB,EAAQC,aAAa8B,cAC/CigB,aAAW,kBAwGGhC,UAAWlgB,eAAeC,QAAQC,EAAQC,aAAaC,OACvD+hB,WAAS,EACTtV,MAAO,CAACuV,eAAgB,SACzB,WAIHvW,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,IACbpM,IAAAC,cAACC,KAAU,CAACc,MAAO,CAAC0J,UAAW,SAAS,YAC7BrW,EAAQwiB,cASnC,EAGaC,mBAAWtC,I,wCChaX,OAA0B,iCCkBzC,MAAMuC,GAASzX,YAAO0X,KAAW;;WAEtBrX,GAASA,EAAMC,MAAM+I,OAAOnI;;EAIjCyW,GAAkB3X,IAAOI,GAAI;;;IAG/BC,GAASA,EAAMC,MAAMC,YAAYC,GAAG;;;;EAMlCoB,GAAO5B,IAAO4X,GAAI;;;EAKlBC,GAAiB7X,IAAOI,GAAI;;;;EAiFnB0X,2BAAUC,aA3EVrU,IAAyB,IAAxB,eAAEsU,GAAgBtU,EAEhC,MAAOuU,EAAUC,GAAeC,mBAAS,MACnCC,EAAUC,cAQVC,EAAkBA,KACtBJ,EAAY,KAAK,EAOnB,OACExX,IAAAC,cAACD,IAAMyV,SAAQ,KACbzV,IAAAC,cAAC8W,GAAM,CAACc,SAAS,SAASC,UAAW,GACnC9X,IAAAC,cAACgX,GAAe,KAChBjX,IAAAC,cAAC8X,KAAO,KACN/X,IAAAC,cAACS,KAAI,CAACC,WAAS,EAACG,WAAW,SAASyV,eAAe,iBAEjDvW,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,EAAGzL,WAAS,EAAC4V,eAAe,QACzCvW,IAAAC,cAACiB,GAAI,CAAC+U,IAAK9U,GAAM6U,IAAI,cAIvBhW,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,EAAGzL,WAAS,EAAC4V,eAAe,YACzCvW,IAAAC,cAACkX,GAAc,KACbnX,IAAAC,cAACC,KAAU,CAAC1D,QAAQ,SAAQ,eAC5BwD,IAAAC,cAAC8V,KAAM,CACLC,IAAI,YACJC,IAAI,4BACJjO,QA/BQgQ,IACtBR,EAAYQ,EAAMC,cAAc,EA+BlBjX,MAAO,CAAEkX,OAAQ,cAKrBlY,IAAAC,cAACkY,KAAO,CACN7b,KAAM8b,QAAQb,GACdA,SAAUA,EACVc,QAAST,EACTU,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,UAEdE,WAAY,CACV1X,MAAO,CACL2X,SAAU,QACVrD,QAAS,UAIbtV,IAAAC,cAAC2Y,KAAQ,CAAC5Q,QAAS4P,GAAiB,WACpC5X,IAAAC,cAAC2Y,KAAQ,CAAC5Q,QAAS4P,GAAiB,YACpC5X,IAAAC,cAAC2Y,KAAQ,CAAC5Q,QAjDH6Q,KACnBnB,EAAQlU,KAAK,IAAI,GAgD4B,UAAiB,UAO7C,K,iDC7GrB,IAAIsV,GAAY,GA0CDC,OAxCEA,KACb,MAAMle,EAAWme,wBACX3c,EAAgB4c,uBAAY5b,GAASA,EAAMiB,cAAcjC,eAAiB,MAC1E,gBAAEvB,EAAe,cAAE8M,GAAkBsR,eAkC3C,OA5BAlZ,IAAMmZ,WAAU,KACZ9c,EAAcsY,SAAQ3R,IAAwD,IAAvD,IAAEvG,EAAG,QAAEX,EAAO,QAAE0L,EAAU,CAAC,EAAC,UAAEjL,GAAY,GAAOyG,EALpDrK,MAMZ4D,EAEAqL,EAAcnL,GAKdqc,GAAUvV,SAAS9G,KAGvB3B,EAAgBgB,EAAS,CACrBW,SACG+K,EACH6Q,QAASA,CAACL,EAAOoB,EAAQC,KACjB7R,EAAQ6Q,SACR7Q,EAAQ6Q,QAAQL,EAAOoB,EAAQC,EACnC,IAtBQ1gB,EA4BD8D,EA3BnBqc,GAAY,IAAIA,GAAWngB,GA2BJ,GACrB,GACH,CAAC0D,EAAeuL,EAAe9M,EAAiBD,IAE5C,IAAI,EC3BR,MAGDye,GAAcC,GAAkB;;;;;;;;kBAQpB5Z,GAASA,EAAMC,MAAMxE,KAAKwN;;;;;;;;EAUtCqE,GAAO3N,IAAOI,GAAI;;;EAKlB0S,GAAS9S,IAAOI,GAAI;IACtBC,GAASA,EAAMC,MAAMC,YAAYC,GAAG;;;EAKlC0Z,GAAala,IAAOI,GAAI;;;;EAMxB+Z,GAAQna,YAAOoa,KAAPpa,CAAiBE,MAEzBma,GAAcra,YAAOma,GAAO;;gBAElB9Z,GAASA,EAAMC,MAAMxE,KAAKwN;;IAEtCjJ,GAASA,EAAMC,MAAMC,YAAY+Z,KAAK;;;;IAItCja,GAASA,EAAMC,MAAMC,YAAYC,GAAG;;;;;;;;;;;;;;EAgBxC,MAAM+Z,WAAkB7Z,IAAMwN,UAAUC,cAAA,SAAAnQ,WAAA,KACtCD,MAAQ,CACNyc,YAAY,GACZ,KAEFC,mBAAqB,KACnBpM,KAAKK,UAAS3Q,IAAK,CAAOyc,YAAazc,EAAMyc,cAAc,CAC3D,CAEF7L,SACE,MAAM,SAAE8C,EAAQ,OAAEY,GAAWhE,KAAKhO,MAElC,OACEK,IAAAC,cAACgN,GAAI,KACHjN,IAAAC,cAAC8Y,GAAQ,MACT/Y,IAAAC,cAAC+Z,KAAW,MACZha,IAAAC,cAACqZ,GAAW,MACZtZ,IAAAC,cAACmS,GAAM,KACHpS,IAAAC,cAACuU,GAAO,CACN7C,OAAQA,EACR+G,WAAY,CAAE1X,MAAO,CAAEI,MAAO,QAC9B5E,QAAQ,YACRF,KAAMqR,KAAKtQ,MAAMyc,WACjBzB,QAAS1K,KAAKoM,sBAGpB/Z,IAAAC,cAACuZ,GAAU,KACTxZ,IAAAC,cAACga,GAAM,CAAC3C,eAAgB3J,KAAKoM,qBAC7B/Z,IAAAC,cAAC0Z,GAAW,CAACO,EAAG,IACbnJ,IAKX,EAUaqG,0BAPS+C,CAAC9c,EAAOsC,KAAK,CACnCya,SAAU/c,EAAMiB,cAAcjC,kBAELxB,IAAQ,CACjC+M,cAAgByS,GAAWxf,EAAS+M,aAAcyS,OAGrCjD,CAA6CyC,IC1H5D,MAAMP,GAAcC,GAAkB;;;;;;;;;;;;;;;;EAkBhCtM,GAAO3N,IAAOI,GAAI;;;;;;;;;EA4BT4a,OAjBf,SAAatX,GAAgB,IAAf,SAAE+N,GAAU/N,EACxB,OACEhD,IAAAC,cAACgN,GAAI,KACHjN,IAAAC,cAACqZ,GAAW,MACZtZ,IAAAC,cAACS,KAAI,CACHC,WAAS,EACT4V,eAAe,aACfzV,WAAW,cAEXd,IAAAC,cAACS,KAAI,CAACK,MAAI,EAACqL,GAAI,IACZ2E,IAKX,E,8BChDe,OAA0B,wCCKzC,MAAMuI,GAAcC,GAAkB;;;;;;;EAyEvBgB,OAhEf,SAAgBvX,GAAgB,IAAf,SAAE+N,GAAU/N,EAC3B,OACEhD,IAAAC,cAACD,IAAMyV,SAAQ,KACbzV,IAAAC,cAAC+Z,KAAW,MACZha,IAAAC,cAACqZ,GAAW,MAGZtZ,IAAAC,cAACua,KAAG,CAACC,GAAI,CACP5C,SAAU,WACV6C,IAAK,EACL9O,KAAM,EACNxK,MAAO,OACP4J,OAAQ,OACR2P,SAAU,SACVC,QAAS,OAET5a,IAAAC,cAAA,SACEgW,IAAI,uEACJ4E,MAAI,EACJC,UAAQ,EACRC,OAAK,EACLC,aAAW,EACXha,MAAO,CACLI,MAAO,OACP4J,OAAQ,OACRiQ,UAAW,QACXC,eAAgB,cAMrBnK,EAED/Q,IAAAC,cAACua,KAAG,CACFC,GAAI,CACFU,GAAI,EACJC,UAAW,SACXvD,SAAU,WACV+C,OAAQ,EACRS,QAAS,6BAGXrb,IAAAC,cAACqb,KAAS,KACRtb,IAAAC,cAAA,OACEgW,IAAK9U,GACL6U,IAAI,OACJhV,MAAO,CACLI,MAAO,OACP4J,OAAQ,OACRO,aAAc,UAGlBvL,IAAAC,cAACC,KAAU,CAAC1D,QAAQ,UAAU2D,UAAU,KAAI,2BAE1CH,IAAAC,cAAA,WAAM,gBACND,IAAAC,cAACK,KAAI,CAACzL,KAAK,wBAAuB,kBAM9C,E,UClEA,MAAM0mB,GAAcA,CAACC,EAAQ7J,IAC3BA,EAAOlT,KAAI,CAAAuE,EAA2C0R,KAAK,IAA/C,SAAE3D,EAAQ,KAAED,EAAM3Q,UAAWqN,GAAWxK,EAAA,OAClD+N,EAEEA,EAAStS,KAAI,CAAA2V,EAAiCM,KAAK,IAArC,KAAE5D,EAAM3Q,UAAWqN,GAAW4G,EAAA,OAC1CpU,IAAAC,cAACwb,IAAK,CACJhf,IAAKiY,EACL5D,KAAMA,EACNyD,OAAK,EACLtG,OAAQtO,GACNK,IAAAC,cAACub,EAAM,KACLxb,IAAAC,cAACuN,EAAc7N,KAGnB,IAIJK,IAAAC,cAACwb,IAAK,CACJhf,IAAKiY,EACL5D,KAAMA,EACNyD,OAAK,EACLtG,OAAQtO,GACNK,IAAAC,cAACub,EAAM,KACLxb,IAAAC,cAACuN,EAAc7N,KAItB,IA2BU+b,OAxBAA,IACb1b,IAAAC,cAAC0b,IAAM,KAEJJ,GAAYK,GAAiBC,IAG7BN,GAAYO,GAAY5K,IAGxBqK,GAAYQ,GAAeC,IAG5Bhc,IAAAC,cAACgc,WAAQ,CAACC,SAAUlc,IAAAC,cAAA,WAAK,eACvBD,IAAAC,cAACwb,IAAK,CACJxN,OAAQA,IACNjO,IAAAC,cAAC6b,GAAU,KACT9b,IAAAC,cAACF,WAAO,W,UCzCpB,MAiBMoc,GAAe/E,mBAAQxc,IAAK,CAAOgF,MAAOhF,EAAMgE,gBAAjCwY,EAjBTpU,IAAgB,IAAf,MAAEpD,GAAOoD,EACpB,OACEhD,IAAAC,cAACmc,IAAc,CAACC,aAAW,GACzBrc,IAAAC,cAACqc,IAAuB,CAACC,MAAOC,KAC9Bxc,IAAAC,cAACwc,IAAgB,CAAC7c,MAAO8c,EAAQ9c,EAAMf,eACrCmB,IAAAC,cAAC0c,IAAa,CAAC/c,MAAO8c,EAAQ9c,EAAMf,eAClCmB,IAAAC,cAAC2c,KAAe,KACf5c,IAAAC,cAAC4c,KAAgB,CAACC,SAAU,GAC3B9c,IAAAC,cAACyb,GAAM,WAMA,IAaNqB,OARf,WACE,OACE/c,IAAAC,cAAC+c,KAAM,CAACC,SAAUlkB,UAChBiH,IAAAC,cAACkc,GAAY,MAGnB,E,SC/BAe,IAASjP,OACPjO,IAAAC,cAACkd,WAAQ,CAACviB,MAAOA,MACfoF,IAAAC,cAACmd,GAAG,OACOC,SAASC,eAAe,Q,kCCbvC,8EAMO,SAAS3jB,EAAYhD,EAAOmF,GAAU,IAADyhB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACxC,GAAS,OAALpnB,QAAK,IAALA,GAAe,QAAV4mB,EAAL5mB,EAAOF,gBAAQ,IAAA8mB,GAAM,QAANC,EAAfD,EAAiB9jB,YAAI,IAAA+jB,GAAS,QAATC,EAArBD,EAAuB1hB,eAAO,IAAA2hB,GAA9BA,EAAgCla,SAAS,6BAAoC,OAAL5M,QAAK,IAALA,GAAe,QAAV+mB,EAAL/mB,EAAOF,gBAAQ,IAAAinB,GAAM,QAANC,EAAfD,EAAiBjkB,YAAI,IAAAkkB,GAAS,QAATC,EAArBD,EAAuB7hB,eAAO,IAAA8hB,GAA9BA,EAAgCra,SAAS,mBACnHkT,IAAYC,SACZL,YAAW,iBACXzb,IAAMC,SAASC,YAAgBoN,YAAa,iDAEzC,IAAQ,OAALvR,QAAK,IAALA,GAAe,QAAVknB,EAALlnB,EAAOF,gBAAQ,IAAAonB,GAAM,QAANC,EAAfD,EAAiBpkB,YAAI,IAAAqkB,GAAS,QAATC,EAArBD,EAAuBhiB,eAAO,IAAAiiB,GAA9BA,EAAgCxa,SAAS,iBAE/C,OADA3I,IAAMC,SAASC,YAAgBoN,YAAa,mBACrCvR,EAAMF,SAEV,IAADunB,EAAAC,EACFrjB,IAAMC,SAASC,YAAgBoN,YAAapM,IAAgB,OAALnF,QAAK,IAALA,GAAe,QAAVqnB,EAALrnB,EAAOF,gBAAQ,IAAAunB,GAAM,QAANC,EAAfD,EAAiBvkB,YAAI,IAAAwkB,OAAhB,EAALA,EAAuBniB,WAChF,CACJ,C,kCClBO,SAASua,EAAWvF,GACzBnc,OAAOC,SAAWkc,CACpB,CAFA,iC,o6FCDA,sDAEO,MAAM5P,EAAO8B,IAA0C,IAAzC,KAAC7B,EAAI,MAAEC,EAAK,QAAEkU,EAAO,YAAE4I,GAAYlb,EACtD,OAAOhD,IAAAC,cAAA,OAAKgW,IAAK9U,EAAM6U,IAAI,OAAOhV,MAAO,CAACsU,QAASA,EAAS6I,SAAU/c,EAAOA,MAAO,UAAW8c,IAAe,C,sKCiBzG,MAAMzH,EAAc,CAEzB2H,aAAc,WACZ,MAAMC,EAAWhB,SAASC,eAAe,SAASja,MAC5C3H,EAAW2hB,SAASC,eAAe,YAAYja,MACrDoT,EAAY6H,MAAMD,EAAS3iB,EAC7B,EAEA4iB,MAAO,SAAUD,EAAS3iB,GACxBd,IAAMC,SCAD,CACL6C,KAAMa,MDAN,IAAIggB,EAAM,IAAIC,eACdD,EAAIjiB,KAAK,OAAQhH,IAAKC,KAAK,GAE3BgpB,EAAIE,iBAAiBpqB,EAAQqqB,cAAcC,UACtBtqB,EAAQ6E,eAAe0lB,OAE5CL,EAAIE,iBAAiBpqB,EAAQqqB,cAAcG,cACtBxqB,EAAQ6E,eAAe4lB,MAAQ,IAxBxD,SAA0Bjd,GACxB,MACMpI,GADU,IAAIslB,aACCC,OAAOnd,GAE5B,OADeod,KAAKC,OAAOC,aAAaC,MAAM,KAAM3lB,GAEtD,CAmB8D4lB,CAAkB,GAAEhB,KAAY3iB,MAE1F6iB,EAAIE,iBAAiBpqB,EAAQqqB,cAAcY,WACtB,KAErBf,EAAIvlB,aAAe,OAEnBulB,EAAIgB,mBAAqB,WACrB,GAAuB,IAAnBhB,EAAIiB,WAAkB,CAAC,IAADC,EACvB,GAA+B,QAAd,QAAbA,EAAA9R,KAAKlX,gBAAQ,IAAAgpB,OAAA,EAAbA,EAAe3jB,SAkBhB,MADAlB,IAAMC,UC7BSlE,ED6BagX,KAAKlX,SC5BtC,CACLiH,KAAMa,IACNQ,QAASpI,KD2BOgX,KAAKlX,SAjBXzC,IAAMc,SAAS6Y,KAAKlX,SAASgD,KAAY,OACzCtF,eAAegB,QAAQd,EAAQC,aAAasiB,KAAKyH,GACjDlqB,eAAegB,QAAQd,EAAQC,aAAa8B,QAAQuX,KAAKlX,SAASgD,KAAS,IAC3EtF,eAAegB,QAAQd,EAAQC,aAAaorB,WAAW/R,KAAKlX,SAASgD,KAAY,OACjFtF,eAAegB,QAAQd,EAAQC,aAAaqrB,WAAWhS,KAAKlX,SAASgD,KAAY,OAElFhB,IAAmBC,eACjB,EACAiV,KAAKlX,SAASgD,KAAS,GACvBkU,KAAKlX,SAASgD,KAAY,OAC1BJ,MAAMwU,IACJjT,IAAMC,SCvDd,CACL6C,KAAMa,MDuDO8X,YAAW,IAAI,GAOxB,CChCD,IAAsB1f,CDiCzB,EAEA4nB,EAAIqB,KAAK,KAEX,EACAlJ,OAAQ,WACNviB,eAAe0rB,QACf,IAAIC,EAAWzrB,EAAQ4B,UAAUK,YAAYypB,OAAS,KACtD,OAAOvqB,IAAI4D,KAAK0mB,GAAUzmB,MAAM5C,GACvBA,IAEJiD,OAAO/C,IACJiE,IAAMC,SAASC,YAAgBoN,YAAatO,EAAiBjD,MAAMqI,KAAK0X,SAAS,GAEzF,EACFsJ,wBAAyB,SAASvmB,GAIhC,GAAqB,OAAjBA,EAAKqC,QAGL,YAFAuhB,SAASC,eAAe,iBAAiB2C,UAAYxmB,EAAKqC,SAK9D,IAAIokB,EAAQzmB,EAAKA,KACb0mB,EAAY,GAChB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAM3iB,OAAQ6iB,IAAI,CAClC,IAAIC,EAAO,CAAC,EACZA,EAAKhsB,EAAQisB,UAAUC,MAASL,EAAME,GAAqB,iBAC3DC,EAAKhsB,EAAQisB,UAAUE,IAASN,EAAME,GAAU,MAChDD,EAAU3c,KAAK6c,EACnB,CAEAlsB,eAAegB,QAAQd,EAAQC,aAAamsB,kBAAkBlnB,KAAKC,UAAU2mB,IAI7ExrB,OAAOC,SAASC,KAAO,YAEzB,EACA6rB,cAAe,SAASrG,GACtB,IAAIyF,EAAWzrB,EAAQ4B,UAAUK,YAAYqqB,WAAa,KAG1D,MAAMC,EAAW3mB,OAAO4mB,YAAY5mB,OAAO6mB,QAAQzG,GAAQ1b,QAAOqE,IAAA,IAAE+d,EAAEC,GAAEhe,EAAA,OAAS,OAAJge,CAAQ,KAErF,OAAOxrB,IAAI4D,KAAK0mB,EAAUc,GAAUvnB,MAAM5C,IACxCmE,IAAMC,SAASC,YAAgBC,YAAenB,EAAiBoB,QAAQimB,QAAQ7nB,QAC5EwnB,EAAe,MAChBzsB,eAAegB,QAAQd,EAAQC,aAAaorB,WAAWkB,EAAe,MAErEA,EAAmB,UACpBzsB,eAAegB,QAAQd,EAAQC,aAAaqrB,WAAWiB,EAAmB,UAE5EvK,YAAW,KACJ5f,KACNiD,OAAO/C,IACNiE,IAAMC,SAASC,YAAgBoN,YAAatO,EAAiBjD,MAAMsqB,QAAQ7nB,OAAO,GAExF,EACA8nB,uBAAwB,SAAS5mB,GAC/B,IAAIwlB,EAAWzrB,EAAQ4B,UAAUK,YAAY6qB,eAAiB,IAAM7mB,EACpE,OAAO9E,IAAI4D,KAAK0mB,GAAUzmB,MAAM5C,GACvBA,EAASgD,KAAKqC,UACpBpC,OAAO/C,GACDA,EAAMF,SAASgD,KAAKqC,SAE/B,EACAslB,cAAe,SAASzoB,EAAG5D,EAAM2G,GAC/B,IAAIokB,EAAWzrB,EAAQ4B,UAAUK,YAAY6qB,eAAiB,IAAMxoB,EAAK,QAAU5D,EACnF,OAAOS,IAAI4D,KAAK0mB,EAAU,CAACpkB,SAAUA,IAAWrC,MAAM5C,GAC7CA,EAASgD,KAAKqC,UACpBpC,OAAO/C,IACNiE,IAAMC,SAASC,YAAgBoN,YAAatO,EAAiBjD,MAAMsqB,QAAQG,iBACpEzqB,EAAMF,SAASgD,KAAKqC,UAEjC,E,kCEhJa,QAA0B,iC","file":"static/js/main.dc82abff.chunk.js","sourcesContent":["/*// This will be the name space for any global constants or variables.\n\n// Keys for sessionStorage.\nGLOBALS.SESSION_KEYS = {};\nGLOBALS.SESSION_KEYS.EXPIRATION_TIME   = \"expiration_time\"\nGLOBALS.SESSION_KEYS.EXPIRATION_DATE   = \"expiration_date\"\nGLOBALS.SESSION_KEYS.API               = \"api\"\nGLOBALS.SESSION_KEYS.USER              = \"username\"\nGLOBALS.SESSION_KEYS.USER_ID           = \"user_id\"\nGLOBALS.SESSION_KEYS.USER_FNAME        = \"user_first_name\"\nGLOBALS.SESSION_KEYS.USER_LNAME        = \"user_last_name\"\nGLOBALS.SESSION_KEYS.TOKEN             = \"token\"\nGLOBALS.SESSION_KEYS.USER_INSTITUTIONS = \"user_institutions\"\nGLOBALS.SESSION_KEYS.PERMISSIIONS      = \"permissions\";\n\n// Permissions keys\nGLOBALS.PERMISSIIONS = {};\nGLOBALS.PERMISSIIONS.SEE_ALL_OWN_INST  = \"see_all_own_institution\";\nGLOBALS.PERMISSIIONS.SEE_MED_RECS      = \"load_medical_records\";\nGLOBALS.PERMISSIIONS.SEE_ADMIN_PANEL   = \"admin_dashboard\";\n\n// Simple comunicating between pages.\nGLOBALS.PAGE_COMM = {}\nGLOBALS.PAGE_COMM.SELECTED_INSTITUTION_ID   = \"selected_institution\";\nGLOBALS.PAGE_COMM.SELECTED_INSTITUTION_NAME = \"selected_institution_name\";\nGLOBALS.PAGE_COMM.SELECTED_SUBJECT          = \"selected_subject\";\nGLOBALS.PAGE_COMM.SELECTED_REPORT           = \"selected_report\";\nGLOBALS.PAGE_COMM.SELECTED_PDF              = \"selected_PDF\";\nGLOBALS.PAGE_COMM.SELECTED_MEDREC           = \"selected_medical_record\"\n\n// For accessing the inst construct.\nGLOBALS.INST_LIST = {};\nGLOBALS.INST_LIST.NAME = \"name\";\nGLOBALS.INST_LIST.ID   = \"id\";\n\n// Values for the headers used.\nGLOBALS.HEADERS_VALUES =  {}\nGLOBALS.HEADERS_VALUES.PARTNER = \"VMPartner\"\nGLOBALS.HEADERS_VALUES.LOGIN   = \"Login\"\nGLOBALS.HEADERS_VALUES.BASIC   = \"Basic\"\n\n// The names of the actual headers\nGLOBALS.HEADERS_NAMES = {}\nGLOBALS.HEADERS_NAMES.AUTHORIZATION = \"Authorization\"\nGLOBALS.HEADERS_NAMES.AUTH_TYPE = \"AuthType\"\n\n// The endpoitns to be used.\nGLOBALS.ENDPOINTS = {}\nGLOBALS.ENDPOINTS.INSTITUTION = {}\nGLOBALS.ENDPOINTS.INSTITUTION.LIST = \"institution/list\";\nGLOBALS.ENDPOINTS.REPORTS = {}\nGLOBALS.ENDPOINTS.REPORTS.LIST = \"reports/list\";\nGLOBALS.ENDPOINTS.REPORTS.GET  = \"reports/get\";\nGLOBALS.ENDPOINTS.REPORTS.LIST_INST = \"reports/list_all_own_institution\";\nGLOBALS.ENDPOINTS.REPORTS.GET_INST  = \"reports/get_own_institution\";\nGLOBALS.ENDPOINTS.REPORTS.ALL_EVALS  = \"reports/admin_evaluation_list\";\nGLOBALS.ENDPOINTS.SUBJECT = {}\nGLOBALS.ENDPOINTS.SUBJECT.LIST = \"subjects/list\";\nGLOBALS.ENDPOINTS.SUBJECT.LIST_INST = \"subjects/list_all_own_institution\";\nGLOBALS.ENDPOINTS.PORTAL_USER = {};\nGLOBALS.ENDPOINTS.PORTAL_USER.MODIFY_OWN = \"portal_users/modify_own\"\nGLOBALS.ENDPOINTS.PORTAL_USER.LOGOUT = \"portal_users/logout\"\nGLOBALS.ENDPOINTS.MEDRECORDS = {}\nGLOBALS.ENDPOINTS.MEDRECORDS.MODIFY = \"medical_record/modify\"\nGLOBALS.ENDPOINTS.MEDRECORDS.LIST = \"medical_record/list\"\nGLOBALS.ENDPOINTS.MEDRECORDS.GET = \"medical_record/get\"\nGLOBALS.URLPARAMS = {}\nGLOBALS.URLPARAMS.SUBJECT = {}\nGLOBALS.URLPARAMS.SUBJECT.PORTAL_USER = \"pp\";\n\n// The HTML Elements that will be commonly accessed by all the JS scripts.\nGLOBALS.HTML = {}\nGLOBALS.HTML.WAIT_DIALOG = {}\nGLOBALS.HTML.WAIT_DIALOG.TEXT = \"waitDialogText\"\nGLOBALS.HTML.WAIT_DIALOG.MODAL = \"waitDialog\"\nGLOBALS.HTML.ERROR_DIALOG = {}\nGLOBALS.HTML.ERROR_DIALOG.MODAL = \"errorDialog\";\nGLOBALS.HTML.ERROR_DIALOG.TITLE = \"errorTitle\";\nGLOBALS.HTML.ERROR_DIALOG.TEXT  = \"errorMainBody\";\nGLOBALS.HTML.LANG_SELECT_DIAG = {}\nGLOBALS.HTML.LANG_SELECT_DIAG.MODAL = \"langReportSelectDialog\"\nGLOBALS.HTML.LANG_SELECT_DIAG.LANG_SELECT = \"language_select\"\nGLOBALS.HTML.LANG_SELECT_DIAG.FOOTER = \"lang_select_footer\"\nGLOBALS.HTML.USERNAME = \"display_user_name\";\nGLOBALS.HTML.NAV_INST_LIST = \"side_bar_institution_list\";\nGLOBALS.HTML.MEDREC_INST_LIST = \"side_bar_med_record_institution_list\"\nGLOBALS.HTML.MAIN = {}\nGLOBALS.HTML.MAIN.TITLE    = \"main_title\";\nGLOBALS.HTML.MAIN.CONTENTS = \"main_contents\";\nGLOBALS.HTML.MAIN.TABLE    = \"main_table\";\nGLOBALS.HTML.MAIN.TRAIL    = \"main_trail\";\nGLOBALS.HTML.MEDREC_SIDE_MENU = \"side_bar_medrecs\";\nGLOBALS.HTML.ADMIN_PANEL   = \"admin_dashboard_panel\";\n\n// The Routing Constants.\nGLOBALS.ROUTING = {}\nGLOBALS.ROUTING.PARAMS = {}\nGLOBALS.ROUTING.PARAMS.GOTO  = \"goto\"\nGLOBALS.ROUTING.PARAMS.ID    = \"id\"\nGLOBALS.ROUTING.PAGES = {};\nGLOBALS.ROUTING.PAGES.INSTITUTION  = \"institution\";\nGLOBALS.ROUTING.PAGES.SUBJECTS     = \"subjects\";\nGLOBALS.ROUTING.PAGES.REPORTS      = \"reports\";\nGLOBALS.ROUTING.PAGES.MEDRECS      = \"medrecs\";\nGLOBALS.ROUTING.PAGES.USER_ACCOUNT = \"myaccount\";\nGLOBALS.ROUTING.PAGES.MEDRECEDIT   = \"medrecedit\";\nGLOBALS.ROUTING.PAGES.ADMINEVAL    = \"admineval\";\n\n// Directory Map For Report Resources.\nGLOBALS.REPRESMAP = {}\nGLOBALS.REPRESMAP[\"Go No-Go\"] = \"GoNoGo\";\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Gets global values from server.\nfunction getConfigurationFromServer(){\n\n   //var item = sessionStorage.getItem(\"something\");\n   //console.log(\"ITEM is: \" + item);\n\n   var xhr = new XMLHttpRequest();\n   xhr.open('POST', \"php/config.php\", true);\n   xhr.responseType = \"json\";\n   xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n         sessionStorage.setItem(GLOBALS.SESSION_KEYS.API ,this.response.API);\n         sessionStorage.setItem(GLOBALS.SESSION_KEYS.EXPIRATION_TIME,this.response.EXPIRATION_TIME);\n      }\n   };\n   xhr.send(null);\n}\n\n// If the global values have not been loaded, they are.\nfunction checkConfig(force){\n   if (force === undefined) force = false;\n   if ((sessionStorage.getItem(GLOBALS.SESSION_KEYS.API ) === null) || (force)){\n      getConfigurationFromServer();\n   }\n}\n*/\nimport GLOBALS from './GLOBALS'\n\n/// Token management is encapsulated within these three function so that it may replaced easily in the future.\nexport const Token = {\n\n   checkLogIn: function(){\n      var ret = true;\n\n      if (sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN) !== null){\n         //console.log(\"Checking date for current token\");\n         var now = new Date();\n         var expiry = new Date(sessionStorage.getItem(GLOBALS.SESSION_KEYS.EXPIRATION_DATE));\n         //console.log(\"Comparing NOW: \" + now.toString() + \" to EXP: \" + expiry.toString())\n         if (expiry > now) ret = false;\n         else ret = true;\n      }\n      else {\n         //console.log(\"TOKEN not set\")\n         ret = true;\n      }\n      if (ret) window.location.href = \"login.html\";\n   },\n\n   setToken: function (token){\n      let minutes = 60;\n      //console.log(\"Adding \" + minutes + \" minutes\");\n      let dt = new Date();\n      //console.log(\"Current date: \" + dt.toString());\n      dt.setMinutes( dt.getMinutes() + minutes);\n      //console.log(\"Expiration: \"  + dt.toString());\n      sessionStorage.setItem(GLOBALS.SESSION_KEYS.TOKEN,token);\n      sessionStorage.setItem(GLOBALS.SESSION_KEYS.EXPIRATION_DATE,dt.toString())\n      //console.log(\"SET EXPIRY TO: \"  + dt.toString());\n   },\n\n   getToken: function(){\n      return sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN);\n   }\n\n}\n/*\n/// Wait Dialog In case We neeed it.\nvar WaitDialog = {\n\n   modal: undefined,\n\n   init: function(){\n      var myModal = document.getElementById(GLOBALS.HTML.WAIT_DIALOG.MODAL);\n      this.modal = new bootstrap.Modal(myModal);\n   },\n\n   open: function(title){\n      document.getElementById(GLOBALS.HTML.WAIT_DIALOG.TEXT).innerHTML = title;\n      this.modal.show();\n   },\n\n   close: function() {\n      //var myModal = document.getElementById(GLOBALS.HTML.WAIT_DIALOG.MODAL);\n      //var modal = new bootstrap.Modal(myModal);\n      this.modal.hide();\n   }\n\n}\n\nfunction noSpecialCharsInput(input){\n\n   var chars_to_check = \"[&/\\\\#,+()!$~%.'\\\":*?<>{}_]/\";\n\n   console.log(\"Checking the input of \" + input);\n\n   for (var i = 0; i < chars_to_check.length; i++){\n      var c = chars_to_check.charAt(i);\n      if (input.includes(c)){\n         console.log(\"Invalid character found: \" + c);\n         return false;\n      }\n   }\n\n   return true;\n\n}\n\n/// Error dialog. Will show when an error occurs with the simplified server message.\nvar ErrorDialog  = {\n\n   modal: undefined,\n\n   init: function(){\n      var myModal = document.getElementById(GLOBALS.HTML.ERROR_DIALOG.MODAL);\n      this.modal = new bootstrap.Modal(myModal);\n   },\n\n   open: function (title, text){\n      document.getElementById(GLOBALS.HTML.ERROR_DIALOG.TITLE).innerHTML = title;\n      document.getElementById(GLOBALS.HTML.ERROR_DIALOG.TEXT).innerHTML = \"<p>\" + text + \"</p>\";\n      this.modal.show();\n   },\n\n   close: function(){\n      this.modal.hide();\n   }\n\n}\n\n/// Code for opening and closing The Side Bar.\nwindow.addEventListener('DOMContentLoaded', event => {\n   // Toggle the side navigation\n   const sidebarToggle = document.body.querySelector('#sidebarToggle');\n   if (sidebarToggle) {\n       sidebarToggle.addEventListener('click', event => {\n           event.preventDefault();\n           document.body.classList.toggle('sb-sidenav-toggled');\n           localStorage.setItem('sb|sidebar-toggle', document.body.classList.contains('sb-sidenav-toggled'));\n       });\n   }\n});\n\n/// Code for listing the institutions in the side bar.\nfunction generateSideBarInstitutionList(){\n\n   //console.log(\"GENERATE SIDE BAR INST\");\n\n   var inst_list = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS);\n   inst_list = JSON.parse(inst_list);\n   if (inst_list == null) return;\n   if (inst_list.length < 1) return;\n\n   //console.log(JSON.stringify(inst_list));\n\n   var html  = \"\"; // For Subject List for Reports.\n   var html2 = \"\"; // For Medical Record List.\n\n   for (var i = 0; i < inst_list.length; i++){\n\n      html = html + '<a class = \"nav-link\" style = \"cursor:pointer\" onclick = \"goToInstitution(\\''\n      + inst_list[i][GLOBALS.INST_LIST.ID] + '\\',\\'' + GLOBALS.ROUTING.PAGES.SUBJECTS  + '\\')\" >'\n      + inst_list[i][GLOBALS.INST_LIST.NAME]  + '</a>\\n'\n\n      html2 = html2 + '<a class = \"nav-link\" style = \"cursor:pointer\" onclick = \"goToInstitution(\\''\n      + inst_list[i][GLOBALS.INST_LIST.ID] + '\\',\\'' + GLOBALS.ROUTING.PAGES.MEDRECS  + '\\')\" >'\n      + inst_list[i][GLOBALS.INST_LIST.NAME]  + '</a>\\n'\n\n   }\n   document.getElementById(GLOBALS.HTML.NAV_INST_LIST).innerHTML = html;\n   document.getElementById(GLOBALS.HTML.MEDREC_INST_LIST).innerHTML = html2;\n}\n\n/// Code to switch to the subject list of a particular institution.\nfunction goToInstitution(id,what_view){\n\n   var list = JSON.parse(sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS));\n   institution_name = \"\";\n   for (i in list){\n      if (list[i][GLOBALS.INST_LIST.ID] == id){\n         institution_name = list[i][GLOBALS.INST_LIST.NAME]\n      }\n   }\n\n   sessionStorage.setItem(GLOBALS.PAGE_COMM.SELECTED_INSTITUTION_ID,id);\n   sessionStorage.setItem(GLOBALS.PAGE_COMM.SELECTED_INSTITUTION_NAME,institution_name);\n\n   window.location.href = \"index.html?\" + GLOBALS.ROUTING.PARAMS.GOTO + \"=\" + what_view;\n}\n\n\n/// Code for building a generic table as the main element of the page.\n/**\n *\n * @param {\n *    JSON containing the following fields:\n *    - title: The name of the table.\n *    - column_list: The name of each column as it is displayed. Also this will be the name of the key in the data array.\n *    - data: The data array. It's a list composed of as many elements as there are rows. Each element is a JSON array containing the value assocciated with each column name.\n *    - gotoFunction: When a row is double clicked this function will be called passing as an only parameter the value of the unique_id for that row.\n *    - unique_id: The column that contains the unique_id for the row. Needs to be part of the column_list as well as be in each array of the data structure.\n *    - show_unique: Boolean. If false the unique_id column will be skipped.\n *    - container: String. If it exists, then this is the container (div) where the table will be put.\n * } table\n */\n\n/*\nfunction buildTable(table){\n\n   var html = '\\\n   <div class=\"card mb-4\">\\\n      <div class=\"card-header vm-gray\">\\\n         <i class=\"fas fa-table me-1\"></i>\\\n         ##TABLE_NAME##\\\n      </div>\\\n      <div class=\"card-body\">\\\n         <table id = \"##TABLE_ID##\">\\\n         <thead>\\\n             <tr>\\\n               ##COLUMNLIST##\\\n             </tr>\\\n         </thead>\\\n         <tfoot>\\\n             <tr>\\\n               ##COLUMNLIST##\\\n             </tr>\\\n         </tfoot>\\\n         <tbody>\\\n            ##TABLE_BODY##\\\n         </tbody>\\\n         </table>\\\n      </div>\\\n   </div>';\n\n   // Checking that everything is there.\n   if (!(\"title\" in table)){\n      table.title = \"Unnamed table\";\n   }\n\n   if (!(\"data\" in table)){\n      console.log(\"BUILD TABLE: No data. Exiting\");\n      return;\n   }\n   else{\n      if (table.data.length < 1){\n         console.log(\"BUILD TABLE: Empty data. Exiting\");\n      }\n   }\n\n   if (!(\"column_list\" in table)){\n      console.log(\"BUILD TABLE: Column list. Exiting\");\n      return;\n   }\n\n   if (\"unique_id\" in table){\n      if (!(\"show_unique\" in table)){\n         table.show_unique = false;\n      }\n   }\n   else{\n      table.unique_id = \"\";\n      table.show_unique = false;\n   }\n\n   if (!(\"gotoFunction\" in table)){\n      table.gotoFunction = \"\";\n   }\n\n   // Setting the table name and ID.\n   html = html.replace(\"##TABLE_NAME##\",table.title);\n   html = html.replace(\"##TABLE_ID##\",GLOBALS.HTML.MAIN.TABLE);\n\n   // Building the column list.\n   var html_col_list = \"\";\n   for (var i = 0; i < table.column_list.length; i++){\n\n      // If the this is the unique id column and we are not supposed to show it, we move on.\n      if ((table.column_list[i] == table.unique_id) && (!table.show_unique)) continue;\n\n      html_col_list = html_col_list + \"<th>\" + table.column_list[i] + \"</th>\\n\";\n   }\n\n   html = html.replace(\"##COLUMNLIST##\",html_col_list);\n   html = html.replace(\"##COLUMNLIST##\",html_col_list);\n\n   // Building the table body.\n   var table_body = \"\";\n\n   for (var r = 0; r < table.data.length; r++){\n\n      // Create a new row.\n      var tr = \"<tr ##ONDBCLICK## >\\n\";\n      var ondbclick = \"\";\n      var idfound = false;\n      if (table.gotoFunction != \"\"){\n         ondbclick = 'ondblclick = \"' + table.gotoFunction +   '(##ID##)\"'\n      }\n\n      for (var c = 0; c < table.column_list.length; c++){\n\n         var col_name = table.column_list[c];\n\n         if (col_name == table.unique_id){\n\n            // If this this the id column the id is replaced as the parameter on the double click function, if defined.\n            ondbclick = ondbclick.replace(\"##ID##\",\"'\" + table.data[r][col_name] + \"'\");\n            idfound = true;\n\n            // If the this is the unique id column and we are not supposed to show it, we move on.\n            if (!table.show_unique){\n               continue;\n            }\n         }\n\n         // Othewise we add the column for this row.\n         tr = tr + \"<td>\" +  table.data[r][col_name]  + \"</td>\\n\"\n\n      }\n\n      // If ID wasn't found, then we replace the doubleclick function call with nothing.\n      if (!idfound){\n         ondbclick = ondbclick.replace(\"##ID##\",\"\");\n      }\n\n      // Now we replace the place holder on the tr with the call to the double click function.\n      tr = tr.replace(\"##ONDBCLICK##\",ondbclick);\n\n      // Finalize the row.\n      tr = tr + \"</tr>\\n\";\n\n      // console.log(tr);\n\n      // And add it to the body.\n      table_body = table_body + tr;\n   }\n\n   // Insert the body table into the html\n   html = html.replace(\"##TABLE_BODY##\",table_body);\n\n   if (\"container\" in table){\n      document.getElementById(table.container).innerHTML = html;\n   }\n   else{\n      document.getElementById(GLOBALS.HTML.MAIN.CONTENTS).innerHTML = html;\n   }\n\n   //console.log(html);\n\n   // Enable the Simple Data Tables.\n   const displayTable = document.getElementById(GLOBALS.HTML.MAIN.TABLE);\n   let dataTable = new simpleDatatables.DataTable(displayTable);\n\n}\n\n/// Code for generating the BreadCrumb Trail below the title.\n\n/**\n *\n * @param {\n *    JSON Array with the following fields\n *    active_last: Boolean. If true the active class is applied ONLY the the last elememt of the trail. Otherwise it's only applied to all excepet the last.\n *    map: JSON Array where each member has two fields: name (the display of the trail) and where_to the page to load when clicked.\n * } trail\n */\n\n/*\n\nfunction generateTrail(trail){\n\n   document.getElementById(GLOBALS.HTML.MAIN.TRAIL).innerHTML = \"\";\n\n   if (!(\"active_last\" in trail)){\n      trail.active_last = true;\n   }\n\n   if (!(\"map\" in trail)){\n      console.log(\"GENERATE TRAIL: No map found\")\n      return;\n   }\n\n   // <!-- <li class=\"breadcrumb-item active\">Dashboard</li>\n   // <li class=\"breadcrumb-item\" style=\"cursor: pointer;\">Non active</li> -->\n\n   var html = \"\";\n\n   for (var i = 0; i < trail.map.length; i++){\n      var li =  '<li class = \"breadcrumb-item ##ACTIVE##\" ##STYLE## onclick=\"##ONCLICK##\">' + trail.map[i][\"name\"] + \"</li>\\n\"\n\n      if (i == (trail.map.length-1)){\n         // This is the last one which is the one that is active. So no cursor or link.\n         li = li.replace(\"##STYLE##\",\"\");\n         li = li.replace(\"##ONCLICK##\",\"\");\n         if (trail.active_last){\n            li = li.replace(\"##ACTIVE##\",\"active\");\n         }\n         else{\n            li = li.replace(\"##ACTIVE##\",\"\");\n         }\n      }\n      else{\n         li = li.replace(\"##ONCLICK##\",\"window.location.href='\" + trail.map[i][\"where_to\"] + \"'\");\n         li = li.replace(\"##STYLE##\",\"style = 'cursor: pointer;'\")\n         if (trail.active_last){\n            li = li.replace(\"##ACTIVE##\",\"\");\n         }\n         else{\n            li = li.replace(\"##ACTIVE##\",\"active\");\n         }\n      }\n\n      html = html + li;\n   }\n\n   document.getElementById(GLOBALS.HTML.MAIN.TRAIL).innerHTML = html;\n}\n\n/// Code for setting the user name in the top right.\nfunction setUserName(){\n   var fname = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_FNAME);\n   var lname = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_LNAME);\n   document.getElementById(GLOBALS.HTML.USERNAME).innerHTML = lname + \", \" + fname;\n}\n\n/// Simply logging out\nfunction logOut(){\n   API.logout(\"logOutReturnFunction\");\n}\n\nfunction logOutReturnFunction (response){\n   if (response.message != \"OK\"){\n      ErrorDialog.open(\"Server Error\",response.message);\n      return;\n   }\n   sessionStorage.removeItem(GLOBALS.SESSION_KEYS.TOKEN);\n   Token.checkLogIn();\n}\n\n/// Convinience function to resturn N/A instead of nulls or undefined.\nfunction displayValue(array, index){\n   if (index in array){\n      if (array[index] == null){\n         return \"N/A\"\n      }\n      else return array[index];\n   }\n   return \"N/A\"\n}\n\n// Straight function to transform an ISO date to a more friendly display format.\nfunction displayDate(isodate){\n   var date_and_time = isodate.split(\" \");\n   if (date_and_time.length != 2) return isodate;\n   var date = date_and_time[0];\n   var time = date_and_time[1];\n   var date_parts = date.split(\"-\");\n   if (date_parts.length != 3) return isodate;\n   var retdate = date_parts[2] + \"/\" + date_parts[1] + \"/\" + date_parts[0];\n   var time_parts = time.split(\":\")\n   if (time_parts.length != 3) return isodate;\n   var rettime = time_parts[0] + \":\" + time_parts[1]\n   return retdate + \" \" + rettime;\n}\n\n// Verification on what is empty to knwo what to display for the subject identifier\nfunction getSubjectDisplayID(){\n   var subjectData = JSON.parse(sessionStorage.getItem(GLOBALS.PAGE_COMM.SELECTED_SUBJECT));\n   if (subjectData == null) return \"\";\n   var sname = \"\";\n   if ((subjectData.fname == \"\") && (subjectData.lname == \"\")){\n      sname = subjectData.did;\n   }\n   else{\n      sname = subjectData.lname + \", \" + subjectData.fname;\n   }\n   return sname;\n}\n*/\n","import API from './api';\nimport GLOBALS from \"./GLOBALS\";\n\nconst logout_url = '/auth/logout';\nconst change_password_url = '/auth/';\nconst reset_password_url = '/auth/password';\nconst register_url = '/auth/register';\n\n\n\nexport const buildUrlFor = model => `${API.defaults.baseURL}/${model}/`;\n\nexport const Urls = {\n    api: API.defaults.baseURL,\n\n    ApiLogIn: API.defaults.baseURL,\n    ApiLogOut: API.defaults.baseURL + logout_url,\n    ApiChangePassword: API.defaults.baseURL + change_password_url,\n    ApiResetPassword: API.defaults.baseURL + reset_password_url,\n    ApiRegister: API.defaults.baseURL + register_url,\n\n    ApiInstitution: GLOBALS.ENDPOINTS.INSTITUTION.LIST + \"/\" + sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_ID),\n    ApiSetInst: GLOBALS.ENDPOINTS.PORTAL_USER.SET_INST + \"/\"\n}\n\nAPI.interceptors.response.use(\n  function (response) {\n    // Any 2xx status code\n    return response;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\n","export const SET_THEME = 'SET_THEME';\r\n\r\nexport const SET_SIGNED_IN = 'SET_SIGNED_IN';\r\nexport const SET_SIGNED_OUT = 'SET_SIGNED_OUT';\r\nexport const SET_RESET_PASSWORD_DONE = 'SET_RESET_PASSWORD_DONE';\r\nexport const SET_NEW_PASSWORD_DONE = 'SET_NEW_PASSWORD_DONE';\r\nexport const SET_AUTH_LOADING = 'SET_AUTH_LOADING';\r\nexport const SET_AUTH_ERROR = 'SET_AUTH_ERROR';\r\n\r\nexport const ENQUEUE_SNACKBAR = 'ENQUEUE_SNACKBAR';\r\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR';\r\nexport const REMOVE_SNACKBAR = 'REMOVE_SNACKBAR';\r\n\r\nexport const SET_FORM_STATUS = 'SET_FORM_STATUS';\r\n\r\n// KPI\r\nexport const SET_START_DATE = 'SET_START_DATE';\r\nexport const SET_END_DATE = 'SET_END_DATE';\r\nexport const FETCH_KPI_DATA_REQUEST = 'FETCH_KPI_DATA_REQUEST';\r\nexport const FETCH_KPI_DATA_SUCCESS = 'FETCH_KPI_DATA_SUCCESS';\r\nexport const FETCH_KPI_DATA_FAILURE = 'FETCH_KPI_DATA_FAILURE';","import moment from \"moment/moment\";\nimport { format } from 'date-fns';\n\nmoment.locale('es');\n\nconst dateFormat = 'DD MMM YYYY';\n\n// rawDate can be date, datetime or timestamp\nexport const toDateFormat = (rawDate, format = dateFormat) => {\n  if (!moment(rawDate).isValid()){\n    return '-'\n  }\n  return moment(rawDate).format(format)\n};\n\nexport const formattedDate = (date) => {\n  const originalDate = date.substring(0,10);\n  const parts = originalDate?.split(\"-\") || [0,0,0];\n  return `${parts[2]}/${parts[1]}/${parts[0]}`;\n};\n\n\nexport const formatDate =(isoDateTime)=>{\n  return format(isoDateTime, 'yyyy-MM-dd');\n}\n\nexport const isISODate = (date) => {\n  // Check if the input is an instance of Date and is valid\n  return date instanceof Date && !isNaN(date.getTime());\n};\n","import API from './api'\nimport { Urls } from './urls'\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\"\nimport store from \"../redux/store\";\nimport {successMessage} from \"./alertMessages\"\nimport snackbarMessages from \"./snackbarMessages\"\nimport GLOBALS from \"./GLOBALS\";\nimport axios from \"axios\";\nimport {handleError} from \"./handleError\";\n\n\nexport const PortalUsersService = {\n\n    setInstitution: function (id, user_id, token) {\n      return axios.create({\n        baseURL: process.env.REACT_APP_API_URL,\n        responseType: \"json\",\n        headers: {\n          \"AuthType\": GLOBALS.HEADERS_VALUES.PARTNER,\n          \"Authorization\": user_id + \":\" + token,\n          \"LoginType\": 4\n        }\n      }).post(Urls.ApiSetInst + id).then((response) => {\n          sessionStorage.setItem(GLOBALS.SESSION_KEYS.PERMISSIONS, JSON.stringify(response.data.data));\n          return response.data\n        })\n            .catch((error) => {\n              handleError(error, snackbarMessages.error.portalUsers.set);\n            })\n    },\n    getMasterList: function () {\n      //the identifier should always be set to -1 to get master list\n        return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.LIST + '/-1')\n          .then((response) => {\n            return Object.values(response?.data?.data) || []\n          })\n        .catch((error) => {\n            handleError(error, snackbarMessages.error.portalUsers.get);\n          })\n   },\n    get: function (user_id) {\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.GET + '/' + user_id)\n        .then((response) => {\n          return response.data || []\n      })\n          .catch((error) => {\n            handleError(error, snackbarMessages.error.portalUsers.get);\n          })\n    },\n\n    search: function (email) {\n       return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SEARCH + '/0',\n         {email: email})\n         .then((response) => {\n           return response.data || []\n       })\n           .catch((error) => {\n             handleError(error, snackbarMessages.error.portalUsers.get);\n           })\n     },\n\n    link: function (user_id, institution_id, link) {\n      const url_params= '/' + user_id + '?institution=' + institution_id + '&link='+ link;\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.LINK + url_params )\n        .then((response) => {\n          link === 1 ? store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.link))) :\n          store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.unlink)))\n          return response.data || []\n      })\n          .catch((error) => {\n            link === 1 ? handleError(error, snackbarMessages.error.portalUsers.link)\n            : handleError(error, snackbarMessages.error.portalUsers.unlink)\n          })\n    },\n\n    set: function (user_id, data, institution_id, role) {\n      const url = user_id ? '/' + user_id : '/0'\n      const body = user_id ? {\n        name: data.name,\n        lastname: data.lastname,\n        company: data.company,\n        user_role: role,\n      } :\n      {\n        name: data.name,\n        lastname: data.lastname,\n        passwd: data.password,\n        email: data.email,\n        company: data.company,\n        institution_id: institution_id,\n        user_role: role,\n        force_enable: true       //In the future it would be editable by front end user\n      }\n     //the identifier should always be set to 0 when creating a new user\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SET + url, body)\n        .then((response) => {\n          user_id ? store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.edit)))\n          : store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.create)))\n          return response.data || []\n      })\n          .catch((error) => {\n             const message = user_id ? snackbarMessages.error.portalUsers.edit : snackbarMessages.error.portalUsers.create\n             handleError(error, message);\n          })\n    },\n    enable: function (user_id, enable) {\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SET + '/' + user_id, {enabled: enable})\n        .then((response) => {\n          store.dispatch(\n            enqueueSnackbar(\n              successMessage(\n                enable ? snackbarMessages.success.portalUsers.enable : snackbarMessages.success.portalUsers.disable\n                )))\n          return response.data || []\n      })\n          .catch((error) => {\n            handleError(\n              error,\n              enable ? snackbarMessages.error.portalUsers.enable : snackbarMessages.error.portalUsers.disable);\n          })\n    },\n};\n\n","import * as types from '../constants';\r\nimport {Token} from \"../../services/common\";\r\n\r\nconst isSignedIn = () => (\r\n   Token.getToken() &&\r\n   new Date() < new Date(sessionStorage.getItem('expiration_date'))\r\n)\r\n\r\nconst initial = { loading: false,\r\n                  signedIn: isSignedIn(),\r\n                  // In case of being signed out, clears login data so that Authorization Header, with old token, is not sent in sign-in request\r\n                  error: null,\r\n                  successMessage: null\r\n              };\r\n\r\nexport default function reducer(state=initial, actions) {\r\n  switch (actions.type) {\r\n\r\n    case types.SET_SIGNED_IN:\r\n      return {\r\n        ...state,\r\n        signedIn: true,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: null\r\n      }\r\n\r\n    case types.SET_SIGNED_OUT:\r\n      return {\r\n        ...state,\r\n        signedIn: false\r\n      }\r\n\r\n    case types.SET_RESET_PASSWORD_DONE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: 'Se envi un mail con instrucciones para reestablecer la contrasea.'\r\n      }\r\n\r\n    case types.SET_NEW_PASSWORD_DONE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: 'La contrasea se cambi exitosamente.'\r\n      }\r\n\r\n    case types.SET_AUTH_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n\r\n    case types.SET_AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: actions.payload,\r\n        successMessage: null\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import * as types from '../constants';\n\nconst initial  = {\n    notifications: [{ open:false, dismissed: true, variant: 'success', key: '0' }],\n }\n\nexport default function reducer(state=initial, action) {\n      switch (action.type) {\n        case types.ENQUEUE_SNACKBAR:\n            return {\n                ...state,\n                notifications: [\n                    ...state.notifications,\n                    {\n                        key: action.key,\n                        ...action.notification,\n                    },\n                ],\n            };\n\n        case types.CLOSE_SNACKBAR:\n            return {\n                ...state,\n                notifications: state.notifications.map(notification => (\n                    (action.dismissAll || notification.key === action.key)\n                        ? { ...notification, dismissed: true }\n                        : { ...notification }\n                )),\n            };\n\n        case types.REMOVE_SNACKBAR:\n            return {\n                ...state,\n                notifications: state.notifications.filter(\n                    notification => notification.key !== action.key,\n                ),\n            };\n\n    default:\n      return state\n  }\n}\n","// reducers/dateFilterReducer.js\nimport { SET_START_DATE, SET_END_DATE } from '../constants';\n\nconst initialState = {\n  startDate: null,\n  endDate: null,\n};\n\nexport default function dateFilterReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_START_DATE:\n      return { ...state, startDate: action.date };\n    case SET_END_DATE:\n      return { ...state, endDate: action.date };\n    default:\n      return state;\n  }\n}","// reducers/kpiDataReducer.js\nimport { FETCH_KPI_DATA_REQUEST, FETCH_KPI_DATA_SUCCESS, FETCH_KPI_DATA_FAILURE } from '../constants';\n\nconst initialState = {\n  isKPILoading: false,\n  calibrationData: [],\n  trustworthyData: [],\n  processingFailsData: [],\n  discardedData: [],\n  completedEvaluations: [],\n  successfulTasks: [],\n  error: null,\n};\n\nconst kpiDataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_KPI_DATA_REQUEST:\n      return {\n        ...state,\n        isKPILoading: true,\n        error: null,\n      };\n    case FETCH_KPI_DATA_SUCCESS:\n      return {\n        ...state,\n        isKPILoading: false,\n        calibrationData: action.data.calibrations,\n        trustworthyData: action.data.trustworthy_task,\n        processingFailsData: action.data.processing_fails,\n        discardedData: action.data.discarded,\n        completedEvaluations: action.data.completed_evaluations,\n        successfulTasks: action.data.successful_tasks,\n      };\n    case FETCH_KPI_DATA_FAILURE:\n      return {\n        ...state,\n        isKPILoading: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default kpiDataReducer;","import { combineReducers } from 'redux';\r\n\r\nimport auth from \"./auth\";\r\nimport themeReducer from './themeReducers';\r\nimport alertMessages from \"./alertMessages\";\r\n\r\nimport dateFilterReducer from './dateFilterReducer';\r\nimport kpiDataReducer from './kpiDataReducer';\r\n\r\nimport dbFilterReducer from '../store/dbFilterSlice';\r\n\r\n\r\nexport default combineReducers({\r\n\tdateFilter: dateFilterReducer,\r\n\tkpiData: kpiDataReducer,\r\n\tfilters: dbFilterReducer,\r\n\talertMessages,\r\n\tthemeReducer,\r\n\tauth\r\n});","import * as types from '../constants';\r\n\r\nexport default function reducer(state={ currentTheme: 0 }, actions) {\r\n  switch (actions.type) {\r\n\r\n    case types.SET_THEME:\r\n      return {\r\n        ...state,\r\n        currentTheme: actions.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from '../reducers';\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer, // Combine all your reducers here\r\n});\r\n\r\nexport default store;","import axios from 'axios';\nimport GLOBALS from \"./GLOBALS\";\n\nlet auth_value = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_ID)\n                + \":\" + sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN);\n\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  responseType: \"json\",\n  headers: {\n    \"AuthType\": GLOBALS.HEADERS_VALUES.PARTNER,\n    \"Authorization\": auth_value,\n    \"LoginType\": 4\n  }\n});\n\nexport default API;\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {Button as MuiButton, Grid, Typography} from \"@material-ui/core\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {Logo} from \"../components/Logo\";\r\nimport logo from \"../../images/Logo4.png\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\n\r\nconst Wrapper = styled.div`\r\n  padding: ${props => props.theme.spacing(6)}px;\r\n  text-align: center;\r\n  background: transparent;\r\n\r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    padding: ${props => props.theme.spacing(10)}px;\r\n  }\r\n`;\r\n\r\nfunction Page404() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography component=\"h1\" variant=\"h1\" align=\"center\" gutterBottom>\r\n        404\r\n      </Typography>\r\n      <Typography component=\"h2\" variant=\"h5\" align=\"center\" gutterBottom>\r\n        Page not found.\r\n      </Typography>\r\n      <Typography component=\"h2\" variant=\"body1\" align=\"center\" gutterBottom>\r\n        The page you are looking for might have been removed.\r\n      </Typography>\r\n\r\n      <Button\r\n        component={Link}\r\n        to=\"/\"\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        mt={2}\r\n      >\r\n        Return to website\r\n      </Button>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n      <Grid item style={{paddingTop: 50}}>\r\n          <Logo logo={logo} width={'45%'}/>\r\n        </Grid>\r\n      </Grid>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Page404;\r\n","import API from './api'\nimport snackbarMessages from \"./snackbarMessages\"\nimport GLOBALS from \"./GLOBALS\";\nimport { handleError } from \"./handleError\";\n\nexport const DBService = {\n\n    //Get filter values. Will return all possible filter with all posible values for each.\n    getFilterValues: function () {\n        return API.post(GLOBALS.ENDPOINTS.DB.GET_FILTER_VALUES + '/0').then((response) => {\n            return response.data || []\n        })\n        .catch((error) => {\n            handleError(error || '', snackbarMessages?.error?.researchDB?.get_filter_values || '');\n            return error?.response\n        })\n    },\n\n   //Search dataset by applied filters. Will return all data about the subjects and evaluations that match the filters \n   search: function (appliedFilters) {\n      return API.post(GLOBALS.ENDPOINTS.DB.SEARCH+ '/0', appliedFilters).then((response) => {\n          return response.data.data || []\n      })\n          .catch((error) => {\n            console.log(\"Error in DBService.search when applying filters: \")\n            console.log(appliedFilters || \"No filters applied\")\n            handleError(error || '', snackbarMessages?.error?.researchDB?.search || '') ;\n          })\n   },\n\n};\n\n","export const titleCase = (str) => {\n  // Handle null or undefined inputs\n  if (str === null || str === undefined) {\n    return '';\n  }\n\n  // Ensure str is a string\n  if (typeof str !== 'string') {\n    str = str.toString();\n  }\n\n  // Remove 'vm_' prefix if present\n  if (str?.startsWith('vm_')) {\n    str = str?.substring(3);\n  }\n\n  // Remove '_id' suffix if present\n  if (str?.endsWith('_id')) {\n    str = str?.substring(0, str.length - 3);\n  }\n\n  // Split the string by dots\n  let words = str?.split('.');\n\n  // Capitalize the first letter of each word, handling underscores as well\n  let formattedWords = words.map((word) => {\n    // Split by underscores and capitalize each part\n    return word\n      .split('_')\n      .map((subWord) => subWord?.charAt(0)?.toUpperCase() + subWord?.slice(1))\n      .join(' ');\n  });\n\n  // Join the words with a space\n  return formattedWords.join(' ');\n};","// dbFilterSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { DBService } from '../../services/DBService';\nimport { titleCase } from '../../utils/toTitleCase';\nimport { formatDate, isISODate } from '../../utils/date';\n\n\n// Async thunk for loading filter values from DBService\nexport const loadFilterValues = createAsyncThunk(\n  'filters/loadFilterValues',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await DBService.getFilterValues();\n      if (response?.http_code === 200) {\n        return response.data;\n      } else {\n        return rejectWithValue('Failed to load filter values');\n      }\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  }\n);\n\n// Helper to handle array filters\nconst handleArrayFilter = (existingFilter, value) => {\n  let existingValues = [];\n  if (existingFilter && existingFilter[\"$in\"]) {\n    existingValues = existingFilter[\"$in\"];\n  }\n\n  if (!existingValues.includes(value.key)) {\n    existingValues.push(value.key);\n  }\n\n  return { \"$in\": existingValues };\n};\n\n// Helper to handle range filters (int, float, datetime)\nconst handleRangeFilter = (value, parseFn = parseFloat, dateFormatFn = null) => {\n  const formattedValue = {};\n  \n  if (value.min != undefined && value.min !== '') {\n    formattedValue[\"$gte\"] = dateFormatFn ? dateFormatFn(value.min, 'yyyy-MM-dd') : parseFn(value.min);\n  }\n\n  if (value.max != undefined && value.max !== '') {\n    formattedValue[\"$lte\"] = dateFormatFn ? dateFormatFn(value.max, 'yyyy-MM-dd') : parseFn(value.max);\n  }\n\n  return formattedValue;\n};\n\n// Helper function to reset filter-related state\nconst resetFilterState = (state) => {\n  state.selectedFilter = null;\n  state.selectedSubFilter = null;\n  state.selectedCategory = null;\n  state.filterType = '';\n};\n\nconst dbFilterSlice = createSlice({\n  name: 'filters',\n  initialState: {\n    filters: { subjects: [], evaluations: [] },\n    institutionMap: {},\n    portalUserMap: {},\n    evaluationTypeMap: {},\n    isLoading: true,\n    error: null,\n    selectedFilter: null,\n    selectedSubFilter: null,\n    selectedCategory: null,\n    appliedFilters: {},\n    appliedValues: [],\n    filtersToRender: [], // Added to manage filters to display in AppliedFilters component\n    filterType: '',      // Added to keep track of the current filter type\n    subFilterType: '',   // Added to keep track of the current sub-filter type\n    searchDisable: true,\n    disabledKeys: [],\n  },\n  reducers: {\n    setSelectedFilter: (state, action) => {\n      state.selectedFilter = action.payload;\n    },\n    setSelectedSubFilter: (state, action) => {\n      state.selectedSubFilter = action.payload;\n    },\n    setSelectedCategory: (state, action) => {\n      state.selectedCategory = action.payload;\n    },\n    setFilterType: (state, action) => {\n      state.filterType = action.payload;\n    },\n    setSubFilterType: (state, action) => {\n      state.subFilterType = action.payload;\n    },\n    applyFilters: (state, action) => {\n      const { filter, value, filterType, filterCategory } = action.payload;\n    \n      // Clean the filter key by removing any existing prefixes\n      let cleanFilter = filter.replace(/^(subjects?|evaluations?)\\./, '');\n    \n      let filterKey;\n      if (filterCategory === 'subjects') {\n        // Prepend 'subject.' prefix\n        filterKey = `subject.${cleanFilter}`;\n      } else if (filterCategory === 'evaluations') {\n        // For evaluation filters, do not prepend any prefix\n        filterKey = cleanFilter;\n      } else {\n        filterKey = filter;\n      }\n    \n      let displayFilterKey;\n    \n      // If state.selectedSubFilter is defined, clean it similarly\n      if (state.selectedSubFilter) {\n        let cleanSubFilter = state.selectedSubFilter.replace(/^(subjects?|evaluations?)\\./, '');\n    \n        if (filterCategory === 'subjects') {\n          state.selectedSubFilter = `subject.${cleanSubFilter}`;\n        } else if (filterCategory === 'evaluations') {\n          state.selectedSubFilter = cleanSubFilter;\n        } else {\n          state.selectedSubFilter = state.selectedSubFilter; // Keep it as is if not subject or evaluation\n        }\n        \n        displayFilterKey = titleCase(cleanSubFilter);\n        filterKey = `${state.selectedSubFilter}`;\n      } else {\n        displayFilterKey = titleCase(cleanFilter);\n      }\n    \n      const filterToRender = {\n        filterTitleCase: displayFilterKey,\n        filter_type: filterType,\n        sub_filter_type: state.subFilterType,\n        filter_values: value,\n        filterCategory: filterCategory,\n        filterKey: filterKey,\n      };\n    \n      // Add the filter to filtersToRender\n      state.filtersToRender.push(filterToRender);\n    \n      // Initialize the filters object if it doesn't exist\n      if (!state.appliedFilters[`${filterCategory}_filters`]) {\n        state.appliedFilters[`${filterCategory}_filters`] = {};\n      }\n    \n      // Prepare the filter value based on filterType\n      let formattedValue;\n    \n      if (filterType === 'array') {\n        const existingFilter = state.appliedFilters[`${filterCategory}_filters`][filterKey];\n        formattedValue = handleArrayFilter(existingFilter, value);\n    \n      } else if (filterType === 'int' || filterType === 'float') {\n        formattedValue = handleRangeFilter(value, parseFloat);\n        state.disabledKeys.push(cleanFilter);\n        \n      } else if (filterType === 'datetime') {\n        formattedValue = handleRangeFilter(value, null, formatDate);\n        state.disabledKeys.push(cleanFilter);\n        resetFilterState(state);\n      } else if (filterType === 'list_value_range') {\n        if (state.subFilterType === 'array') {\n          const existingFilter = state.appliedFilters[`${filterCategory}_filters`][filterKey];\n          formattedValue = handleArrayFilter(existingFilter, value);\n          state.disabledKeys.push(value.key);\n        } else if (state.subFilterType === 'int' || state.subFilterType === 'float') {\n          formattedValue = handleRangeFilter(value, parseFloat);\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        } else if (state.subFilterType === 'datetime') {\n          formattedValue = handleRangeFilter(value, null, formatDate);\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        }\n        else if (state.subFilterType === 'bool') {\n          formattedValue = value === true || false;\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        }\n      }\n    \n      // Update the appliedFilters with the new filter\n      state.appliedFilters[`${filterCategory}_filters`][filterKey] = formattedValue;\n      state.searchDisable = false;\n    },\n    clearAllFilters: (state) => {\n        state.appliedFilters = {};\n        state.filtersToRender = [];\n        state.appliedValues = [];\n        state.appliedKeys = [];\n        state.disabledKeys = [];\n    },\n    removeAppliedFilter: (state, action) => {\n      const filterToRemove = action.payload;\n      const { filterCategory, filterKey, filter_values, filter_type, sub_filter_type } = filterToRemove;\n      // Remove it from disabledKeys\n      let cleanFilter = filterKey.replace(/^(subjects?|evaluations?)\\./, '');\n      state.disabledKeys = filter_type === 'list_value_range' ? \n        sub_filter_type === 'array' ?\n          state.disabledKeys.filter((key) => key !==filter_values.key)\n          : state.disabledKeys.filter((key) => key !==filterKey)\n        :\n        state.disabledKeys.filter((key) => key !== cleanFilter);\n\n      // Remove from filtersToRender\n      state.filtersToRender = state.filtersToRender.filter(\n        (filter) =>\n          !(\n            filter.filterKey === filterKey &&\n            filter.filterCategory === filterCategory &&\n            JSON.stringify(filter.filter_values) === JSON.stringify(filter_values)\n          )\n      );\n    \n      const categoryKey = `${filterCategory}_filters`;\n    \n      // Remove from appliedFilters\n      if (state.appliedFilters[categoryKey]) {\n        if (filter_type === 'array') {\n          // Remove the specific value from the $in array\n          const existingFilter = state.appliedFilters[categoryKey][filterKey];\n          if (existingFilter && existingFilter[\"$in\"]) {\n            existingFilter[\"$in\"] = existingFilter[\"$in\"].filter(\n            (val) => val !== filter_values.value\n          );\n          if (existingFilter[\"$in\"].length === 0) {\n            // If no values left, remove the filter key\n            delete state.appliedFilters[categoryKey][filterKey];\n          } else {\n            // Update the filter with remaining values\n            state.appliedFilters[categoryKey][filterKey] = existingFilter;\n          }\n        }\n        } else {\n          // For other filter types, remove the filter key\n          delete state.appliedFilters[categoryKey][filterKey];\n        }\n    \n        // If the category filters are empty, delete the category\n        if (Object.keys(state.appliedFilters[categoryKey]).length === 0) {\n          delete state.appliedFilters[categoryKey];\n        }\n      }\n    },\n    setSearchDisable: (state, action) => {\n      state.searchDisable = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadFilterValues.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(loadFilterValues.fulfilled, (state, action) => {\n        const { institutions, portal_users, evaluation_types, ...filters } = action.payload;\n\n        // Remove 'last_file_id' from subjects and evaluations filters\n        const cleanedSubjects = { ...filters.subjects };\n        const cleanedEvaluations = { ...filters.evaluations };\n\n        delete cleanedSubjects['last_file_id'];\n        delete cleanedEvaluations['last_file_id'];\n\n        state.filters = {\n          subjects: cleanedSubjects,\n          evaluations: cleanedEvaluations,\n        };\n\n        state.institutionMap = institutions || {};\n        state.portalUserMap = portal_users || {};\n        state.evaluationTypeMap = evaluation_types || {};\n        state.isLoading = false;\n      })\n      .addCase(loadFilterValues.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\n// Export actions to be used in components\nexport const {\n  setSelectedFilter,\n  setSelectedSubFilter,\n  setSelectedCategory,\n  setFilterType,\n  setSubFilterType,\n  applyFilters,\n  removeAppliedFilter,\n  clearAllFilters,\n  setSearchDisable\n} = dbFilterSlice.actions;\n\nexport default dbFilterSlice.reducer;","import * as types from '../constants';\n\n\nexport const enqueueSnackbar = (notification) => {\n    const key = notification.options && notification.options.key;\n\n    return {\n        type: types.ENQUEUE_SNACKBAR,\n        notification: {\n            ...notification,\n            key: key || new Date().getTime() + Math.random(),\n        },\n    };\n};\n\nexport const closeSnackbar = key => ({\n    type: types.CLOSE_SNACKBAR,\n    dismissAll: !key, // dismiss all if no key has been defined\n    key,\n});\n\nexport const removeSnackbar = key => ({\n    type: types.REMOVE_SNACKBAR,\n    key,\n});\n","import {closeSnackbar} from \"../redux/actions/snackbarActions\";\nimport React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport store from \"../redux/store\";\n\n\nexport const deleteSuccessMessage = { open: true, variant: 'success', message: 'Eliminado/s con xito'}\n//export const passwordMismatchMessage = { open: true, variant: 'warning', message: 'Verifique que la contrasea y la confirmacin coincidan'}\nexport const sentEmailMessage = { open: true, variant: 'success', message: 'Se envi un mail a la direccin indicada'}\n\n\nexport function successMessage(item_message) {\n    return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'success',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n\nexport function errorMessage(item_message) {\n    return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'error',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n\nexport function warningMessage(item_message) {\n        return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'warning',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n","import { blue, green, grey } from \"@material-ui/core/colors\";\r\n\r\n\r\nconst darkVariant = {\r\n  name: \"Dark\",\r\n  palette: {\r\n    primary: {\r\n      main: \"#040505\",\r\n      contrastText: \"#FFF\"\r\n    },\r\n    secondary: {\r\n      main: blue[500],\r\n      contrastText: \"#FFF\"\r\n    },\r\n    textSecondary: {\r\n      main: '#686868'\r\n    }\r\n  },\r\n  header: {\r\n    color: \"#121212\",\r\n    background: \"#121212\",\r\n    search: {\r\n      color: grey[800]\r\n    },\r\n    indicator: {\r\n      background: blue[600]\r\n    }\r\n  },\r\n  sidebar: {\r\n    color: \"#242424\",\r\n    background: \"#F6FBFF\",\r\n    header: {\r\n      color: grey[900],\r\n      background: \"#121212\",\r\n      brand: {\r\n        color: blue[500]\r\n      }\r\n    },\r\n    footer: {\r\n      color: grey[900],\r\n      background: \"#F6FBFF\",\r\n      online: {\r\n        background: green[500]\r\n      }\r\n    },\r\n    badge: {\r\n      color: \"#FFF\",\r\n      background: blue[500]\r\n    }\r\n  },\r\n  body: {\r\n    background: \"linear-gradient(180deg, #181A1F, #1C1B1B)\",  // Corrected gradient string\r\n  }\r\n};\r\n\r\nconst variants = [\r\n  darkVariant\r\n];\r\n\r\nexport default variants;\r\n","const typography = {\r\n  useNextVariants: true,\r\n  fontFamily: [\r\n    '\"Segoe UI\"',\r\n    \"-apple-system\",\r\n    \"BlinkMacSystemFont\",\r\n    \"Roboto\",\r\n    '\"Helvetica Neue\"',\r\n    \"Arial\",\r\n    \"sans-serif\",\r\n    '\"Apple Color Emoji\"',\r\n    '\"Segoe UI Emoji\"',\r\n    '\"Segoe UI Symbol\"'\r\n  ].join(\",\"),\r\n  fontSize: 14,\r\n  fontWeightLight: 300,\r\n  fontWeightRegular: 400,\r\n  fontWeightMedium: 600,\r\n  h1: {\r\n    fontSize: \"2rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h2: {\r\n    fontSize: \"1.75rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h3: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h4: {\r\n    fontSize: \"1.25rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h5: {\r\n    fontSize: \"1.125rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h6: {\r\n    fontSize: \"1.0625rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  body1: {\r\n    fontSize: 14,\r\n    fontWeight: 500,\r\n  },\r\n  body2: {\r\n    fontSize: 14,\r\n    color: '#686868',\r\n  },\r\n  button: {\r\n    textTransform: \"none\"\r\n  }\r\n};\r\n\r\nexport default typography;\r\n","const overrides = {\r\n  MuiCardHeader: {\r\n    action: {\r\n      marginTop: \"-4px\",\r\n      marginRight: \"-4px\"\r\n    }\r\n  },\r\n  MuiPickersDay: {\r\n    day: {\r\n      fontWeight: \"300\"\r\n    }\r\n  },\r\n  MuiPickersYear: {\r\n    root: {\r\n      height: \"64px\"\r\n    }\r\n  },\r\n  MuiPickersCalendar: {\r\n    transitionContainer: {\r\n      marginTop: \"6px\"\r\n    }\r\n  },\r\n  MuiPickersCalendarHeader: {\r\n    iconButton: {\r\n      backgroundColor: \"transparent\",\r\n      \"& > *\": {\r\n        backgroundColor: \"transparent\"\r\n      }\r\n    },\r\n    switchHeader: {\r\n      marginTop: \"2px\",\r\n      marginBottom: \"4px\"\r\n    }\r\n  },\r\n  MuiPickersClock: {\r\n    container: {\r\n      margin: `32px 0 4px`\r\n    }\r\n  },\r\n  MuiPickersClockNumber: {\r\n    clockNumber: {\r\n      left: `calc(50% - 16px)`,\r\n      width: \"32px\",\r\n      height: \"32px\"\r\n    }\r\n  },\r\n  MuiPickerDTHeader: {\r\n    dateHeader: {\r\n      \"& h4\": {\r\n        fontSize: \"2.125rem\",\r\n        fontWeight: 400\r\n      }\r\n    },\r\n    timeHeader: {\r\n      \"& h3\": {\r\n        fontSize: \"3rem\",\r\n        fontWeight: 400\r\n      }\r\n    }\r\n  },\r\n  MuiPickersTimePicker: {\r\n    hourMinuteLabel: {\r\n      \"& h2\": {\r\n        fontSize: \"3.75rem\",\r\n        fontWeight: 300\r\n      }\r\n    }\r\n  },\r\n  MuiPickersToolbar: {\r\n    toolbar: {\r\n      \"& h4\": {\r\n        fontSize: \"2.125rem\",\r\n        fontWeight: 400\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default overrides;\r\n","const breakpoints = {\r\n  values: {\r\n    xs: 0,\r\n    sm: 600,\r\n    md: 960,\r\n    lg: 1280,\r\n    xl: 1500\r\n  }\r\n};\r\n\r\nexport default breakpoints;\r\n","const props = {\r\n  MuiButtonBase: {\r\n    disableRipple: true\r\n  },\r\n  MuiCardHeader: {\r\n    titleTypographyProps: { variant: \"h6\" }\r\n  }\r\n};\r\n\r\nexport default props;\r\n","function createShadow(px) {\r\n  return `0 0 ${px}px 0 rgba(53,64,82,.05)`;\r\n}\r\n\r\nconst shadows = [\r\n  \"none\",\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14)\r\n];\r\n\r\nexport default shadows;\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nimport variants from \"./variants\";\r\nimport typography from \"./typography\";\r\nimport overrides from \"./overrides\";\r\nimport breakpoints from \"./breakpoints\";\r\nimport props from \"./props\";\r\nimport shadows from \"./shadows\";\r\n\r\nconst theme = variant => {\r\n  return createMuiTheme(\r\n    {\r\n      spacing: 4,\r\n      breakpoints: breakpoints,\r\n      overrides: overrides,\r\n      props: props,\r\n      typography: typography,\r\n      shadows: shadows,\r\n      body: variant.body,\r\n      header: variant.header,\r\n      palette: variant.palette,\r\n      sidebar: variant.sidebar\r\n    },\r\n    variant.name\r\n  );\r\n};\r\n\r\nconst themes = variants.map(variant => theme(variant));\r\n\r\nexport default themes;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nconst Root = styled.div`\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  min-height: 100%;\r\n`;\r\n\r\nfunction Loader() {\r\n  return (\r\n    <Root>\r\n      <CircularProgress m={2} color=\"secondary\" />\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst sleep = m => new Promise(r => setTimeout(r, m));\r\n\r\nexport default function asyncComponent(importComponent) {\r\n  class AsyncComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      await sleep(250);\r\n\r\n      const { default: component } = await importComponent();\r\n\r\n      this.setState({\r\n        component: component\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const C = this.state.component;\r\n\r\n      return C ? <C {...this.props} /> : <Loader />;\r\n    }\r\n  }\r\n\r\n  return AsyncComponent;\r\n}\r\n","import async from \"../components/Async\";\nimport locationHelperBuilder from 'redux-auth-wrapper/history4/locationHelper'\nimport { connectedRouterRedirect } from 'redux-auth-wrapper/history4/redirect'\nimport connectedAuthWrapper from 'redux-auth-wrapper/connectedAuthWrapper'\nimport Loader from \"../components/Loader\";\n\n\nconst locationHelper = locationHelperBuilder({})\n\nconst userIsAuthenticatedDefaults = {\n  authenticatedSelector: state => true,\n  authenticatingSelector: state => false,\n  wrapperDisplayName: 'UserIsAuthenticated'\n}\n\nexport const userIsAuthenticated = connectedAuthWrapper(userIsAuthenticatedDefaults)\n\nconst userIsAuthenticatedRedir = connectedRouterRedirect({\n  ...userIsAuthenticatedDefaults,\n  AuthenticatingComponent: Loader,\n  redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/auth/sign-in',\n})\n\nexport const NeedsLogin = component => userIsAuthenticatedRedir(\n  async(component)\n)\n\nconst userIsNotAuthenticatedDefaults = {\n  // Want to redirect the user when they are done loading and authenticated\n  authenticatedSelector: state => !state.auth.signedIn && !state.auth.loading,\n  authenticatingSelector: state => state.auth.loading,\n  wrapperDisplayName: 'UserIsNotAuthenticated'\n}\n\nexport const userIsNotAuthenticated = connectedAuthWrapper(userIsNotAuthenticatedDefaults)\n\nconst userIsNotAuthenticatedRedir = connectedRouterRedirect({\n  ...userIsNotAuthenticatedDefaults,\n  redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/',\n  allowRedirectBack: false\n})\n\nexport const NoLogin = component => userIsNotAuthenticatedRedir(\n  async(component)\n)\n","import React from \"react\";\r\n\r\nimport async from \"../components/Async\";\r\n\r\nimport {\r\n  BarChart,\r\n  Unlock,\r\n  FileText,\r\n  Users as UsersIcon\r\n} from \"react-feather\";\r\nimport StorageIcon from '@material-ui/icons/Storage';\r\n\r\nimport {NeedsLogin, NoLogin} from \"./auth\";\r\nimport GLOBALS from \"../services/GLOBALS.json\";\r\n\r\n// Auth components\r\nconst SignIn = NoLogin(() => import(\"../pages/auth/SignIn\"));\r\nconst SignUp = async(() => import(\"../pages/auth/SignUp\"));\r\nconst ForgotPassword = async(() => import(\"../pages/auth/ForgotPassword\"));\r\nconst ResetPassword = async(() => import(\"../pages/auth/ResetPassword\"));\r\nconst Page404 = async(() => import(\"../pages/auth/Page404\"));\r\nconst Page500 = async(() => import(\"../pages/auth/Page500\"));\r\n\r\n// Pages components\r\nconst Permissions = NeedsLogin(() => import(\"../pages/pages/Account/Permissions\"));\r\nconst OnBoard = NeedsLogin(() => import(\"../pages/pages/OnBoard\"));\r\nconst Institutions = NeedsLogin(() => import(\"../pages/pages/Institutions/Institutions\"));\r\nconst AddInstitution = NeedsLogin(() => import(\"../pages/pages/Institutions/addInstitution\"));\r\nconst AddUser = NeedsLogin(() => import(\"../pages/pages/Users/addUser\"));\r\nconst Users = NeedsLogin(() => import(\"../pages/pages/Users/Users\"));\r\nconst MasterUsersList = NeedsLogin(() => import(\"../pages/pages/MasterUsersList/MasterUsersList\"));\r\nconst Instances = NeedsLogin(() => import(\"../pages/pages/Institutions/Instances\"));\r\nconst EditInstance = NeedsLogin(() => import(\"../pages/pages/Institutions/editInstance\"));\r\nconst SetEvaluations = NeedsLogin(() => import(\"../pages/pages/Evaluations/SetEvaluations\"));\r\n//Stats components\r\nconst Stats = NeedsLogin(() => import(\"../pages/pages/Stats/index\"));\r\nconst InstancesTable = NeedsLogin(() => import(\"../pages/pages/Stats/InstancesTable\"));\r\nconst EvaluatorsTable = NeedsLogin(() => import(\"../pages/pages/Stats/EvaluatorsTable\"));\r\nconst Dashboard = NeedsLogin(() => import(\"../pages/pages/Stats/Dashboard\"));\r\nconst Failures = NeedsLogin(() => import(\"../pages/pages/Stats/Failures\"));\r\n\r\n//Database routes\r\nconst Database = NeedsLogin(() => import(\"../pages/pages/Database/Database\"));  \r\n\r\n//Account Routes\r\nconst MyAccount = NeedsLogin(() => import(\"../pages/pages/Account/MyAccount\"));\r\n\r\nconst Home = async(() => import(\"../pages/pages/home/Homepage\"));\r\n\r\n\r\nconst permissions = JSON.parse(sessionStorage.getItem(GLOBALS.SESSION_KEYS.PERMISSIONS));\r\nconst canSeeKPI = permissions ? permissions['stats']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEE_KPI)) \r\n  || permissions['reports']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST))\r\n  || permissions['reports']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST_EVALUATORS))\r\n  || permissions['instances']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST)) : false;\r\nconst canGetFiltersDatabase = permissions ? permissions['research_db']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_RESEARCH_DB)) : false;\r\nconst canSearchDatabase = permissions ? permissions['research_db']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEARCH_DB)) : false;\r\nconst canSeeDatabase = canGetFiltersDatabase && canSearchDatabase;\r\nconst canSeeMasterList = permissions ? permissions['portal_users']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEE_MASTER_LIST)) : false;\r\n\r\nconst homeRoutes = {\r\n  id: \"Home\",\r\n  path: \"/\",\r\n  component: Home,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst accountRoutes = {\r\n  id: \"My Account\",\r\n  path: \"/my_account\",\r\n  component: MyAccount,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst institutionsRoutes = {\r\n  id: \"Institutions\",\r\n  path: \"/institutions\",\r\n  component: Institutions,\r\n  icon: <Unlock />,\r\n  children: null,\r\n};\r\nconst setEvaluationRoutes = {\r\n  id: \"Set Evaluations\",\r\n  path: \"/setEvaluations\",\r\n  component: SetEvaluations,\r\n  icon: <FileText />,\r\n  hidden: false,\r\n  children: null,\r\n};\r\nconst masterUsersListRoutes = {\r\n  id: \"Master Users List\",\r\n  path: \"/masterUsersList\",\r\n  component: MasterUsersList,\r\n  icon: <UsersIcon />,\r\n  children: null,\r\n  hidden: !canSeeMasterList\r\n};\r\nconst usersRoutes = {\r\n  id: \"Users\",\r\n  path: \"/users\",\r\n  component: Users,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst instancesRoutes = {\r\n  id: \"Instances\",\r\n  path: \"/instances\",\r\n  component: Instances,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst addInstitutionRoutes = {\r\n  id: \"Add Institution\",\r\n  path: \"/addInstitution\",\r\n  component: AddInstitution,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst addUserRoutes = {\r\n  id: \"Add User\",\r\n  path: \"/addUser\",\r\n  component: AddUser,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst editInstanceRoutes = {\r\n  id: \"Edit Instance\",\r\n  path: \"/editInstance\",\r\n  component: EditInstance,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst pagesRoutes = {\r\n  id: \"Permissions\",\r\n  path: \"/permissions\",\r\n  icon: <Unlock />,\r\n  component: Permissions,\r\n  hidden: true\r\n};\r\n\r\n\r\nconst StatsRoutes = {\r\n  id: \"Stats\",\r\n  icon: <BarChart />,\r\n  hidden: !canSeeKPI,\r\n  children: [\r\n      {\r\n        path: \"/stats/evaluations\",\r\n        name: \"Region Tasks Table\",\r\n        component: Stats\r\n      },\r\n      {\r\n        path: \"/stats/instances\",\r\n        name: \"Instances Table\",\r\n        component: InstancesTable,\r\n      },\r\n      {\r\n        path: \"/stats/evaluators\",\r\n        name: \"Evaluators Table\",\r\n        component: EvaluatorsTable,\r\n      },\r\n      {\r\n        path: \"/stats/dashboard\",\r\n        name: \"Dashboard\",\r\n        component: Dashboard,\r\n      },\r\n      {\r\n        path: \"/stats/failures\",\r\n        name: \"Quality Metrics\",\r\n        component: Failures,\r\n      }\r\n    ]\r\n};\r\n\r\nconst authRoutes = {\r\n  id: \"Auth\",\r\n  path: \"/auth\",\r\n  icon: <Users />,\r\n  hidden: true,\r\n  children: [\r\n    {\r\n      path: \"/auth/sign-in\",\r\n      name: \"Sign In\",\r\n      component: SignIn\r\n    },\r\n    {\r\n      path: \"/auth/sign-up\",\r\n      name: \"Sign Up\",\r\n      component: SignUp\r\n    },\r\n    {\r\n      path: \"/auth/forgot-password\",\r\n      name: \"Forgot Password\",\r\n      component: ForgotPassword\r\n    },\r\n    {\r\n      path: \"/reset_your_password/:id\",\r\n      name: \"Reset Password\",\r\n      component: ResetPassword\r\n    },\r\n    {\r\n      path: \"/auth/404\",\r\n      name: \"404 Page\",\r\n      component: Page404\r\n    },\r\n    {\r\n      path: \"/auth/500\",\r\n      name: \"500 Page\",\r\n      component: Page500\r\n    }\r\n  ]\r\n};\r\n\r\nconst DatabaseRoutes = {\r\n  id: \"Dashboard\",\r\n  path: \"/dashboard\",\r\n  component: Database,\r\n  icon: <BarChart />,\r\n};\r\n\r\nconst landingRoutes = {\r\n    path: \"/landing\",\r\n    name: \"Landing\",\r\n    component: Home,\r\n};\r\n\r\n\r\nexport const dashboard = [\r\n  accountRoutes,\r\n  DatabaseRoutes\r\n];\r\n\r\nexport const auth = [authRoutes];\r\n\r\nexport const landing = [landingRoutes, homeRoutes];\r\n\r\nexport default [\r\n  accountRoutes,\r\n  DatabaseRoutes\r\n];\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { rgba } from \"polished\";\r\n\r\nimport { NavLink as RouterNavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport \"../vendor/perfect-scrollbar.css\";\r\n\r\nimport logo from '../images/Logo4.png';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\n\r\nimport {\r\n  Avatar,\r\n  Collapse,\r\n  Grid,\r\n  Chip,\r\n  ListItem,\r\n  ListItemText,\r\n  Drawer as MuiDrawer,\r\n  List as MuiList,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\";\r\n\r\nimport originalMenu from \"../routes/index\";\r\n\r\nimport {Logo} from \"../pages/components/Logo\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport GLOBALS from \"../services/GLOBALS\";\r\nimport {redirectTo} from \"../routes/functions\";\r\nimport {AuthService} from \"../services/AuthService\";\r\n\r\nlet routes = originalMenu.filter(child => !child.hidden);\r\n\r\nconst NavLink = React.forwardRef((props, ref) => (\r\n  <RouterNavLink innerRef={ref} {...props} />\r\n));\r\n\r\nconst Drawer = styled(MuiDrawer)`\r\n  border-right: 0;\r\n\r\n  > div {\r\n    border-right: 0;\r\n  }\r\n`;\r\n\r\nconst Scrollbar = styled(PerfectScrollbar)`\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  background-image: linear-gradient(to bottom, #FFFFFF 6.34%, #D2D2D2 77.92%) !important;\r\n`;\r\n\r\nconst List = styled(MuiList)`\r\n`;\r\n\r\nconst Items = styled.div`\r\n  padding-top: ${props => props.theme.spacing(2.5)}px;\r\n  padding-bottom: ${props => props.theme.spacing(2.5)}px;\r\n`;\r\n\r\nconst Brand = styled(ListItem)`\r\n  font-size: ${props => props.theme.typography.h5.fontSize};\r\n  font-weight: ${props => props.theme.typography.fontWeightMedium};\r\n  color: ${props => props.theme.sidebar.header.color};\r\n  background: #FFFFFF 6.34%;\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  min-height: 56px;\r\n  padding-left: ${props => props.theme.spacing(6)}px;\r\n  padding-right: ${props => props.theme.spacing(6)}px;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  \r\n\r\n  ${props => props.theme.breakpoints.up(\"sm\")} {\r\n    min-height: 64px;\r\n  }\r\n`;\r\n\r\n\r\nconst Category = styled(ListItem)`\r\n  padding-top: ${props => props.theme.spacing(3)}px;\r\n  padding-bottom: ${props => props.theme.spacing(3)}px;\r\n  padding-left: ${props => props.theme.spacing(6)}px;\r\n  padding-right: ${props => props.theme.spacing(5)}px;\r\n  font-weight: ${props => props.theme.typography.fontWeightRegular};\r\n\r\n  svg {\r\n    color: ${props => props.theme.sidebar.color};\r\n    font-size: 20px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n\r\n  &:hover {\r\n    background: #D2D2D2;\r\n    border-radius: 8px;\r\n  }\r\n\r\n  &.${props => props.activeClassName} {\r\n\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n`;\r\n\r\nconst CategoryText = styled(ListItemText)`\r\n  margin: 0;\r\n  span {\r\n    color: ${props => props.theme.sidebar.color};\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    padding: 0 ${props => props.theme.spacing(4)}px;\r\n  }\r\n`;\r\n\r\nconst CategoryIconLess = styled(ExpandLess)`\r\n  color: ${props => rgba(props.theme.sidebar.color, 0.5)};\r\n`;\r\n\r\nconst CategoryIconMore = styled(ExpandMore)`\r\n  color: ${props => rgba(props.theme.sidebar.color, 0.5)};\r\n`;\r\n\r\nconst Link = styled(ListItem)`\r\n  padding-left: ${props => props.theme.spacing(14)}px;\r\n  padding-top: ${props => props.theme.spacing(2)}px;\r\n  padding-bottom: ${props => props.theme.spacing(2)}px;\r\n\r\n  span {\r\n    color: ${props => rgba(props.theme.sidebar.color, 0.7)};\r\n  }\r\n\r\n  &:hover {\r\n    background: #EEF7FF;\r\n    border-radius: 8px;\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n\r\n  &.${props => props.activeClassName} {\r\n\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n`;\r\n\r\nconst LinkText = styled(ListItemText)`\r\n  color: ${props => props.theme.sidebar.color};\r\n  span {\r\n    font-size: 15px;\r\n  }\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst LinkBadge = styled(Chip)`\r\n  font-size: 11px;\r\n  font-weight: ${props => props.theme.typography.fontWeightBold};\r\n  height: 20px;\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 8px;\r\n\r\n  span.MuiChip-label,\r\n  span.MuiChip-label:hover {\r\n    cursor: pointer;\r\n    color: ${props => props.theme.sidebar.badge.color};\r\n    padding-left: ${props => props.theme.spacing(2)}px;\r\n    padding-right: ${props => props.theme.spacing(2)}px;\r\n  }\r\n`;\r\n\r\nconst CategoryBadge = styled(LinkBadge)`\r\n  top: 12px;\r\n`;\r\n\r\nconst SidebarSection = styled(Typography)`\r\n  color: ${props => props.theme.sidebar.color};\r\n  padding: ${props => props.theme.spacing(4)}px\r\n    ${props => props.theme.spacing(6)}px ${props => props.theme.spacing(1)}px;\r\n  font-weight: 600;\r\n  display: block;\r\n`;\r\n\r\nconst SidebarFooter = styled.div`\r\n  padding: ${props => props.theme.spacing(3)}px\r\n    ${props => props.theme.spacing(4)}px;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  background: #FFFFFF 77.92%;\r\n  &:hover {\r\n    background: #D2D2D2;\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n\r\nfunction SidebarCategory({\r\n  name,\r\n  icon,\r\n  classes,\r\n  isOpen,\r\n  isCollapsable,\r\n  badge,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Category {...rest}>\r\n      {icon}\r\n      <CategoryText>{name}</CategoryText>\r\n      {isCollapsable ? (\r\n        isOpen ? (\r\n          <CategoryIconMore />\r\n        ) : (\r\n          <CategoryIconLess />\r\n        )\r\n      ) : null}\r\n      {badge ? <CategoryBadge label={badge} /> : \"\"}\r\n    </Category>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction SidebarLink({ name, to, badge, disabled=false }) {\r\n  return (\r\n    <Link\r\n      button\r\n      dense\r\n      component={NavLink}\r\n      exact\r\n      to={to}\r\n      activeClassName=\"active\"\r\n      disabled={disabled}\r\n    >\r\n      <LinkText>{name}</LinkText>\r\n      {badge ? <LinkBadge label={badge} /> : \"\"}\r\n    </Link>\r\n  );\r\n}\r\n\r\nclass Sidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  toggle = index => {\r\n    // Collapse all elements\r\n    Object.keys(this.state).forEach(\r\n      item =>\r\n        this.state[index] ||\r\n        this.setState(() => ({\r\n          [item]: false\r\n        }))\r\n    );\r\n\r\n    // Toggle selected element\r\n    this.setState(state => ({\r\n      [index]: !state[index]\r\n    }));\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    /* Open collapse element that matches current url */\r\n    const pathName = this.props.location.pathname;\r\n\r\n    routes.forEach((route, index) => {\r\n      const isActive = pathName.indexOf(route.path) === 0;\r\n      const isOpen = route.open;\r\n      const isHome = route.containsHome && pathName === \"/\" ? true : false;\r\n\r\n      this.setState(() => ({\r\n        [index]: isActive || isOpen || isHome\r\n      }));\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { classes, staticContext, ...other } = this.props;\r\n\r\n    function handleLogout(){\r\n      AuthService.logout();\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.TOKEN);\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.USER);\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.USER_ID);\r\n      redirectTo('/auth/sign-in')\r\n    }\r\n\r\n    return (\r\n      <Drawer variant=\"permanent\" {...other}>\r\n        <Brand>\r\n          <Logo logo={logo} padding={'5'} width={'150px'} />\r\n        </Brand>\r\n        <Scrollbar>\r\n          <List disablePadding>\r\n            <Items>\r\n              {routes.map((category, index) => (\r\n                <React.Fragment key={index}>\r\n                  {category.header ? (\r\n                    <SidebarSection>{category.header}</SidebarSection>\r\n                  ) : null}\r\n\r\n                  {category.children ? (\r\n                    <React.Fragment key={index}>\r\n                      <SidebarCategory\r\n                        isOpen={!this.state[index]}\r\n                        isCollapsable={true}\r\n                        name={category.id}\r\n                        icon={category.icon}\r\n                        button={true}\r\n                        onClick={() => this.toggle(index)}\r\n                      />\r\n\r\n                      <Collapse\r\n                        in={this.state[index]}\r\n                        timeout=\"auto\"\r\n                        unmountOnExit\r\n                      >\r\n                        {category.children.map((route, index) => (\r\n                            route.hidden ?\r\n                                null\r\n                                :\r\n                          <SidebarLink\r\n                            key={index}\r\n                            name={route.name}\r\n                            to={route.path}\r\n                            icon={route.icon}\r\n                            badge={route.badge}\r\n                            disabled={route.disabled}\r\n                          />\r\n                        ))}\r\n                      </Collapse>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <SidebarCategory\r\n                      isCollapsable={false}\r\n                      name={category.id}\r\n                      to={category.path}\r\n                      activeClassName=\"active\"\r\n                      component={NavLink}\r\n                      icon={category.icon}\r\n                      exact\r\n                      badge={category.badge}\r\n                    />\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </Items>\r\n          </List>\r\n        </Scrollbar>\r\n        <Divider/>\r\n        <SidebarFooter onClick={() => this.toggle(10)}>\r\n          <Grid container spacing={2}>\r\n            <Grid item>\r\n              <Avatar\r\n                alt={sessionStorage.getItem('user_first_name')}\r\n                src=\"../images/user.png\"\r\n                style={{color: '#FFFFFF', backgroundColor: '#D2D2D2'}}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"body1\">\r\n                {sessionStorage.getItem('user_first_name')} {sessionStorage.getItem('user_last_name')}\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                {sessionStorage.getItem('username')}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Collapse\r\n                in={this.state[10]}\r\n                timeout=\"auto\"\r\n                unmountOnExit\r\n              >\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    startIcon={<AccountBoxIcon/>}\r\n                    onClick={(e)=> redirectTo('/my_account')}\r\n                    disabled={!sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN)}\r\n                    fullWidth\r\n                    style={{justifyContent: \"left\"}}\r\n                  >\r\n                    My Account\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    startIcon={<ExitToAppIcon/>}\r\n                    onClick={(e)=> handleLogout()}\r\n                    disabled={!sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN)}\r\n                    fullWidth\r\n                    style={{justifyContent: \"left\"}}\r\n                  >\r\n                    Logout\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Typography style={{marginTop: '15px'}}>\r\n                   VERSION: {GLOBALS.VERSION}\r\n                  </Typography>\r\n                </Grid>\r\n              </Collapse>\r\n            </Grid>\r\n          </Grid>\r\n        </SidebarFooter>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Sidebar);\r\n","export default __webpack_public_path__ + \"static/media/Logo.e372df51.png\";","import React, { useState } from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Grid,\r\n  AppBar as MuiAppBar,\r\n  IconButton as MuiIconButton,\r\n  Toolbar,\r\n  Avatar,\r\n  Typography,\r\n  Popover,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from 'react-router-dom'; // For navigation in react-router-dom v5\r\n\r\n// Add your logo here\r\nimport logo from \"../images/Logo.png\"; // Import your app logo\r\n\r\nconst AppBar = styled(MuiAppBar)`\r\n  background: rgba(30, 35, 41, 0.1);  /* Darker background with some transparency */\r\n  color: ${props => props.theme.header.color};\r\n  backdrop-filter: blur(10px); /* Apply blur effect */\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n\r\n  \r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    padding-left: 7vw;   // Apply same padding for left\r\n    padding-right: 8vw;  // Apply same padding for right\r\n  }\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 130px;\r\n  height: auto;\r\n`;\r\n\r\nconst ProfileSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n`;\r\n\r\nconst Header = ({ onDrawerToggle }) => {\r\n  // State for managing the popover\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const history = useHistory();  // Initialize useHistory for navigation\r\n\r\n  // Open the popover\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  // Close the popover\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    history.push('/');  // Redirect to dashboard\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <AppBar position=\"sticky\" elevation={0}>\r\n        <HeaderContainer>\r\n        <Toolbar>\r\n          <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n            {/* Center - Logo */}\r\n            <Grid item xs={4} container justifyContent=\"left\">\r\n              <Logo src={logo} alt=\"App Logo\" />\r\n            </Grid>\r\n\r\n            {/* Right side - Profile section */}\r\n            <Grid item xs={4} container justifyContent=\"flex-end\">\r\n              <ProfileSection>\r\n                <Typography variant=\"body1\">Hello, User</Typography>\r\n                <Avatar\r\n                  alt=\"User Name\"\r\n                  src=\"/path-to-avatar-image.jpg\" // Replace with the actual path to user avatar\r\n                  onClick={handleMenuOpen} // Open menu on click\r\n                  style={{ cursor: \"pointer\" }}\r\n                />\r\n              </ProfileSection>\r\n\r\n              {/* Popover component */}\r\n              <Popover\r\n                open={Boolean(anchorEl)}\r\n                anchorEl={anchorEl}\r\n                onClose={handleMenuClose}\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"center\",\r\n                }}\r\n                transformOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                }}\r\n                PaperProps={{\r\n                  style: {\r\n                    minWidth: \"200px\", // Adjust width of popover\r\n                    padding: '10px',    // Optional padding for better spacing\r\n                  },\r\n                }}\r\n              >\r\n                <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleMenuClose}>Princing</MenuItem>\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem> {/* Logout option */}\r\n              </Popover>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n        </HeaderContainer>\r\n      </AppBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect()(withTheme(Header));","import {useDispatch, useSelector} from \"react-redux\";\nimport {useSnackbar} from \"notistack\";\nimport React from \"react\";\n\n\n\nlet displayed = [];\n\nconst Notifier = () => {\n    const dispatch = useDispatch();\n    const notifications = useSelector(state => state.alertMessages.notifications || []);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const storeDisplayed = (id) => {\n        displayed = [...displayed, id];\n    };\n\n    React.useEffect(() => {\n        notifications.forEach(({ key, message, options = {}, dismissed = false }) => {\n            if (dismissed) {\n                // dismiss snackbar using notistack\n                closeSnackbar(key);\n                return;\n            }\n\n            // do nothing if snackbar is already displayed\n            if (displayed.includes(key)) return;\n\n            // display snackbar using notistack\n            enqueueSnackbar(message, {\n                key,\n                ...options,\n                onClose: (event, reason, myKey) => {\n                    if (options.onClose) {\n                        options.onClose(event, reason, myKey);\n                    }\n                },\n\n            });\n\n            // keep track of snackbars that we've displayed\n            storeDisplayed(key);\n        });\n    }, [notifications, closeSnackbar, enqueueSnackbar, dispatch]);\n\n    return null;\n};\n\nexport default Notifier;\n","import React from \"react\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\n\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport Header from \"../components/Header\";\r\n\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Hidden,\r\n  CssBaseline,\r\n  Paper as MuiPaper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {closeSnackbar } from '../redux/actions/snackbarActions'\r\nimport Notifier from \"../components/Notifier\";\r\n\r\nexport const drawerWidth = '20vw';\r\nexport const mobileDrawerWidth = '40vw';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    background: ${props => props.theme.body.background};\r\n  }\r\n\r\n  .MuiCardHeader-action .MuiIconButton-root {\r\n    padding: 4px;\r\n    width: 28px;\r\n    height: 28px;\r\n  }\r\n`;\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Drawer = styled.div`\r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nconst AppContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Paper = styled(MuiPaper)(spacing);\r\n\r\nconst MainContent = styled(Paper)`\r\n  flex: 1;\r\n  background: ${props => props.theme.body.background};\r\n  \r\n  ${props => props.theme.breakpoints.down(\"md\")} {\r\n    max-width: 100vw;\r\n  }\r\n  \r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    max-width: calc(100vw);\r\n    padding-left: 8vw;\r\n    padding-right: 8vw;\r\n  }\r\n \r\n\r\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\r\n    flex: none;\r\n  }\r\n\r\n  .MuiPaper-root .MuiPaper-root {\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nclass Dashboard extends React.Component {\r\n  state = {\r\n    mobileOpen: false,\r\n  };\r\n\r\n  handleDrawerToggle = () => {\r\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n  };\r\n\r\n  render() {\r\n    const { children, routes } = this.props;\r\n\r\n    return (\r\n      <Root>\r\n        <Notifier />\r\n        <CssBaseline />\r\n        <GlobalStyle />\r\n        <Drawer>\r\n            <Sidebar\r\n              routes={routes}\r\n              PaperProps={{ style: { width: '20%' } }}\r\n              variant=\"temporary\"\r\n              open={this.state.mobileOpen}\r\n              onClose={this.handleDrawerToggle}\r\n            />\r\n        </Drawer>\r\n        <AppContent>\r\n          <Header onDrawerToggle={this.handleDrawerToggle}/>\r\n          <MainContent p={10}>\r\n            {children}\r\n          </MainContent>\r\n        </AppContent>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  snackbar: state.alertMessages.notifications,\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  closeSnackbar: (params) => dispatch(closeSnackbar(params))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  body {\r\n    /* Set gradient and background image */\r\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.7)), \r\n                url('https://framerusercontent.com/images/gDLZ3lXTL8phROUo0iUFtr1HEM.svg') no-repeat center center fixed;\r\n    background-size: cover; /* Cover the whole viewport */\r\n    color: #fff; /* Optional: Set text color for better contrast */\r\n  }\r\n`;\r\n\r\nconst Root = styled.div`\r\n  max-width: 365px;\r\n  max-height: 400px;\r\n  margin: 0 auto;\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  min-height: 100%;\r\n  padding-bottom: 5%;\r\n`;\r\n\r\nfunction Auth({ children }) {\r\n  return (\r\n    <Root>\r\n      <GlobalStyle />\r\n      <Grid\r\n        container\r\n        justifyContent=\"flex-start\" /* Updated to use Material UI v5 syntax */\r\n        alignItems=\"flex-start\" /* Updated to use Material UI v5 syntax */\r\n      >\r\n        <Grid item xs={12}>\r\n          {children}\r\n        </Grid>\r\n      </Grid>\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/logo_simple.28907bff.svg\";","import React from \"react\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { CssBaseline, Box, Typography, Container, Link } from \"@material-ui/core\";\r\nimport logo from \"../images/logo_simple.svg\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n  }\r\n\r\n`;\r\n\r\nfunction Landing({ children }) {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <GlobalStyle />\r\n      \r\n      {/* Video background */}\r\n      <Box sx={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden',\r\n        zIndex: -9999\r\n      }}>\r\n        <video \r\n          src=\"https://framerusercontent.com/assets/zGxK107SsQ760NcmS6Ay6X57skY.mp4\" \r\n          loop \r\n          autoPlay \r\n          muted \r\n          playsInline\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            objectPosition: '50% 50%'\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      {/* Main Content */}\r\n      {children}\r\n\r\n      <Box\r\n        sx={{\r\n          py: 5,\r\n          textAlign: 'center',\r\n          position: 'relative', // Ensure that this overlays the video\r\n          zIndex: 1, // Content should be above the video\r\n          bgcolor: \"rgba(240, 242, 245, 0.9)\", // Optional background color with transparency for contrast\r\n        }}\r\n      >\r\n        <Container>\r\n          <img \r\n            src={logo} \r\n            alt=\"Logo\" \r\n            style={{\r\n              width: '40px', \r\n              height: 'auto', \r\n              marginBottom: '10px'\r\n            }} \r\n          />\r\n          <Typography variant=\"caption\" component=\"p\">\r\n             All rights reserved\r\n            <br /> made by &nbsp;\r\n            <Link href=\"https://linkedin.com\">CryptoVoice</Link>\r\n          </Typography>\r\n        </Container>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Landing;","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { dashboard as dashboardRoutes, auth as authRoutes, landing as landingRoutes } from \"./index\";\r\n\r\nimport DashboardLayout from \"../layouts/Dashboard\";\r\nimport AuthLayout from \"../layouts/Auth\";\r\nimport LandingLayout from \"../layouts/Landing\";  // Import the new Landing layout\r\nimport Page404 from \"../pages/auth/Page404\";\r\nimport { Suspense } from \"react\";\r\n\r\nconst childRoutes = (Layout, routes) =>\r\n  routes.map(({ children, path, component: Component }, index) =>\r\n    children ? (\r\n      // Route item with children\r\n      children.map(({ path, component: Component }, index) => (\r\n        <Route\r\n          key={index}\r\n          path={path}\r\n          exact\r\n          render={props => (\r\n            <Layout>\r\n              <Component {...props} />\r\n            </Layout>\r\n          )}\r\n        />\r\n      ))\r\n    ) : (\r\n      // Route item without children\r\n      <Route\r\n        key={index}\r\n        path={path}\r\n        exact\r\n        render={props => (\r\n          <Layout>\r\n            <Component {...props} />\r\n          </Layout>\r\n        )}\r\n      />\r\n    )\r\n  );\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    {/* Dashboard Layout Routes */}\r\n    {childRoutes(DashboardLayout, dashboardRoutes)}\r\n    \r\n    {/* Auth Layout Routes */}\r\n    {childRoutes(AuthLayout, authRoutes)}\r\n    \r\n    {/* Landing Layout Routes */}\r\n    {childRoutes(LandingLayout, landingRoutes)}\r\n    \r\n    {/* Fallback Route */}\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <Route\r\n        render={() => (\r\n          <AuthLayout>\r\n            <Page404 />\r\n          </AuthLayout>\r\n        )}\r\n      />\r\n    </Suspense>\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { ThemeProvider as MuiThemeProvider} from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport { StylesProvider } from \"@material-ui/styles\";\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nimport maTheme from \"./theme\";\r\nimport Routes from \"./routes/Routes\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { ConfirmProvider } from 'material-ui-confirm';\r\nimport {SnackbarProvider} from \"notistack\";\r\n\r\n\r\nconst App = ({ theme }) => {\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <MuiThemeProvider theme={maTheme[theme.currentTheme]}>\r\n          <ThemeProvider theme={maTheme[theme.currentTheme]}>\r\n            <ConfirmProvider>\r\n             <SnackbarProvider maxSnack={1}>\r\n              <Routes />\r\n             </SnackbarProvider>\r\n            </ConfirmProvider>\r\n          </ThemeProvider>\r\n        </MuiThemeProvider>\r\n      </MuiPickersUtilsProvider>\r\n    </StylesProvider>\r\n  )\r\n}\r\nconst ConnectedApp = connect(store => ({ theme: store.themeReducer }))(App);\r\n\r\nfunction AppWithRouter() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <ConnectedApp/>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppWithRouter;\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store/index';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, document.getElementById('root'));\r\n","import store from \"../redux/store\";\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\";\nimport {errorMessage} from \"./alertMessages\";\nimport {AuthService} from \"./AuthService\";\nimport {redirectTo} from \"../routes/functions\";\n\nexport function handleError(error, message) {\n    if (error?.response?.data?.message?.includes(\"Failed in authentication\") || error?.response?.data?.message?.includes(\"Bad permissions\")){\n      AuthService.logout();\n      redirectTo('/auth/sign-in')\n      store.dispatch(enqueueSnackbar(errorMessage(\"Failed in authentication. Please Logout\")))\n    }\n    else if(error?.response?.data?.message?.includes(\"Access denied\")){\n      store.dispatch(enqueueSnackbar(errorMessage(\"Access Denied\")))\n      return error.response\n    }\n    else{\n      store.dispatch(enqueueSnackbar(errorMessage(message || error?.response?.data?.message)))\n    }\n}","\nexport function redirectTo(path){\n  window.location = path\n}\n","import React from 'react'\n\nexport const Logo = ({logo, width, padding, otherStyles}) => {\n  return <img src={logo} alt=\"Logo\" style={{padding: padding, maxWidth: width, width: '100%', ...otherStyles}}/>;\n}\n","import GLOBALS from './GLOBALS'\nimport {Token} from \"./common\";\nimport store from \"../redux/store\";\nimport {setAuthError, setAuthLoading, setSignedIn} from \"../redux/actions/authActions\";\nimport {redirectTo} from \"../routes/functions\";\nimport {Urls} from \"./urls\";\nimport API from \"./api\";\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\";\nimport {errorMessage, successMessage} from \"./alertMessages\";\nimport snackbarMessages from \"./snackbarMessages\";\nimport {PortalUsersService} from \"./PortalUsersService\";\n\n// Function to safely encode a string containing non-ASCII characters\nfunction safeBase64Encode(str) {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(str);\n  const base64 = btoa(String.fromCharCode.apply(null, data));\n  return base64;\n}\n\nexport const AuthService = {\n\n  attemptLogin: function () {\n    const username = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    AuthService.login(username,password);\n  },\n\n  login: function (username,password) {\n    store.dispatch(setAuthLoading())\n    let xhr = new XMLHttpRequest();\n    xhr.open('POST', Urls.api, true);\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.AUTH_TYPE,\n                         GLOBALS.HEADERS_VALUES.LOGIN);\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.AUTHORIZATION,\n                         GLOBALS.HEADERS_VALUES.BASIC + \" \" + safeBase64Encode(`${username}:${password}`));\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.LOGIN_TYPE,\n                         \"4\");\n\n    xhr.responseType = \"json\";\n\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) {\n           if (this.response?.message === \"OK\"){\n              Token.setToken(this.response.data[\"token\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER,username);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_ID,this.response.data[\"id\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_FNAME,this.response.data[\"fname\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_LNAME,this.response.data[\"lname\"]);\n\n             PortalUsersService.setInstitution(\n               0,\n               this.response.data[\"id\"],\n               this.response.data[\"token\"]\n             ).then((r)=>{\n                 store.dispatch(setSignedIn())\n                 redirectTo('/')\n             })\n           }\n           else{\n              store.dispatch(setAuthError(this.response))\n              throw this.response\n           }\n        }\n    };\n\n    xhr.send(null);\n\n  },\n  logout: function () {\n    sessionStorage.clear();\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.LOGOUT + \"/0\" // the identifier here, is ignored.\n    return API.post(endpoint).then((response) => {\n      return response\n    })\n        .catch((error) => {\n            store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.auth.logout)))\n        })\n    },\n  receivedInstitutionInfo: function(data){\n\n    //console.log(JSON.stringify(data));\n\n    if (data.message !== \"OK\"){\n        document.getElementById(\"error_message\").innerHTML = data.message;\n       // WaitDialog.close();\n        return;\n    }\n\n    let ilist = data.data;\n    let inst_list = [];\n    for (let i = 0; i < ilist.length; i++){\n        let inst = {};\n        inst[GLOBALS.INST_LIST.NAME] =  ilist[i][\"institution_name\"];\n        inst[GLOBALS.INST_LIST.ID]   =  ilist[i][\"keyid\"];\n        inst_list.push(inst);\n    }\n\n    sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS,JSON.stringify(inst_list));\n\n    // Making sure we are home.\n   // WaitDialog.close();\n    window.location.href = \"index.html\"\n\n  },\n  modifyAccount: function(params){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.MODIFY_OWN + \"/0\" ;\n\n    //filtering params to send only updated ones\n    const filtered = Object.fromEntries(Object.entries(params).filter(([k,v]) => v!==null));\n\n    return API.post(endpoint, filtered).then((response) => {\n      store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.account.post)));\n      if(filtered['name']){\n        sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_FNAME,filtered['name']);\n      }\n      if(filtered['lastname']){\n        sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_LNAME,filtered['lastname']);\n      }\n      redirectTo(\"/\")\n      return response\n    }).catch((error) => {\n        store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.account.post)))\n      })\n  },\n  sendResetPasswordEmail: function(email){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.RESET_PASSWORD + \"/\" + email;\n    return API.post(endpoint).then((response) => {\n      return response.data.message\n    }).catch((error) => {\n      return error.response.data.message\n    })\n  },\n  resetPassword: function(id,token,password){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.RESET_PASSWORD + \"/\" + id + \"?key=\" + token;\n    return API.post(endpoint, {password: password}).then((response) => {\n      return response.data.message\n    }).catch((error) => {\n        store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.account.resetPassword)))\n        return error.response.data.message\n      })\n  },\n}\n\n","import * as types from '../constants';\n\nexport function setSignedIn() {\n  return {\n    type: types.SET_SIGNED_IN\n  }\n}\n\nexport function setSignedOut() {\n  localStorage.removeItem('loginToken');\n  localStorage.removeItem('loginUsername');\n  return {\n    type: types.SET_SIGNED_OUT\n  }\n}\n\nexport function setResetPasswordDone() {\n  return {\n    type: types.SET_RESET_PASSWORD_DONE\n  }\n}\n\nexport function setNewPasswordDone() {\n  return {\n    type: types.SET_NEW_PASSWORD_DONE\n  }\n}\n\nexport function setAuthLoading() {\n  return {\n    type: types.SET_AUTH_LOADING\n  }\n}\n\nexport function setAuthError(error) {\n  return {\n    type: types.SET_AUTH_ERROR,\n    payload: error\n  }\n}\n","export default __webpack_public_path__ + \"static/media/Logo4.37f3e511.png\";"],"sourceRoot":""}