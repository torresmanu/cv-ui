{"version":3,"sources":["services/common.js","services/urls.js","utils/toTitleCase.js","redux/constants.js","utils/date.js","services/PortalUsersService.js","redux/store/dbFilterSlice.js","redux/reducers/auth.js","redux/reducers/alertMessages.js","redux/reducers/dateFilterReducer.js","redux/reducers/kpiDataReducer.js","redux/reducers/index.js","redux/reducers/themeReducers.js","redux/store/index.js","services/api.js","services/DBService.js","pages/auth/Page404.js","redux/actions/snackbarActions.js","services/alertMessages.js","theme/variants.js","theme/typography.js","theme/overrides.js","theme/breakpoints.js","theme/props.js","theme/shadows.js","theme/index.js","components/Loader.js","components/Async.js","routes/auth.js","routes/index.js","components/Sidebar.js","images/Logo.png","components/Header.js","components/Notifier.js","layouts/Dashboard.js","layouts/Auth.js","images/logo_simple.svg","layouts/Landing.js","routes/Routes.js","App.js","index.js","services/handleError.js","routes/functions.js","pages/components/Logo.js","services/AuthService.js","redux/actions/authActions.js","images/Logo4.png"],"names":["Token","checkLogIn","ret","sessionStorage","getItem","GLOBALS","SESSION_KEYS","TOKEN","now","Date","EXPIRATION_DATE","window","location","href","setToken","token","dt","setMinutes","getMinutes","setItem","toString","getToken","Urls","api","API","defaults","baseURL","ApiLogIn","ApiLogOut","ApiChangePassword","ApiResetPassword","ApiRegister","ApiInstitution","ENDPOINTS","INSTITUTION","LIST","USER_ID","ApiSetInst","PORTAL_USER","SET_INST","interceptors","response","use","error","Promise","reject","titleCase","str","_str","_str3","_str5","_str2","_str4","undefined","startsWith","substring","endsWith","length","split","map","word","subWord","_subWord$charAt","charAt","toUpperCase","slice","join","SET_THEME","SET_SIGNED_IN","SET_SIGNED_OUT","SET_RESET_PASSWORD_DONE","SET_NEW_PASSWORD_DONE","SET_AUTH_LOADING","SET_AUTH_ERROR","ENQUEUE_SNACKBAR","CLOSE_SNACKBAR","REMOVE_SNACKBAR","SET_FORM_STATUS","SET_START_DATE","SET_END_DATE","FETCH_KPI_DATA_REQUEST","FETCH_KPI_DATA_SUCCESS","FETCH_KPI_DATA_FAILURE","moment","locale","formattedDate","date","originalDate","parts","formatDate","isoDateTime","format","isISODate","isNaN","getTime","PortalUsersService","setInstitution","id","user_id","axios","create","process","responseType","headers","HEADERS_VALUES","PARTNER","post","then","PERMISSIONS","JSON","stringify","data","catch","handleError","snackbarMessages","portalUsers","set","getMasterList","_response$data","Object","values","get","GET","search","email","SEARCH","link","institution_id","url_params","LINK","store","dispatch","enqueueSnackbar","successMessage","success","unlink","role","url","body","name","lastname","company","user_role","passwd","password","force_enable","SET","edit","message","enable","enabled","disable","loadFilterValues","createAsyncThunk","async","_","_ref","rejectWithValue","DBService","getFilterValues","http_code","handleArrayFilter","existingFilter","value","existingValues","includes","key","push","handleRangeFilter","parseFn","arguments","parseFloat","dateFormatFn","formattedValue","min","max","resetFilterState","state","selectedFilter","selectedSubFilter","selectedCategory","filterType","dbFilterSlice","createSlice","initialState","filters","subjects","evaluations","institutionMap","portalUserMap","evaluationTypeMap","isLoading","appliedFilters","appliedValues","filtersToRender","subFilterType","searchDisable","disabledKeys","reducers","setSelectedFilter","action","payload","setSelectedSubFilter","setSelectedCategory","setFilterType","setSubFilterType","applyFilters","filter","filterCategory","filterKey","displayFilterKey","cleanFilter","replace","cleanSubFilter","filterToRender","filterTitleCase","filter_type","sub_filter_type","filter_values","clearAllFilters","appliedKeys","removeAppliedFilter","filterToRemove","categoryKey","val","keys","setSearchDisable","extraReducers","builder","addCase","pending","fulfilled","institutions","portal_users","evaluation_types","cleanedSubjects","cleanedEvaluations","rejected","actions","initial","loading","signedIn","notifications","open","dismissed","variant","startDate","endDate","isKPILoading","calibrationData","trustworthyData","processingFailsData","discardedData","completedEvaluations","successfulTasks","kpiDataReducer","type","calibrations","trustworthy_task","processing_fails","discarded","completed_evaluations","successful_tasks","combineReducers","dateFilter","kpiData","dbFilterReducer","alertMessages","types","notification","dismissAll","themeReducer","currentTheme","auth","configureStore","reducer","rootReducer","auth_value","DB","GET_FILTER_VALUES","_snackbarMessages$err","_snackbarMessages$err2","researchDB","get_filter_values","_snackbarMessages$err3","_snackbarMessages$err4","console","log","Button","styled","MuiButton","spacing","Wrapper","div","props","theme","breakpoints","up","Page404","React","createElement","Typography","component","align","gutterBottom","Link","to","color","mt","Grid","container","direction","justify","alignItems","item","style","paddingTop","Logo","logo","width","options","Math","random","closeSnackbar","item_message","autoHideDuration","IconButton","onClick","CloseIcon","errorMessage","variants","palette","primary","main","contrastText","secondary","blue","textSecondary","header","background","grey","indicator","sidebar","brand","footer","online","green","badge","typography","useNextVariants","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","h1","fontWeight","lineHeight","h2","h3","h4","h5","h6","body1","body2","button","textTransform","overrides","MuiCardHeader","marginTop","marginRight","MuiPickersDay","day","MuiPickersYear","root","height","MuiPickersCalendar","transitionContainer","MuiPickersCalendarHeader","iconButton","backgroundColor","switchHeader","marginBottom","MuiPickersClock","margin","MuiPickersClockNumber","clockNumber","left","MuiPickerDTHeader","dateHeader","timeHeader","MuiPickersTimePicker","hourMinuteLabel","MuiPickersToolbar","toolbar","xs","sm","md","lg","xl","MuiButtonBase","disableRipple","titleTypographyProps","createShadow","px","shadows","themes","createMuiTheme","Root","Loader","CircularProgress","m","asyncComponent","importComponent","AsyncComponent","Component","constructor","super","this","componentDidMount","r","setTimeout","default","setState","render","C","locationHelper","locationHelperBuilder","userIsAuthenticatedDefaults","authenticatedSelector","authenticatingSelector","wrapperDisplayName","userIsAuthenticatedRedir","connectedAuthWrapper","connectedRouterRedirect","AuthenticatingComponent","redirectPath","ownProps","getRedirectQueryParam","NeedsLogin","userIsNotAuthenticatedDefaults","userIsNotAuthenticatedRedir","allowRedirectBack","SignIn","SignUp","ForgotPassword","ResetPassword","Page500","Users","Database","MyAccount","Home","permissions","parse","homeRoutes","_permissions$stats","find","perm","CAN_SEE_KPI","_permissions$reports","_permissions$reports2","LIST_EVALUATORS","_permissions$instance","_permissions$research","CAN_RESEARCH_DB","_permissions$research2","CAN_SEARCH_DB","_permissions$portal_u","CAN_SEE_MASTER_LIST","path","children","hidden","accountRoutes","authRoutes","Unlock","FileText","UsersIcon","BarChart","icon","DatabaseRoutes","dashboard","landing","routes","originalMenu","child","NavLink","forwardRef","ref","RouterNavLink","assign","innerRef","Drawer","MuiDrawer","Scrollbar","PerfectScrollbar","List","MuiList","Items","Brand","ListItem","Category","activeClassName","CategoryText","ListItemText","CategoryIconLess","ExpandLess","rgba","CategoryIconMore","ExpandMore","LinkText","LinkBadge","Chip","fontWeightBold","CategoryBadge","SidebarSection","SidebarFooter","SidebarCategory","classes","isOpen","isCollapsable","rest","label","SidebarLink","_ref2","disabled","dense","exact","Sidebar","toggle","index","forEach","UNSAFE_componentWillMount","pathName","pathname","route","isActive","indexOf","isHome","containsHome","staticContext","other","padding","disablePadding","category","Fragment","Collapse","in","timeout","unmountOnExit","Divider","Avatar","alt","src","startIcon","AccountBoxIcon","e","redirectTo","fullWidth","justifyContent","ExitToAppIcon","AuthService","logout","removeItem","USER","VERSION","withRouter","AppBar","MuiAppBar","MuiIconButton","img","ProfileSection","connect","withTheme","onDrawerToggle","position","elevation","Toolbar","displayed","Notifier","useDispatch","useSelector","useSnackbar","useEffect","onClose","event","reason","myKey","GlobalStyle","createGlobalStyle","AppContent","Paper","MuiPaper","MainContent","down","Dashboard","mobileOpen","handleDrawerToggle","CssBaseline","PaperProps","Header","p","mapStateToProps","snackbar","params","Auth","Landing","Box","sx","py","textAlign","bgcolor","Container","childRoutes","Layout","Route","Routes","Switch","DashboardLayout","dashboardRoutes","AuthLayout","LandingLayout","landingRoutes","Suspense","fallback","ConnectedApp","StylesProvider","injectFirst","MuiPickersUtilsProvider","utils","DateFnsUtils","MuiThemeProvider","maTheme","ThemeProvider","ConfirmProvider","SnackbarProvider","maxSnack","AppWithRouter","Router","basename","ReactDOM","Provider","App","document","getElementById","_error$response","_error$response$data","_error$response$data$","_error$response2","_error$response2$data","_error$response2$data2","_error$response3","_error$response3$data","_error$response3$data2","_error$response4","_error$response4$data","otherStyles","maxWidth","attemptLogin","username","login","xhr","XMLHttpRequest","setRequestHeader","HEADERS_NAMES","AUTH_TYPE","LOGIN","AUTHORIZATION","BASIC","TextEncoder","encode","btoa","String","fromCharCode","apply","safeBase64Encode","LOGIN_TYPE","onreadystatechange","readyState","_this$response","USER_FNAME","USER_LNAME","send","clear","endpoint","LOGOUT","receivedInstitutionInfo","innerHTML","ilist","inst_list","i","inst","INST_LIST","NAME","ID","USER_INSTITUTIONS","modifyAccount","MODIFY_OWN","filtered","fromEntries","entries","k","v","account","sendResetPasswordEmail","RESET_PASSWORD","resetPassword"],"mappings":"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","file":"static/js/main.ace73875.chunk.js","sourcesContent":["/*// This will be the name space for any global constants or variables.\n\n// Keys for sessionStorage.\nGLOBALS.SESSION_KEYS = {};\nGLOBALS.SESSION_KEYS.EXPIRATION_TIME   = \"expiration_time\"\nGLOBALS.SESSION_KEYS.EXPIRATION_DATE   = \"expiration_date\"\nGLOBALS.SESSION_KEYS.API               = \"api\"\nGLOBALS.SESSION_KEYS.USER              = \"username\"\nGLOBALS.SESSION_KEYS.USER_ID           = \"user_id\"\nGLOBALS.SESSION_KEYS.USER_FNAME        = \"user_first_name\"\nGLOBALS.SESSION_KEYS.USER_LNAME        = \"user_last_name\"\nGLOBALS.SESSION_KEYS.TOKEN             = \"token\"\nGLOBALS.SESSION_KEYS.USER_INSTITUTIONS = \"user_institutions\"\nGLOBALS.SESSION_KEYS.PERMISSIIONS      = \"permissions\";\n\n// Permissions keys\nGLOBALS.PERMISSIIONS = {};\nGLOBALS.PERMISSIIONS.SEE_ALL_OWN_INST  = \"see_all_own_institution\";\nGLOBALS.PERMISSIIONS.SEE_MED_RECS      = \"load_medical_records\";\nGLOBALS.PERMISSIIONS.SEE_ADMIN_PANEL   = \"admin_dashboard\";\n\n// Simple comunicating between pages.\nGLOBALS.PAGE_COMM = {}\nGLOBALS.PAGE_COMM.SELECTED_INSTITUTION_ID   = \"selected_institution\";\nGLOBALS.PAGE_COMM.SELECTED_INSTITUTION_NAME = \"selected_institution_name\";\nGLOBALS.PAGE_COMM.SELECTED_SUBJECT          = \"selected_subject\";\nGLOBALS.PAGE_COMM.SELECTED_REPORT           = \"selected_report\";\nGLOBALS.PAGE_COMM.SELECTED_PDF              = \"selected_PDF\";\nGLOBALS.PAGE_COMM.SELECTED_MEDREC           = \"selected_medical_record\"\n\n// For accessing the inst construct.\nGLOBALS.INST_LIST = {};\nGLOBALS.INST_LIST.NAME = \"name\";\nGLOBALS.INST_LIST.ID   = \"id\";\n\n// Values for the headers used.\nGLOBALS.HEADERS_VALUES =  {}\nGLOBALS.HEADERS_VALUES.PARTNER = \"VMPartner\"\nGLOBALS.HEADERS_VALUES.LOGIN   = \"Login\"\nGLOBALS.HEADERS_VALUES.BASIC   = \"Basic\"\n\n// The names of the actual headers\nGLOBALS.HEADERS_NAMES = {}\nGLOBALS.HEADERS_NAMES.AUTHORIZATION = \"Authorization\"\nGLOBALS.HEADERS_NAMES.AUTH_TYPE = \"AuthType\"\n\n// The endpoitns to be used.\nGLOBALS.ENDPOINTS = {}\nGLOBALS.ENDPOINTS.INSTITUTION = {}\nGLOBALS.ENDPOINTS.INSTITUTION.LIST = \"institution/list\";\nGLOBALS.ENDPOINTS.REPORTS = {}\nGLOBALS.ENDPOINTS.REPORTS.LIST = \"reports/list\";\nGLOBALS.ENDPOINTS.REPORTS.GET  = \"reports/get\";\nGLOBALS.ENDPOINTS.REPORTS.LIST_INST = \"reports/list_all_own_institution\";\nGLOBALS.ENDPOINTS.REPORTS.GET_INST  = \"reports/get_own_institution\";\nGLOBALS.ENDPOINTS.REPORTS.ALL_EVALS  = \"reports/admin_evaluation_list\";\nGLOBALS.ENDPOINTS.SUBJECT = {}\nGLOBALS.ENDPOINTS.SUBJECT.LIST = \"subjects/list\";\nGLOBALS.ENDPOINTS.SUBJECT.LIST_INST = \"subjects/list_all_own_institution\";\nGLOBALS.ENDPOINTS.PORTAL_USER = {};\nGLOBALS.ENDPOINTS.PORTAL_USER.MODIFY_OWN = \"portal_users/modify_own\"\nGLOBALS.ENDPOINTS.PORTAL_USER.LOGOUT = \"portal_users/logout\"\nGLOBALS.ENDPOINTS.MEDRECORDS = {}\nGLOBALS.ENDPOINTS.MEDRECORDS.MODIFY = \"medical_record/modify\"\nGLOBALS.ENDPOINTS.MEDRECORDS.LIST = \"medical_record/list\"\nGLOBALS.ENDPOINTS.MEDRECORDS.GET = \"medical_record/get\"\nGLOBALS.URLPARAMS = {}\nGLOBALS.URLPARAMS.SUBJECT = {}\nGLOBALS.URLPARAMS.SUBJECT.PORTAL_USER = \"pp\";\n\n// The HTML Elements that will be commonly accessed by all the JS scripts.\nGLOBALS.HTML = {}\nGLOBALS.HTML.WAIT_DIALOG = {}\nGLOBALS.HTML.WAIT_DIALOG.TEXT = \"waitDialogText\"\nGLOBALS.HTML.WAIT_DIALOG.MODAL = \"waitDialog\"\nGLOBALS.HTML.ERROR_DIALOG = {}\nGLOBALS.HTML.ERROR_DIALOG.MODAL = \"errorDialog\";\nGLOBALS.HTML.ERROR_DIALOG.TITLE = \"errorTitle\";\nGLOBALS.HTML.ERROR_DIALOG.TEXT  = \"errorMainBody\";\nGLOBALS.HTML.LANG_SELECT_DIAG = {}\nGLOBALS.HTML.LANG_SELECT_DIAG.MODAL = \"langReportSelectDialog\"\nGLOBALS.HTML.LANG_SELECT_DIAG.LANG_SELECT = \"language_select\"\nGLOBALS.HTML.LANG_SELECT_DIAG.FOOTER = \"lang_select_footer\"\nGLOBALS.HTML.USERNAME = \"display_user_name\";\nGLOBALS.HTML.NAV_INST_LIST = \"side_bar_institution_list\";\nGLOBALS.HTML.MEDREC_INST_LIST = \"side_bar_med_record_institution_list\"\nGLOBALS.HTML.MAIN = {}\nGLOBALS.HTML.MAIN.TITLE    = \"main_title\";\nGLOBALS.HTML.MAIN.CONTENTS = \"main_contents\";\nGLOBALS.HTML.MAIN.TABLE    = \"main_table\";\nGLOBALS.HTML.MAIN.TRAIL    = \"main_trail\";\nGLOBALS.HTML.MEDREC_SIDE_MENU = \"side_bar_medrecs\";\nGLOBALS.HTML.ADMIN_PANEL   = \"admin_dashboard_panel\";\n\n// The Routing Constants.\nGLOBALS.ROUTING = {}\nGLOBALS.ROUTING.PARAMS = {}\nGLOBALS.ROUTING.PARAMS.GOTO  = \"goto\"\nGLOBALS.ROUTING.PARAMS.ID    = \"id\"\nGLOBALS.ROUTING.PAGES = {};\nGLOBALS.ROUTING.PAGES.INSTITUTION  = \"institution\";\nGLOBALS.ROUTING.PAGES.SUBJECTS     = \"subjects\";\nGLOBALS.ROUTING.PAGES.REPORTS      = \"reports\";\nGLOBALS.ROUTING.PAGES.MEDRECS      = \"medrecs\";\nGLOBALS.ROUTING.PAGES.USER_ACCOUNT = \"myaccount\";\nGLOBALS.ROUTING.PAGES.MEDRECEDIT   = \"medrecedit\";\nGLOBALS.ROUTING.PAGES.ADMINEVAL    = \"admineval\";\n\n// Directory Map For Report Resources.\nGLOBALS.REPRESMAP = {}\nGLOBALS.REPRESMAP[\"Go No-Go\"] = \"GoNoGo\";\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Gets global values from server.\nfunction getConfigurationFromServer(){\n\n   //var item = sessionStorage.getItem(\"something\");\n   //console.log(\"ITEM is: \" + item);\n\n   var xhr = new XMLHttpRequest();\n   xhr.open('POST', \"php/config.php\", true);\n   xhr.responseType = \"json\";\n   xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n         sessionStorage.setItem(GLOBALS.SESSION_KEYS.API ,this.response.API);\n         sessionStorage.setItem(GLOBALS.SESSION_KEYS.EXPIRATION_TIME,this.response.EXPIRATION_TIME);\n      }\n   };\n   xhr.send(null);\n}\n\n// If the global values have not been loaded, they are.\nfunction checkConfig(force){\n   if (force === undefined) force = false;\n   if ((sessionStorage.getItem(GLOBALS.SESSION_KEYS.API ) === null) || (force)){\n      getConfigurationFromServer();\n   }\n}\n*/\nimport GLOBALS from './GLOBALS'\n\n/// Token management is encapsulated within these three function so that it may replaced easily in the future.\nexport const Token = {\n\n   checkLogIn: function(){\n      var ret = true;\n\n      if (sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN) !== null){\n         //console.log(\"Checking date for current token\");\n         var now = new Date();\n         var expiry = new Date(sessionStorage.getItem(GLOBALS.SESSION_KEYS.EXPIRATION_DATE));\n         //console.log(\"Comparing NOW: \" + now.toString() + \" to EXP: \" + expiry.toString())\n         if (expiry > now) ret = false;\n         else ret = true;\n      }\n      else {\n         //console.log(\"TOKEN not set\")\n         ret = true;\n      }\n      if (ret) window.location.href = \"login.html\";\n   },\n\n   setToken: function (token){\n      let minutes = 60;\n      //console.log(\"Adding \" + minutes + \" minutes\");\n      let dt = new Date();\n      //console.log(\"Current date: \" + dt.toString());\n      dt.setMinutes( dt.getMinutes() + minutes);\n      //console.log(\"Expiration: \"  + dt.toString());\n      sessionStorage.setItem(GLOBALS.SESSION_KEYS.TOKEN,token);\n      sessionStorage.setItem(GLOBALS.SESSION_KEYS.EXPIRATION_DATE,dt.toString())\n      //console.log(\"SET EXPIRY TO: \"  + dt.toString());\n   },\n\n   getToken: function(){\n      return sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN);\n   }\n\n}\n/*\n/// Wait Dialog In case We neeed it.\nvar WaitDialog = {\n\n   modal: undefined,\n\n   init: function(){\n      var myModal = document.getElementById(GLOBALS.HTML.WAIT_DIALOG.MODAL);\n      this.modal = new bootstrap.Modal(myModal);\n   },\n\n   open: function(title){\n      document.getElementById(GLOBALS.HTML.WAIT_DIALOG.TEXT).innerHTML = title;\n      this.modal.show();\n   },\n\n   close: function() {\n      //var myModal = document.getElementById(GLOBALS.HTML.WAIT_DIALOG.MODAL);\n      //var modal = new bootstrap.Modal(myModal);\n      this.modal.hide();\n   }\n\n}\n\nfunction noSpecialCharsInput(input){\n\n   var chars_to_check = \"[&/\\\\#,+()!$~%.'\\\":*?<>{}_]/\";\n\n   console.log(\"Checking the input of \" + input);\n\n   for (var i = 0; i < chars_to_check.length; i++){\n      var c = chars_to_check.charAt(i);\n      if (input.includes(c)){\n         console.log(\"Invalid character found: \" + c);\n         return false;\n      }\n   }\n\n   return true;\n\n}\n\n/// Error dialog. Will show when an error occurs with the simplified server message.\nvar ErrorDialog  = {\n\n   modal: undefined,\n\n   init: function(){\n      var myModal = document.getElementById(GLOBALS.HTML.ERROR_DIALOG.MODAL);\n      this.modal = new bootstrap.Modal(myModal);\n   },\n\n   open: function (title, text){\n      document.getElementById(GLOBALS.HTML.ERROR_DIALOG.TITLE).innerHTML = title;\n      document.getElementById(GLOBALS.HTML.ERROR_DIALOG.TEXT).innerHTML = \"<p>\" + text + \"</p>\";\n      this.modal.show();\n   },\n\n   close: function(){\n      this.modal.hide();\n   }\n\n}\n\n/// Code for opening and closing The Side Bar.\nwindow.addEventListener('DOMContentLoaded', event => {\n   // Toggle the side navigation\n   const sidebarToggle = document.body.querySelector('#sidebarToggle');\n   if (sidebarToggle) {\n       sidebarToggle.addEventListener('click', event => {\n           event.preventDefault();\n           document.body.classList.toggle('sb-sidenav-toggled');\n           localStorage.setItem('sb|sidebar-toggle', document.body.classList.contains('sb-sidenav-toggled'));\n       });\n   }\n});\n\n/// Code for listing the institutions in the side bar.\nfunction generateSideBarInstitutionList(){\n\n   //console.log(\"GENERATE SIDE BAR INST\");\n\n   var inst_list = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS);\n   inst_list = JSON.parse(inst_list);\n   if (inst_list == null) return;\n   if (inst_list.length < 1) return;\n\n   //console.log(JSON.stringify(inst_list));\n\n   var html  = \"\"; // For Subject List for Reports.\n   var html2 = \"\"; // For Medical Record List.\n\n   for (var i = 0; i < inst_list.length; i++){\n\n      html = html + '<a class = \"nav-link\" style = \"cursor:pointer\" onclick = \"goToInstitution(\\''\n      + inst_list[i][GLOBALS.INST_LIST.ID] + '\\',\\'' + GLOBALS.ROUTING.PAGES.SUBJECTS  + '\\')\" >'\n      + inst_list[i][GLOBALS.INST_LIST.NAME]  + '</a>\\n'\n\n      html2 = html2 + '<a class = \"nav-link\" style = \"cursor:pointer\" onclick = \"goToInstitution(\\''\n      + inst_list[i][GLOBALS.INST_LIST.ID] + '\\',\\'' + GLOBALS.ROUTING.PAGES.MEDRECS  + '\\')\" >'\n      + inst_list[i][GLOBALS.INST_LIST.NAME]  + '</a>\\n'\n\n   }\n   document.getElementById(GLOBALS.HTML.NAV_INST_LIST).innerHTML = html;\n   document.getElementById(GLOBALS.HTML.MEDREC_INST_LIST).innerHTML = html2;\n}\n\n/// Code to switch to the subject list of a particular institution.\nfunction goToInstitution(id,what_view){\n\n   var list = JSON.parse(sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS));\n   institution_name = \"\";\n   for (i in list){\n      if (list[i][GLOBALS.INST_LIST.ID] == id){\n         institution_name = list[i][GLOBALS.INST_LIST.NAME]\n      }\n   }\n\n   sessionStorage.setItem(GLOBALS.PAGE_COMM.SELECTED_INSTITUTION_ID,id);\n   sessionStorage.setItem(GLOBALS.PAGE_COMM.SELECTED_INSTITUTION_NAME,institution_name);\n\n   window.location.href = \"index.html?\" + GLOBALS.ROUTING.PARAMS.GOTO + \"=\" + what_view;\n}\n\n\n/// Code for building a generic table as the main element of the page.\n/**\n *\n * @param {\n *    JSON containing the following fields:\n *    - title: The name of the table.\n *    - column_list: The name of each column as it is displayed. Also this will be the name of the key in the data array.\n *    - data: The data array. It's a list composed of as many elements as there are rows. Each element is a JSON array containing the value assocciated with each column name.\n *    - gotoFunction: When a row is double clicked this function will be called passing as an only parameter the value of the unique_id for that row.\n *    - unique_id: The column that contains the unique_id for the row. Needs to be part of the column_list as well as be in each array of the data structure.\n *    - show_unique: Boolean. If false the unique_id column will be skipped.\n *    - container: String. If it exists, then this is the container (div) where the table will be put.\n * } table\n */\n\n/*\nfunction buildTable(table){\n\n   var html = '\\\n   <div class=\"card mb-4\">\\\n      <div class=\"card-header vm-gray\">\\\n         <i class=\"fas fa-table me-1\"></i>\\\n         ##TABLE_NAME##\\\n      </div>\\\n      <div class=\"card-body\">\\\n         <table id = \"##TABLE_ID##\">\\\n         <thead>\\\n             <tr>\\\n               ##COLUMNLIST##\\\n             </tr>\\\n         </thead>\\\n         <tfoot>\\\n             <tr>\\\n               ##COLUMNLIST##\\\n             </tr>\\\n         </tfoot>\\\n         <tbody>\\\n            ##TABLE_BODY##\\\n         </tbody>\\\n         </table>\\\n      </div>\\\n   </div>';\n\n   // Checking that everything is there.\n   if (!(\"title\" in table)){\n      table.title = \"Unnamed table\";\n   }\n\n   if (!(\"data\" in table)){\n      console.log(\"BUILD TABLE: No data. Exiting\");\n      return;\n   }\n   else{\n      if (table.data.length < 1){\n         console.log(\"BUILD TABLE: Empty data. Exiting\");\n      }\n   }\n\n   if (!(\"column_list\" in table)){\n      console.log(\"BUILD TABLE: Column list. Exiting\");\n      return;\n   }\n\n   if (\"unique_id\" in table){\n      if (!(\"show_unique\" in table)){\n         table.show_unique = false;\n      }\n   }\n   else{\n      table.unique_id = \"\";\n      table.show_unique = false;\n   }\n\n   if (!(\"gotoFunction\" in table)){\n      table.gotoFunction = \"\";\n   }\n\n   // Setting the table name and ID.\n   html = html.replace(\"##TABLE_NAME##\",table.title);\n   html = html.replace(\"##TABLE_ID##\",GLOBALS.HTML.MAIN.TABLE);\n\n   // Building the column list.\n   var html_col_list = \"\";\n   for (var i = 0; i < table.column_list.length; i++){\n\n      // If the this is the unique id column and we are not supposed to show it, we move on.\n      if ((table.column_list[i] == table.unique_id) && (!table.show_unique)) continue;\n\n      html_col_list = html_col_list + \"<th>\" + table.column_list[i] + \"</th>\\n\";\n   }\n\n   html = html.replace(\"##COLUMNLIST##\",html_col_list);\n   html = html.replace(\"##COLUMNLIST##\",html_col_list);\n\n   // Building the table body.\n   var table_body = \"\";\n\n   for (var r = 0; r < table.data.length; r++){\n\n      // Create a new row.\n      var tr = \"<tr ##ONDBCLICK## >\\n\";\n      var ondbclick = \"\";\n      var idfound = false;\n      if (table.gotoFunction != \"\"){\n         ondbclick = 'ondblclick = \"' + table.gotoFunction +   '(##ID##)\"'\n      }\n\n      for (var c = 0; c < table.column_list.length; c++){\n\n         var col_name = table.column_list[c];\n\n         if (col_name == table.unique_id){\n\n            // If this this the id column the id is replaced as the parameter on the double click function, if defined.\n            ondbclick = ondbclick.replace(\"##ID##\",\"'\" + table.data[r][col_name] + \"'\");\n            idfound = true;\n\n            // If the this is the unique id column and we are not supposed to show it, we move on.\n            if (!table.show_unique){\n               continue;\n            }\n         }\n\n         // Othewise we add the column for this row.\n         tr = tr + \"<td>\" +  table.data[r][col_name]  + \"</td>\\n\"\n\n      }\n\n      // If ID wasn't found, then we replace the doubleclick function call with nothing.\n      if (!idfound){\n         ondbclick = ondbclick.replace(\"##ID##\",\"\");\n      }\n\n      // Now we replace the place holder on the tr with the call to the double click function.\n      tr = tr.replace(\"##ONDBCLICK##\",ondbclick);\n\n      // Finalize the row.\n      tr = tr + \"</tr>\\n\";\n\n      // console.log(tr);\n\n      // And add it to the body.\n      table_body = table_body + tr;\n   }\n\n   // Insert the body table into the html\n   html = html.replace(\"##TABLE_BODY##\",table_body);\n\n   if (\"container\" in table){\n      document.getElementById(table.container).innerHTML = html;\n   }\n   else{\n      document.getElementById(GLOBALS.HTML.MAIN.CONTENTS).innerHTML = html;\n   }\n\n   //console.log(html);\n\n   // Enable the Simple Data Tables.\n   const displayTable = document.getElementById(GLOBALS.HTML.MAIN.TABLE);\n   let dataTable = new simpleDatatables.DataTable(displayTable);\n\n}\n\n/// Code for generating the BreadCrumb Trail below the title.\n\n/**\n *\n * @param {\n *    JSON Array with the following fields\n *    active_last: Boolean. If true the active class is applied ONLY the the last elememt of the trail. Otherwise it's only applied to all excepet the last.\n *    map: JSON Array where each member has two fields: name (the display of the trail) and where_to the page to load when clicked.\n * } trail\n */\n\n/*\n\nfunction generateTrail(trail){\n\n   document.getElementById(GLOBALS.HTML.MAIN.TRAIL).innerHTML = \"\";\n\n   if (!(\"active_last\" in trail)){\n      trail.active_last = true;\n   }\n\n   if (!(\"map\" in trail)){\n      console.log(\"GENERATE TRAIL: No map found\")\n      return;\n   }\n\n   // <!-- <li class=\"breadcrumb-item active\">Dashboard</li>\n   // <li class=\"breadcrumb-item\" style=\"cursor: pointer;\">Non active</li> -->\n\n   var html = \"\";\n\n   for (var i = 0; i < trail.map.length; i++){\n      var li =  '<li class = \"breadcrumb-item ##ACTIVE##\" ##STYLE## onclick=\"##ONCLICK##\">' + trail.map[i][\"name\"] + \"</li>\\n\"\n\n      if (i == (trail.map.length-1)){\n         // This is the last one which is the one that is active. So no cursor or link.\n         li = li.replace(\"##STYLE##\",\"\");\n         li = li.replace(\"##ONCLICK##\",\"\");\n         if (trail.active_last){\n            li = li.replace(\"##ACTIVE##\",\"active\");\n         }\n         else{\n            li = li.replace(\"##ACTIVE##\",\"\");\n         }\n      }\n      else{\n         li = li.replace(\"##ONCLICK##\",\"window.location.href='\" + trail.map[i][\"where_to\"] + \"'\");\n         li = li.replace(\"##STYLE##\",\"style = 'cursor: pointer;'\")\n         if (trail.active_last){\n            li = li.replace(\"##ACTIVE##\",\"\");\n         }\n         else{\n            li = li.replace(\"##ACTIVE##\",\"active\");\n         }\n      }\n\n      html = html + li;\n   }\n\n   document.getElementById(GLOBALS.HTML.MAIN.TRAIL).innerHTML = html;\n}\n\n/// Code for setting the user name in the top right.\nfunction setUserName(){\n   var fname = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_FNAME);\n   var lname = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_LNAME);\n   document.getElementById(GLOBALS.HTML.USERNAME).innerHTML = lname + \", \" + fname;\n}\n\n/// Simply logging out\nfunction logOut(){\n   API.logout(\"logOutReturnFunction\");\n}\n\nfunction logOutReturnFunction (response){\n   if (response.message != \"OK\"){\n      ErrorDialog.open(\"Server Error\",response.message);\n      return;\n   }\n   sessionStorage.removeItem(GLOBALS.SESSION_KEYS.TOKEN);\n   Token.checkLogIn();\n}\n\n/// Convinience function to resturn N/A instead of nulls or undefined.\nfunction displayValue(array, index){\n   if (index in array){\n      if (array[index] == null){\n         return \"N/A\"\n      }\n      else return array[index];\n   }\n   return \"N/A\"\n}\n\n// Straight function to transform an ISO date to a more friendly display format.\nfunction displayDate(isodate){\n   var date_and_time = isodate.split(\" \");\n   if (date_and_time.length != 2) return isodate;\n   var date = date_and_time[0];\n   var time = date_and_time[1];\n   var date_parts = date.split(\"-\");\n   if (date_parts.length != 3) return isodate;\n   var retdate = date_parts[2] + \"/\" + date_parts[1] + \"/\" + date_parts[0];\n   var time_parts = time.split(\":\")\n   if (time_parts.length != 3) return isodate;\n   var rettime = time_parts[0] + \":\" + time_parts[1]\n   return retdate + \" \" + rettime;\n}\n\n// Verification on what is empty to knwo what to display for the subject identifier\nfunction getSubjectDisplayID(){\n   var subjectData = JSON.parse(sessionStorage.getItem(GLOBALS.PAGE_COMM.SELECTED_SUBJECT));\n   if (subjectData == null) return \"\";\n   var sname = \"\";\n   if ((subjectData.fname == \"\") && (subjectData.lname == \"\")){\n      sname = subjectData.did;\n   }\n   else{\n      sname = subjectData.lname + \", \" + subjectData.fname;\n   }\n   return sname;\n}\n*/\n","import API from './api';\nimport GLOBALS from \"./GLOBALS\";\n\nconst logout_url = '/auth/logout';\nconst change_password_url = '/auth/';\nconst reset_password_url = '/auth/password';\nconst register_url = '/auth/register';\n\n\n\nexport const buildUrlFor = model => `${API.defaults.baseURL}/${model}/`;\n\nexport const Urls = {\n    api: API.defaults.baseURL,\n\n    ApiLogIn: API.defaults.baseURL,\n    ApiLogOut: API.defaults.baseURL + logout_url,\n    ApiChangePassword: API.defaults.baseURL + change_password_url,\n    ApiResetPassword: API.defaults.baseURL + reset_password_url,\n    ApiRegister: API.defaults.baseURL + register_url,\n\n    ApiInstitution: GLOBALS.ENDPOINTS.INSTITUTION.LIST + \"/\" + sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_ID),\n    ApiSetInst: GLOBALS.ENDPOINTS.PORTAL_USER.SET_INST + \"/\"\n}\n\nAPI.interceptors.response.use(\n  function (response) {\n    // Any 2xx status code\n    return response;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\n","export const titleCase = (str) => {\n  // Handle null or undefined inputs\n  if (str === null || str === undefined) {\n    return '';\n  }\n\n  // Ensure str is a string\n  if (typeof str !== 'string') {\n    str = str.toString();\n  }\n\n  // Remove 'vm_' prefix if present\n  if (str?.startsWith('vm_')) {\n    str = str?.substring(3);\n  }\n\n  // Remove '_id' suffix if present\n  if (str?.endsWith('_id')) {\n    str = str?.substring(0, str.length - 3);\n  }\n\n  // Split the string by dots\n  let words = str?.split('.');\n\n  // Capitalize the first letter of each word, handling underscores as well\n  let formattedWords = words.map((word) => {\n    // Split by underscores and capitalize each part\n    return word\n      .split('_')\n      .map((subWord) => subWord?.charAt(0)?.toUpperCase() + subWord?.slice(1))\n      .join(' ');\n  });\n\n  // Join the words with a space\n  return formattedWords.join(' ');\n};","export const SET_THEME = 'SET_THEME';\r\n\r\nexport const SET_SIGNED_IN = 'SET_SIGNED_IN';\r\nexport const SET_SIGNED_OUT = 'SET_SIGNED_OUT';\r\nexport const SET_RESET_PASSWORD_DONE = 'SET_RESET_PASSWORD_DONE';\r\nexport const SET_NEW_PASSWORD_DONE = 'SET_NEW_PASSWORD_DONE';\r\nexport const SET_AUTH_LOADING = 'SET_AUTH_LOADING';\r\nexport const SET_AUTH_ERROR = 'SET_AUTH_ERROR';\r\n\r\nexport const ENQUEUE_SNACKBAR = 'ENQUEUE_SNACKBAR';\r\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR';\r\nexport const REMOVE_SNACKBAR = 'REMOVE_SNACKBAR';\r\n\r\nexport const SET_FORM_STATUS = 'SET_FORM_STATUS';\r\n\r\n// KPI\r\nexport const SET_START_DATE = 'SET_START_DATE';\r\nexport const SET_END_DATE = 'SET_END_DATE';\r\nexport const FETCH_KPI_DATA_REQUEST = 'FETCH_KPI_DATA_REQUEST';\r\nexport const FETCH_KPI_DATA_SUCCESS = 'FETCH_KPI_DATA_SUCCESS';\r\nexport const FETCH_KPI_DATA_FAILURE = 'FETCH_KPI_DATA_FAILURE';","import moment from \"moment/moment\";\nimport { format } from 'date-fns';\n\nmoment.locale('es');\n\nconst dateFormat = 'DD MMM YYYY';\n\n// rawDate can be date, datetime or timestamp\nexport const toDateFormat = (rawDate, format = dateFormat) => {\n  if (!moment(rawDate).isValid()){\n    return '-'\n  }\n  return moment(rawDate).format(format)\n};\n\nexport const formattedDate = (date) => {\n  const originalDate = date.substring(0,10);\n  const parts = originalDate?.split(\"-\") || [0,0,0];\n  return `${parts[2]}/${parts[1]}/${parts[0]}`;\n};\n\n\nexport const formatDate =(isoDateTime)=>{\n  return format(isoDateTime, 'yyyy-MM-dd');\n}\n\nexport const isISODate = (date) => {\n  // Check if the input is an instance of Date and is valid\n  return date instanceof Date && !isNaN(date.getTime());\n};\n","import API from './api'\nimport { Urls } from './urls'\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\"\nimport store from \"../redux/store\";\nimport {successMessage} from \"./alertMessages\"\nimport snackbarMessages from \"./snackbarMessages\"\nimport GLOBALS from \"./GLOBALS\";\nimport axios from \"axios\";\nimport {handleError} from \"./handleError\";\n\n\nexport const PortalUsersService = {\n\n    setInstitution: function (id, user_id, token) {\n      return axios.create({\n        baseURL: process.env.REACT_APP_API_URL,\n        responseType: \"json\",\n        headers: {\n          \"AuthType\": GLOBALS.HEADERS_VALUES.PARTNER,\n          \"Authorization\": user_id + \":\" + token,\n          \"LoginType\": 4\n        }\n      }).post(Urls.ApiSetInst + id).then((response) => {\n          sessionStorage.setItem(GLOBALS.SESSION_KEYS.PERMISSIONS, JSON.stringify(response.data.data));\n          return response.data\n        })\n            .catch((error) => {\n              handleError(error, snackbarMessages.error.portalUsers.set);\n            })\n    },\n    getMasterList: function () {\n      //the identifier should always be set to -1 to get master list\n        return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.LIST + '/-1')\n          .then((response) => {\n            return Object.values(response?.data?.data) || []\n          })\n        .catch((error) => {\n            handleError(error, snackbarMessages.error.portalUsers.get);\n          })\n   },\n    get: function (user_id) {\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.GET + '/' + user_id)\n        .then((response) => {\n          return response.data || []\n      })\n          .catch((error) => {\n            handleError(error, snackbarMessages.error.portalUsers.get);\n          })\n    },\n\n    search: function (email) {\n       return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SEARCH + '/0',\n         {email: email})\n         .then((response) => {\n           return response.data || []\n       })\n           .catch((error) => {\n             handleError(error, snackbarMessages.error.portalUsers.get);\n           })\n     },\n\n    link: function (user_id, institution_id, link) {\n      const url_params= '/' + user_id + '?institution=' + institution_id + '&link='+ link;\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.LINK + url_params )\n        .then((response) => {\n          link === 1 ? store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.link))) :\n          store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.unlink)))\n          return response.data || []\n      })\n          .catch((error) => {\n            link === 1 ? handleError(error, snackbarMessages.error.portalUsers.link)\n            : handleError(error, snackbarMessages.error.portalUsers.unlink)\n          })\n    },\n\n    set: function (user_id, data, institution_id, role) {\n      const url = user_id ? '/' + user_id : '/0'\n      const body = user_id ? {\n        name: data.name,\n        lastname: data.lastname,\n        company: data.company,\n        user_role: role,\n      } :\n      {\n        name: data.name,\n        lastname: data.lastname,\n        passwd: data.password,\n        email: data.email,\n        company: data.company,\n        institution_id: institution_id,\n        user_role: role,\n        force_enable: true       //In the future it would be editable by front end user\n      }\n     //the identifier should always be set to 0 when creating a new user\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SET + url, body)\n        .then((response) => {\n          user_id ? store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.edit)))\n          : store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.portalUsers.create)))\n          return response.data || []\n      })\n          .catch((error) => {\n             const message = user_id ? snackbarMessages.error.portalUsers.edit : snackbarMessages.error.portalUsers.create\n             handleError(error, message);\n          })\n    },\n    enable: function (user_id, enable) {\n      return API.post(GLOBALS.ENDPOINTS.PORTAL_USER.SET + '/' + user_id, {enabled: enable})\n        .then((response) => {\n          store.dispatch(\n            enqueueSnackbar(\n              successMessage(\n                enable ? snackbarMessages.success.portalUsers.enable : snackbarMessages.success.portalUsers.disable\n                )))\n          return response.data || []\n      })\n          .catch((error) => {\n            handleError(\n              error,\n              enable ? snackbarMessages.error.portalUsers.enable : snackbarMessages.error.portalUsers.disable);\n          })\n    },\n};\n\n","// dbFilterSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { DBService } from '../../services/DBService';\nimport { titleCase } from '../../utils/toTitleCase';\nimport { formatDate, isISODate } from '../../utils/date';\n\n\n// Async thunk for loading filter values from DBService\nexport const loadFilterValues = createAsyncThunk(\n  'filters/loadFilterValues',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await DBService.getFilterValues();\n      if (response?.http_code === 200) {\n        return response.data;\n      } else {\n        return rejectWithValue('Failed to load filter values');\n      }\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  }\n);\n\n// Helper to handle array filters\nconst handleArrayFilter = (existingFilter, value) => {\n  let existingValues = [];\n  if (existingFilter && existingFilter[\"$in\"]) {\n    existingValues = existingFilter[\"$in\"];\n  }\n\n  if (!existingValues.includes(value.key)) {\n    existingValues.push(value.key);\n  }\n\n  return { \"$in\": existingValues };\n};\n\n// Helper to handle range filters (int, float, datetime)\nconst handleRangeFilter = (value, parseFn = parseFloat, dateFormatFn = null) => {\n  const formattedValue = {};\n  \n  if (value.min != undefined && value.min !== '') {\n    formattedValue[\"$gte\"] = dateFormatFn ? dateFormatFn(value.min, 'yyyy-MM-dd') : parseFn(value.min);\n  }\n\n  if (value.max != undefined && value.max !== '') {\n    formattedValue[\"$lte\"] = dateFormatFn ? dateFormatFn(value.max, 'yyyy-MM-dd') : parseFn(value.max);\n  }\n\n  return formattedValue;\n};\n\n// Helper function to reset filter-related state\nconst resetFilterState = (state) => {\n  state.selectedFilter = null;\n  state.selectedSubFilter = null;\n  state.selectedCategory = null;\n  state.filterType = '';\n};\n\nconst dbFilterSlice = createSlice({\n  name: 'filters',\n  initialState: {\n    filters: { subjects: [], evaluations: [] },\n    institutionMap: {},\n    portalUserMap: {},\n    evaluationTypeMap: {},\n    isLoading: true,\n    error: null,\n    selectedFilter: null,\n    selectedSubFilter: null,\n    selectedCategory: null,\n    appliedFilters: {},\n    appliedValues: [],\n    filtersToRender: [], // Added to manage filters to display in AppliedFilters component\n    filterType: '',      // Added to keep track of the current filter type\n    subFilterType: '',   // Added to keep track of the current sub-filter type\n    searchDisable: true,\n    disabledKeys: [],\n  },\n  reducers: {\n    setSelectedFilter: (state, action) => {\n      state.selectedFilter = action.payload;\n    },\n    setSelectedSubFilter: (state, action) => {\n      state.selectedSubFilter = action.payload;\n    },\n    setSelectedCategory: (state, action) => {\n      state.selectedCategory = action.payload;\n    },\n    setFilterType: (state, action) => {\n      state.filterType = action.payload;\n    },\n    setSubFilterType: (state, action) => {\n      state.subFilterType = action.payload;\n    },\n    applyFilters: (state, action) => {\n      const { filter, value, filterType, filterCategory } = action.payload;\n    \n      // Clean the filter key by removing any existing prefixes\n      let cleanFilter = filter.replace(/^(subjects?|evaluations?)\\./, '');\n    \n      let filterKey;\n      if (filterCategory === 'subjects') {\n        // Prepend 'subject.' prefix\n        filterKey = `subject.${cleanFilter}`;\n      } else if (filterCategory === 'evaluations') {\n        // For evaluation filters, do not prepend any prefix\n        filterKey = cleanFilter;\n      } else {\n        filterKey = filter;\n      }\n    \n      let displayFilterKey;\n    \n      // If state.selectedSubFilter is defined, clean it similarly\n      if (state.selectedSubFilter) {\n        let cleanSubFilter = state.selectedSubFilter.replace(/^(subjects?|evaluations?)\\./, '');\n    \n        if (filterCategory === 'subjects') {\n          state.selectedSubFilter = `subject.${cleanSubFilter}`;\n        } else if (filterCategory === 'evaluations') {\n          state.selectedSubFilter = cleanSubFilter;\n        } else {\n          state.selectedSubFilter = state.selectedSubFilter; // Keep it as is if not subject or evaluation\n        }\n        \n        displayFilterKey = titleCase(cleanSubFilter);\n        filterKey = `${state.selectedSubFilter}`;\n      } else {\n        displayFilterKey = titleCase(cleanFilter);\n      }\n    \n      const filterToRender = {\n        filterTitleCase: displayFilterKey,\n        filter_type: filterType,\n        sub_filter_type: state.subFilterType,\n        filter_values: value,\n        filterCategory: filterCategory,\n        filterKey: filterKey,\n      };\n    \n      // Add the filter to filtersToRender\n      state.filtersToRender.push(filterToRender);\n    \n      // Initialize the filters object if it doesn't exist\n      if (!state.appliedFilters[`${filterCategory}_filters`]) {\n        state.appliedFilters[`${filterCategory}_filters`] = {};\n      }\n    \n      // Prepare the filter value based on filterType\n      let formattedValue;\n    \n      if (filterType === 'array') {\n        const existingFilter = state.appliedFilters[`${filterCategory}_filters`][filterKey];\n        formattedValue = handleArrayFilter(existingFilter, value);\n    \n      } else if (filterType === 'int' || filterType === 'float') {\n        formattedValue = handleRangeFilter(value, parseFloat);\n        state.disabledKeys.push(cleanFilter);\n        \n      } else if (filterType === 'datetime') {\n        formattedValue = handleRangeFilter(value, null, formatDate);\n        state.disabledKeys.push(cleanFilter);\n        resetFilterState(state);\n      } else if (filterType === 'list_value_range') {\n        if (state.subFilterType === 'array') {\n          const existingFilter = state.appliedFilters[`${filterCategory}_filters`][filterKey];\n          formattedValue = handleArrayFilter(existingFilter, value);\n          state.disabledKeys.push(value.key);\n        } else if (state.subFilterType === 'int' || state.subFilterType === 'float') {\n          formattedValue = handleRangeFilter(value, parseFloat);\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        } else if (state.subFilterType === 'datetime') {\n          formattedValue = handleRangeFilter(value, null, formatDate);\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        }\n        else if (state.subFilterType === 'bool') {\n          formattedValue = value === true || false;\n          state.disabledKeys.push(filterKey);\n          resetFilterState(state);\n        }\n      }\n    \n      // Update the appliedFilters with the new filter\n      state.appliedFilters[`${filterCategory}_filters`][filterKey] = formattedValue;\n      state.searchDisable = false;\n    },\n    clearAllFilters: (state) => {\n        state.appliedFilters = {};\n        state.filtersToRender = [];\n        state.appliedValues = [];\n        state.appliedKeys = [];\n        state.disabledKeys = [];\n    },\n    removeAppliedFilter: (state, action) => {\n      const filterToRemove = action.payload;\n      const { filterCategory, filterKey, filter_values, filter_type, sub_filter_type } = filterToRemove;\n      // Remove it from disabledKeys\n      let cleanFilter = filterKey.replace(/^(subjects?|evaluations?)\\./, '');\n      state.disabledKeys = filter_type === 'list_value_range' ? \n        sub_filter_type === 'array' ?\n          state.disabledKeys.filter((key) => key !==filter_values.key)\n          : state.disabledKeys.filter((key) => key !==filterKey)\n        :\n        state.disabledKeys.filter((key) => key !== cleanFilter);\n\n      // Remove from filtersToRender\n      state.filtersToRender = state.filtersToRender.filter(\n        (filter) =>\n          !(\n            filter.filterKey === filterKey &&\n            filter.filterCategory === filterCategory &&\n            JSON.stringify(filter.filter_values) === JSON.stringify(filter_values)\n          )\n      );\n    \n      const categoryKey = `${filterCategory}_filters`;\n    \n      // Remove from appliedFilters\n      if (state.appliedFilters[categoryKey]) {\n        if (filter_type === 'array') {\n          // Remove the specific value from the $in array\n          const existingFilter = state.appliedFilters[categoryKey][filterKey];\n          if (existingFilter && existingFilter[\"$in\"]) {\n            existingFilter[\"$in\"] = existingFilter[\"$in\"].filter(\n            (val) => val !== filter_values.value\n          );\n          if (existingFilter[\"$in\"].length === 0) {\n            // If no values left, remove the filter key\n            delete state.appliedFilters[categoryKey][filterKey];\n          } else {\n            // Update the filter with remaining values\n            state.appliedFilters[categoryKey][filterKey] = existingFilter;\n          }\n        }\n        } else {\n          // For other filter types, remove the filter key\n          delete state.appliedFilters[categoryKey][filterKey];\n        }\n    \n        // If the category filters are empty, delete the category\n        if (Object.keys(state.appliedFilters[categoryKey]).length === 0) {\n          delete state.appliedFilters[categoryKey];\n        }\n      }\n    },\n    setSearchDisable: (state, action) => {\n      state.searchDisable = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadFilterValues.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(loadFilterValues.fulfilled, (state, action) => {\n        const { institutions, portal_users, evaluation_types, ...filters } = action.payload;\n\n        // Remove 'last_file_id' from subjects and evaluations filters\n        const cleanedSubjects = { ...filters.subjects };\n        const cleanedEvaluations = { ...filters.evaluations };\n\n        delete cleanedSubjects['last_file_id'];\n        delete cleanedEvaluations['last_file_id'];\n\n        state.filters = {\n          subjects: cleanedSubjects,\n          evaluations: cleanedEvaluations,\n        };\n\n        state.institutionMap = institutions || {};\n        state.portalUserMap = portal_users || {};\n        state.evaluationTypeMap = evaluation_types || {};\n        state.isLoading = false;\n      })\n      .addCase(loadFilterValues.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\n// Export actions to be used in components\nexport const {\n  setSelectedFilter,\n  setSelectedSubFilter,\n  setSelectedCategory,\n  setFilterType,\n  setSubFilterType,\n  applyFilters,\n  removeAppliedFilter,\n  clearAllFilters,\n  setSearchDisable\n} = dbFilterSlice.actions;\n\nexport default dbFilterSlice.reducer;","import * as types from '../constants';\r\nimport {Token} from \"../../services/common\";\r\n\r\nconst isSignedIn = () => (\r\n   Token.getToken() &&\r\n   new Date() < new Date(sessionStorage.getItem('expiration_date'))\r\n)\r\n\r\nconst initial = { loading: false,\r\n                  signedIn: isSignedIn(),\r\n                  // In case of being signed out, clears login data so that Authorization Header, with old token, is not sent in sign-in request\r\n                  error: null,\r\n                  successMessage: null\r\n              };\r\n\r\nexport default function reducer(state=initial, actions) {\r\n  switch (actions.type) {\r\n\r\n    case types.SET_SIGNED_IN:\r\n      return {\r\n        ...state,\r\n        signedIn: true,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: null\r\n      }\r\n\r\n    case types.SET_SIGNED_OUT:\r\n      return {\r\n        ...state,\r\n        signedIn: false\r\n      }\r\n\r\n    case types.SET_RESET_PASSWORD_DONE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: 'Se envi un mail con instrucciones para reestablecer la contrasea.'\r\n      }\r\n\r\n    case types.SET_NEW_PASSWORD_DONE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        successMessage: 'La contrasea se cambi exitosamente.'\r\n      }\r\n\r\n    case types.SET_AUTH_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n\r\n    case types.SET_AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: actions.payload,\r\n        successMessage: null\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import * as types from '../constants';\n\nconst initial  = {\n    notifications: [{ open:false, dismissed: true, variant: 'success', key: '0' }],\n }\n\nexport default function reducer(state=initial, action) {\n      switch (action.type) {\n        case types.ENQUEUE_SNACKBAR:\n            return {\n                ...state,\n                notifications: [\n                    ...state.notifications,\n                    {\n                        key: action.key,\n                        ...action.notification,\n                    },\n                ],\n            };\n\n        case types.CLOSE_SNACKBAR:\n            return {\n                ...state,\n                notifications: state.notifications.map(notification => (\n                    (action.dismissAll || notification.key === action.key)\n                        ? { ...notification, dismissed: true }\n                        : { ...notification }\n                )),\n            };\n\n        case types.REMOVE_SNACKBAR:\n            return {\n                ...state,\n                notifications: state.notifications.filter(\n                    notification => notification.key !== action.key,\n                ),\n            };\n\n    default:\n      return state\n  }\n}\n","// reducers/dateFilterReducer.js\nimport { SET_START_DATE, SET_END_DATE } from '../constants';\n\nconst initialState = {\n  startDate: null,\n  endDate: null,\n};\n\nexport default function dateFilterReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_START_DATE:\n      return { ...state, startDate: action.date };\n    case SET_END_DATE:\n      return { ...state, endDate: action.date };\n    default:\n      return state;\n  }\n}","// reducers/kpiDataReducer.js\nimport { FETCH_KPI_DATA_REQUEST, FETCH_KPI_DATA_SUCCESS, FETCH_KPI_DATA_FAILURE } from '../constants';\n\nconst initialState = {\n  isKPILoading: false,\n  calibrationData: [],\n  trustworthyData: [],\n  processingFailsData: [],\n  discardedData: [],\n  completedEvaluations: [],\n  successfulTasks: [],\n  error: null,\n};\n\nconst kpiDataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_KPI_DATA_REQUEST:\n      return {\n        ...state,\n        isKPILoading: true,\n        error: null,\n      };\n    case FETCH_KPI_DATA_SUCCESS:\n      return {\n        ...state,\n        isKPILoading: false,\n        calibrationData: action.data.calibrations,\n        trustworthyData: action.data.trustworthy_task,\n        processingFailsData: action.data.processing_fails,\n        discardedData: action.data.discarded,\n        completedEvaluations: action.data.completed_evaluations,\n        successfulTasks: action.data.successful_tasks,\n      };\n    case FETCH_KPI_DATA_FAILURE:\n      return {\n        ...state,\n        isKPILoading: false,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default kpiDataReducer;","import { combineReducers } from 'redux';\r\n\r\nimport auth from \"./auth\";\r\nimport themeReducer from './themeReducers';\r\nimport alertMessages from \"./alertMessages\";\r\n\r\nimport dateFilterReducer from './dateFilterReducer';\r\nimport kpiDataReducer from './kpiDataReducer';\r\n\r\nimport dbFilterReducer from '../store/dbFilterSlice';\r\n\r\n\r\nexport default combineReducers({\r\n\tdateFilter: dateFilterReducer,\r\n\tkpiData: kpiDataReducer,\r\n\tfilters: dbFilterReducer,\r\n\talertMessages,\r\n\tthemeReducer,\r\n\tauth\r\n});","import * as types from '../constants';\r\n\r\nexport default function reducer(state={ currentTheme: 0 }, actions) {\r\n  switch (actions.type) {\r\n\r\n    case types.SET_THEME:\r\n      return {\r\n        ...state,\r\n        currentTheme: actions.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from '../reducers';\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer, // Combine all your reducers here\r\n});\r\n\r\nexport default store;","import axios from 'axios';\nimport GLOBALS from \"./GLOBALS\";\n\nlet auth_value = sessionStorage.getItem(GLOBALS.SESSION_KEYS.USER_ID)\n                + \":\" + sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN);\n\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  responseType: \"json\",\n  headers: {\n    \"AuthType\": GLOBALS.HEADERS_VALUES.PARTNER,\n    \"Authorization\": auth_value,\n    \"LoginType\": 4\n  }\n});\n\nexport default API;\n","import API from './api'\nimport snackbarMessages from \"./snackbarMessages\"\nimport GLOBALS from \"./GLOBALS\";\nimport { handleError } from \"./handleError\";\n\nexport const DBService = {\n\n    //Get filter values. Will return all possible filter with all posible values for each.\n    getFilterValues: function () {\n        return API.post(GLOBALS.ENDPOINTS.DB.GET_FILTER_VALUES + '/0').then((response) => {\n            return response.data || []\n        })\n        .catch((error) => {\n            handleError(error || '', snackbarMessages?.error?.researchDB?.get_filter_values || '');\n            return error?.response\n        })\n    },\n\n   //Search dataset by applied filters. Will return all data about the subjects and evaluations that match the filters \n   search: function (appliedFilters) {\n      return API.post(GLOBALS.ENDPOINTS.DB.SEARCH+ '/0', appliedFilters).then((response) => {\n          return response.data.data || []\n      })\n          .catch((error) => {\n            console.log(\"Error in DBService.search when applying filters: \")\n            console.log(appliedFilters || \"No filters applied\")\n            handleError(error || '', snackbarMessages?.error?.researchDB?.search || '') ;\n          })\n   },\n\n};\n\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {Button as MuiButton, Grid, Typography} from \"@material-ui/core\";\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {Logo} from \"../components/Logo\";\r\nimport logo from \"../../images/Logo4.png\";\r\n\r\nconst Button = styled(MuiButton)(spacing);\r\n\r\nconst Wrapper = styled.div`\r\n  padding: ${props => props.theme.spacing(6)}px;\r\n  text-align: center;\r\n  background: transparent;\r\n\r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    padding: ${props => props.theme.spacing(10)}px;\r\n  }\r\n`;\r\n\r\nfunction Page404() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography component=\"h1\" variant=\"h1\" align=\"center\" gutterBottom>\r\n        404\r\n      </Typography>\r\n      <Typography component=\"h2\" variant=\"h5\" align=\"center\" gutterBottom>\r\n        Page not found.\r\n      </Typography>\r\n      <Typography component=\"h2\" variant=\"body1\" align=\"center\" gutterBottom>\r\n        The page you are looking for might have been removed.\r\n      </Typography>\r\n\r\n      <Button\r\n        component={Link}\r\n        to=\"/\"\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        mt={2}\r\n      >\r\n        Return to website\r\n      </Button>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n      <Grid item style={{paddingTop: 50}}>\r\n          <Logo logo={logo} width={'45%'}/>\r\n        </Grid>\r\n      </Grid>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Page404;\r\n","import * as types from '../constants';\n\n\nexport const enqueueSnackbar = (notification) => {\n    const key = notification.options && notification.options.key;\n\n    return {\n        type: types.ENQUEUE_SNACKBAR,\n        notification: {\n            ...notification,\n            key: key || new Date().getTime() + Math.random(),\n        },\n    };\n};\n\nexport const closeSnackbar = key => ({\n    type: types.CLOSE_SNACKBAR,\n    dismissAll: !key, // dismiss all if no key has been defined\n    key,\n});\n\nexport const removeSnackbar = key => ({\n    type: types.REMOVE_SNACKBAR,\n    key,\n});\n","import {closeSnackbar} from \"../redux/actions/snackbarActions\";\nimport React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport store from \"../redux/store\";\n\n\nexport const deleteSuccessMessage = { open: true, variant: 'success', message: 'Eliminado/s con xito'}\n//export const passwordMismatchMessage = { open: true, variant: 'warning', message: 'Verifique que la contrasea y la confirmacin coincidan'}\nexport const sentEmailMessage = { open: true, variant: 'success', message: 'Se envi un mail a la direccin indicada'}\n\n\nexport function successMessage(item_message) {\n    return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'success',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n\nexport function errorMessage(item_message) {\n    return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'error',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n\nexport function warningMessage(item_message) {\n        return{\n        open: true,\n        message: `${item_message}`,\n        options:{\n            variant: 'warning',\n            autoHideDuration: 12000,\n            key: new Date().getTime(),\n            action: key => (\n                <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={() => store.dispatch(closeSnackbar(key))}>\n                  <CloseIcon />\n                </IconButton>\n            ),\n        }\n    }\n}\n","import { blue, green, grey } from \"@material-ui/core/colors\";\r\n\r\n\r\nconst darkVariant = {\r\n  name: \"Dark\",\r\n  palette: {\r\n    primary: {\r\n      main: \"#040505\",\r\n      contrastText: \"#FFF\"\r\n    },\r\n    secondary: {\r\n      main: blue[500],\r\n      contrastText: \"#FFF\"\r\n    },\r\n    textSecondary: {\r\n      main: '#686868'\r\n    }\r\n  },\r\n  header: {\r\n    color: \"#121212\",\r\n    background: \"#121212\",\r\n    search: {\r\n      color: grey[800]\r\n    },\r\n    indicator: {\r\n      background: blue[600]\r\n    }\r\n  },\r\n  sidebar: {\r\n    color: \"#242424\",\r\n    background: \"#F6FBFF\",\r\n    header: {\r\n      color: grey[900],\r\n      background: \"#121212\",\r\n      brand: {\r\n        color: blue[500]\r\n      }\r\n    },\r\n    footer: {\r\n      color: grey[900],\r\n      background: \"#F6FBFF\",\r\n      online: {\r\n        background: green[500]\r\n      }\r\n    },\r\n    badge: {\r\n      color: \"#FFF\",\r\n      background: blue[500]\r\n    }\r\n  },\r\n  body: {\r\n    background: \"linear-gradient(180deg, #121212, #1C1B1B)\",  // Corrected gradient string\r\n  }\r\n};\r\n\r\nconst variants = [\r\n  darkVariant\r\n];\r\n\r\nexport default variants;\r\n","const typography = {\r\n  useNextVariants: true,\r\n  fontFamily: [\r\n    '\"Segoe UI\"',\r\n    \"-apple-system\",\r\n    \"BlinkMacSystemFont\",\r\n    \"Roboto\",\r\n    '\"Helvetica Neue\"',\r\n    \"Arial\",\r\n    \"sans-serif\",\r\n    '\"Apple Color Emoji\"',\r\n    '\"Segoe UI Emoji\"',\r\n    '\"Segoe UI Symbol\"'\r\n  ].join(\",\"),\r\n  fontSize: 14,\r\n  fontWeightLight: 300,\r\n  fontWeightRegular: 400,\r\n  fontWeightMedium: 600,\r\n  h1: {\r\n    fontSize: \"2rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h2: {\r\n    fontSize: \"1.75rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h3: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h4: {\r\n    fontSize: \"1.25rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h5: {\r\n    fontSize: \"1.125rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  h6: {\r\n    fontSize: \"1.0625rem\",\r\n    fontWeight: 500,\r\n    lineHeight: 1.2\r\n  },\r\n  body1: {\r\n    fontSize: 14,\r\n    fontWeight: 500,\r\n  },\r\n  body2: {\r\n    fontSize: 14,\r\n    color: '#686868',\r\n  },\r\n  button: {\r\n    textTransform: \"none\"\r\n  }\r\n};\r\n\r\nexport default typography;\r\n","const overrides = {\r\n  MuiCardHeader: {\r\n    action: {\r\n      marginTop: \"-4px\",\r\n      marginRight: \"-4px\"\r\n    }\r\n  },\r\n  MuiPickersDay: {\r\n    day: {\r\n      fontWeight: \"300\"\r\n    }\r\n  },\r\n  MuiPickersYear: {\r\n    root: {\r\n      height: \"64px\"\r\n    }\r\n  },\r\n  MuiPickersCalendar: {\r\n    transitionContainer: {\r\n      marginTop: \"6px\"\r\n    }\r\n  },\r\n  MuiPickersCalendarHeader: {\r\n    iconButton: {\r\n      backgroundColor: \"transparent\",\r\n      \"& > *\": {\r\n        backgroundColor: \"transparent\"\r\n      }\r\n    },\r\n    switchHeader: {\r\n      marginTop: \"2px\",\r\n      marginBottom: \"4px\"\r\n    }\r\n  },\r\n  MuiPickersClock: {\r\n    container: {\r\n      margin: `32px 0 4px`\r\n    }\r\n  },\r\n  MuiPickersClockNumber: {\r\n    clockNumber: {\r\n      left: `calc(50% - 16px)`,\r\n      width: \"32px\",\r\n      height: \"32px\"\r\n    }\r\n  },\r\n  MuiPickerDTHeader: {\r\n    dateHeader: {\r\n      \"& h4\": {\r\n        fontSize: \"2.125rem\",\r\n        fontWeight: 400\r\n      }\r\n    },\r\n    timeHeader: {\r\n      \"& h3\": {\r\n        fontSize: \"3rem\",\r\n        fontWeight: 400\r\n      }\r\n    }\r\n  },\r\n  MuiPickersTimePicker: {\r\n    hourMinuteLabel: {\r\n      \"& h2\": {\r\n        fontSize: \"3.75rem\",\r\n        fontWeight: 300\r\n      }\r\n    }\r\n  },\r\n  MuiPickersToolbar: {\r\n    toolbar: {\r\n      \"& h4\": {\r\n        fontSize: \"2.125rem\",\r\n        fontWeight: 400\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default overrides;\r\n","const breakpoints = {\r\n  values: {\r\n    xs: 0,\r\n    sm: 600,\r\n    md: 960,\r\n    lg: 1280,\r\n    xl: 1500\r\n  }\r\n};\r\n\r\nexport default breakpoints;\r\n","const props = {\r\n  MuiButtonBase: {\r\n    disableRipple: true\r\n  },\r\n  MuiCardHeader: {\r\n    titleTypographyProps: { variant: \"h6\" }\r\n  }\r\n};\r\n\r\nexport default props;\r\n","function createShadow(px) {\r\n  return `0 0 ${px}px 0 rgba(53,64,82,.05)`;\r\n}\r\n\r\nconst shadows = [\r\n  \"none\",\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14),\r\n  createShadow(14)\r\n];\r\n\r\nexport default shadows;\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nimport variants from \"./variants\";\r\nimport typography from \"./typography\";\r\nimport overrides from \"./overrides\";\r\nimport breakpoints from \"./breakpoints\";\r\nimport props from \"./props\";\r\nimport shadows from \"./shadows\";\r\n\r\nconst theme = variant => {\r\n  return createMuiTheme(\r\n    {\r\n      spacing: 4,\r\n      breakpoints: breakpoints,\r\n      overrides: overrides,\r\n      props: props,\r\n      typography: typography,\r\n      shadows: shadows,\r\n      body: variant.body,\r\n      header: variant.header,\r\n      palette: variant.palette,\r\n      sidebar: variant.sidebar\r\n    },\r\n    variant.name\r\n  );\r\n};\r\n\r\nconst themes = variants.map(variant => theme(variant));\r\n\r\nexport default themes;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nconst Root = styled.div`\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  min-height: 100%;\r\n`;\r\n\r\nfunction Loader() {\r\n  return (\r\n    <Root>\r\n      <CircularProgress m={2} color=\"secondary\" />\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nimport Loader from \"./Loader\";\r\n\r\nconst sleep = m => new Promise(r => setTimeout(r, m));\r\n\r\nexport default function asyncComponent(importComponent) {\r\n  class AsyncComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      await sleep(250);\r\n\r\n      const { default: component } = await importComponent();\r\n\r\n      this.setState({\r\n        component: component\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const C = this.state.component;\r\n\r\n      return C ? <C {...this.props} /> : <Loader />;\r\n    }\r\n  }\r\n\r\n  return AsyncComponent;\r\n}\r\n","import async from \"../components/Async\";\nimport locationHelperBuilder from 'redux-auth-wrapper/history4/locationHelper'\nimport { connectedRouterRedirect } from 'redux-auth-wrapper/history4/redirect'\nimport connectedAuthWrapper from 'redux-auth-wrapper/connectedAuthWrapper'\nimport Loader from \"../components/Loader\";\n\n\nconst locationHelper = locationHelperBuilder({})\n\nconst userIsAuthenticatedDefaults = {\n  authenticatedSelector: state => true,\n  authenticatingSelector: state => false,\n  wrapperDisplayName: 'UserIsAuthenticated'\n}\n\nexport const userIsAuthenticated = connectedAuthWrapper(userIsAuthenticatedDefaults)\n\nconst userIsAuthenticatedRedir = connectedRouterRedirect({\n  ...userIsAuthenticatedDefaults,\n  AuthenticatingComponent: Loader,\n  redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/auth/sign-in',\n})\n\nexport const NeedsLogin = component => userIsAuthenticatedRedir(\n  async(component)\n)\n\nconst userIsNotAuthenticatedDefaults = {\n  // Want to redirect the user when they are done loading and authenticated\n  authenticatedSelector: state => !state.auth.signedIn && !state.auth.loading,\n  authenticatingSelector: state => state.auth.loading,\n  wrapperDisplayName: 'UserIsNotAuthenticated'\n}\n\nexport const userIsNotAuthenticated = connectedAuthWrapper(userIsNotAuthenticatedDefaults)\n\nconst userIsNotAuthenticatedRedir = connectedRouterRedirect({\n  ...userIsNotAuthenticatedDefaults,\n  redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || '/',\n  allowRedirectBack: false\n})\n\nexport const NoLogin = component => userIsNotAuthenticatedRedir(\n  async(component)\n)\n","import React from \"react\";\r\n\r\nimport async from \"../components/Async\";\r\n\r\nimport {\r\n  BarChart,\r\n  Unlock,\r\n  FileText,\r\n  Users as UsersIcon\r\n} from \"react-feather\";\r\nimport StorageIcon from '@material-ui/icons/Storage';\r\n\r\nimport {NeedsLogin, NoLogin} from \"./auth\";\r\nimport GLOBALS from \"../services/GLOBALS.json\";\r\n\r\n// Auth components\r\nconst SignIn = NoLogin(() => import(\"../pages/auth/SignIn\"));\r\nconst SignUp = async(() => import(\"../pages/auth/SignUp\"));\r\nconst ForgotPassword = async(() => import(\"../pages/auth/ForgotPassword\"));\r\nconst ResetPassword = async(() => import(\"../pages/auth/ResetPassword\"));\r\nconst Page404 = async(() => import(\"../pages/auth/Page404\"));\r\nconst Page500 = async(() => import(\"../pages/auth/Page500\"));\r\n\r\n// Pages components\r\nconst Permissions = NeedsLogin(() => import(\"../pages/pages/Account/Permissions\"));\r\nconst OnBoard = NeedsLogin(() => import(\"../pages/pages/OnBoard\"));\r\nconst Institutions = NeedsLogin(() => import(\"../pages/pages/Institutions/Institutions\"));\r\nconst AddInstitution = NeedsLogin(() => import(\"../pages/pages/Institutions/addInstitution\"));\r\nconst AddUser = NeedsLogin(() => import(\"../pages/pages/Users/addUser\"));\r\nconst Users = NeedsLogin(() => import(\"../pages/pages/Users/Users\"));\r\nconst MasterUsersList = NeedsLogin(() => import(\"../pages/pages/MasterUsersList/MasterUsersList\"));\r\nconst Instances = NeedsLogin(() => import(\"../pages/pages/Institutions/Instances\"));\r\nconst EditInstance = NeedsLogin(() => import(\"../pages/pages/Institutions/editInstance\"));\r\nconst SetEvaluations = NeedsLogin(() => import(\"../pages/pages/Evaluations/SetEvaluations\"));\r\n//Stats components\r\nconst Stats = NeedsLogin(() => import(\"../pages/pages/Stats/index\"));\r\nconst InstancesTable = NeedsLogin(() => import(\"../pages/pages/Stats/InstancesTable\"));\r\nconst EvaluatorsTable = NeedsLogin(() => import(\"../pages/pages/Stats/EvaluatorsTable\"));\r\nconst Dashboard = NeedsLogin(() => import(\"../pages/pages/Stats/Dashboard\"));\r\nconst Failures = NeedsLogin(() => import(\"../pages/pages/Stats/Failures\"));\r\n\r\n//Database routes\r\nconst Database = NeedsLogin(() => import(\"../pages/pages/Database/Database\"));  \r\n\r\n//Account Routes\r\nconst MyAccount = NeedsLogin(() => import(\"../pages/pages/Account/MyAccount\"));\r\n\r\nconst Home = async(() => import(\"../pages/pages/home/Homepage\"));\r\n\r\n\r\nconst permissions = JSON.parse(sessionStorage.getItem(GLOBALS.SESSION_KEYS.PERMISSIONS));\r\nconst canSeeKPI = permissions ? permissions['stats']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEE_KPI)) \r\n  || permissions['reports']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST))\r\n  || permissions['reports']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST_EVALUATORS))\r\n  || permissions['instances']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.LIST)) : false;\r\nconst canGetFiltersDatabase = permissions ? permissions['research_db']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_RESEARCH_DB)) : false;\r\nconst canSearchDatabase = permissions ? permissions['research_db']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEARCH_DB)) : false;\r\nconst canSeeDatabase = canGetFiltersDatabase && canSearchDatabase;\r\nconst canSeeMasterList = permissions ? permissions['portal_users']?.find((perm)=>(perm===GLOBALS.PERMISSIONS.CAN_SEE_MASTER_LIST)) : false;\r\n\r\nconst homeRoutes = {\r\n  id: \"Home\",\r\n  path: \"/\",\r\n  component: Home,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst accountRoutes = {\r\n  id: \"My Account\",\r\n  path: \"/my_account\",\r\n  component: MyAccount,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst institutionsRoutes = {\r\n  id: \"Institutions\",\r\n  path: \"/institutions\",\r\n  component: Institutions,\r\n  icon: <Unlock />,\r\n  children: null,\r\n};\r\nconst setEvaluationRoutes = {\r\n  id: \"Set Evaluations\",\r\n  path: \"/setEvaluations\",\r\n  component: SetEvaluations,\r\n  icon: <FileText />,\r\n  hidden: false,\r\n  children: null,\r\n};\r\nconst masterUsersListRoutes = {\r\n  id: \"Master Users List\",\r\n  path: \"/masterUsersList\",\r\n  component: MasterUsersList,\r\n  icon: <UsersIcon />,\r\n  children: null,\r\n  hidden: !canSeeMasterList\r\n};\r\nconst usersRoutes = {\r\n  id: \"Users\",\r\n  path: \"/users\",\r\n  component: Users,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst instancesRoutes = {\r\n  id: \"Instances\",\r\n  path: \"/instances\",\r\n  component: Instances,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst addInstitutionRoutes = {\r\n  id: \"Add Institution\",\r\n  path: \"/addInstitution\",\r\n  component: AddInstitution,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst addUserRoutes = {\r\n  id: \"Add User\",\r\n  path: \"/addUser\",\r\n  component: AddUser,\r\n  children: null,\r\n  hidden: true\r\n};\r\nconst editInstanceRoutes = {\r\n  id: \"Edit Instance\",\r\n  path: \"/editInstance\",\r\n  component: EditInstance,\r\n  children: null,\r\n  hidden: true\r\n};\r\n\r\nconst pagesRoutes = {\r\n  id: \"Permissions\",\r\n  path: \"/permissions\",\r\n  icon: <Unlock />,\r\n  component: Permissions,\r\n  hidden: true\r\n};\r\n\r\n\r\nconst StatsRoutes = {\r\n  id: \"Stats\",\r\n  icon: <BarChart />,\r\n  hidden: !canSeeKPI,\r\n  children: [\r\n      {\r\n        path: \"/stats/evaluations\",\r\n        name: \"Region Tasks Table\",\r\n        component: Stats\r\n      },\r\n      {\r\n        path: \"/stats/instances\",\r\n        name: \"Instances Table\",\r\n        component: InstancesTable,\r\n      },\r\n      {\r\n        path: \"/stats/evaluators\",\r\n        name: \"Evaluators Table\",\r\n        component: EvaluatorsTable,\r\n      },\r\n      {\r\n        path: \"/stats/dashboard\",\r\n        name: \"Dashboard\",\r\n        component: Dashboard,\r\n      },\r\n      {\r\n        path: \"/stats/failures\",\r\n        name: \"Quality Metrics\",\r\n        component: Failures,\r\n      }\r\n    ]\r\n};\r\n\r\nconst authRoutes = {\r\n  id: \"Auth\",\r\n  path: \"/auth\",\r\n  icon: <Users />,\r\n  hidden: true,\r\n  children: [\r\n    {\r\n      path: \"/auth/sign-in\",\r\n      name: \"Sign In\",\r\n      component: SignIn\r\n    },\r\n    {\r\n      path: \"/auth/sign-up\",\r\n      name: \"Sign Up\",\r\n      component: SignUp\r\n    },\r\n    {\r\n      path: \"/auth/forgot-password\",\r\n      name: \"Forgot Password\",\r\n      component: ForgotPassword\r\n    },\r\n    {\r\n      path: \"/reset_your_password/:id\",\r\n      name: \"Reset Password\",\r\n      component: ResetPassword\r\n    },\r\n    {\r\n      path: \"/auth/404\",\r\n      name: \"404 Page\",\r\n      component: Page404\r\n    },\r\n    {\r\n      path: \"/auth/500\",\r\n      name: \"500 Page\",\r\n      component: Page500\r\n    }\r\n  ]\r\n};\r\n\r\nconst DatabaseRoutes = {\r\n  id: \"Dashboard\",\r\n  path: \"/dashboard\",\r\n  component: Database,\r\n  icon: <BarChart />,\r\n};\r\n\r\nconst landingRoutes = {\r\n    path: \"/landing\",\r\n    name: \"Landing\",\r\n    component: Home,\r\n};\r\n\r\n\r\nexport const dashboard = [\r\n  accountRoutes,\r\n  DatabaseRoutes\r\n];\r\n\r\nexport const auth = [authRoutes];\r\n\r\nexport const landing = [landingRoutes, homeRoutes];\r\n\r\nexport default [\r\n  accountRoutes,\r\n  DatabaseRoutes\r\n];\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { rgba } from \"polished\";\r\n\r\nimport { NavLink as RouterNavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport \"../vendor/perfect-scrollbar.css\";\r\n\r\nimport logo from '../images/Logo4.png';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\n\r\nimport {\r\n  Avatar,\r\n  Collapse,\r\n  Grid,\r\n  Chip,\r\n  ListItem,\r\n  ListItemText,\r\n  Drawer as MuiDrawer,\r\n  List as MuiList,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\";\r\n\r\nimport originalMenu from \"../routes/index\";\r\n\r\nimport {Logo} from \"../pages/components/Logo\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport GLOBALS from \"../services/GLOBALS\";\r\nimport {redirectTo} from \"../routes/functions\";\r\nimport {AuthService} from \"../services/AuthService\";\r\n\r\nlet routes = originalMenu.filter(child => !child.hidden);\r\n\r\nconst NavLink = React.forwardRef((props, ref) => (\r\n  <RouterNavLink innerRef={ref} {...props} />\r\n));\r\n\r\nconst Drawer = styled(MuiDrawer)`\r\n  border-right: 0;\r\n\r\n  > div {\r\n    border-right: 0;\r\n  }\r\n`;\r\n\r\nconst Scrollbar = styled(PerfectScrollbar)`\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  background-image: linear-gradient(to bottom, #FFFFFF 6.34%, #D2D2D2 77.92%) !important;\r\n`;\r\n\r\nconst List = styled(MuiList)`\r\n`;\r\n\r\nconst Items = styled.div`\r\n  padding-top: ${props => props.theme.spacing(2.5)}px;\r\n  padding-bottom: ${props => props.theme.spacing(2.5)}px;\r\n`;\r\n\r\nconst Brand = styled(ListItem)`\r\n  font-size: ${props => props.theme.typography.h5.fontSize};\r\n  font-weight: ${props => props.theme.typography.fontWeightMedium};\r\n  color: ${props => props.theme.sidebar.header.color};\r\n  background: #FFFFFF 6.34%;\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  min-height: 56px;\r\n  padding-left: ${props => props.theme.spacing(6)}px;\r\n  padding-right: ${props => props.theme.spacing(6)}px;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  \r\n\r\n  ${props => props.theme.breakpoints.up(\"sm\")} {\r\n    min-height: 64px;\r\n  }\r\n`;\r\n\r\n\r\nconst Category = styled(ListItem)`\r\n  padding-top: ${props => props.theme.spacing(3)}px;\r\n  padding-bottom: ${props => props.theme.spacing(3)}px;\r\n  padding-left: ${props => props.theme.spacing(6)}px;\r\n  padding-right: ${props => props.theme.spacing(5)}px;\r\n  font-weight: ${props => props.theme.typography.fontWeightRegular};\r\n\r\n  svg {\r\n    color: ${props => props.theme.sidebar.color};\r\n    font-size: 20px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n\r\n  &:hover {\r\n    background: #D2D2D2;\r\n    border-radius: 8px;\r\n  }\r\n\r\n  &.${props => props.activeClassName} {\r\n\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n`;\r\n\r\nconst CategoryText = styled(ListItemText)`\r\n  margin: 0;\r\n  span {\r\n    color: ${props => props.theme.sidebar.color};\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    padding: 0 ${props => props.theme.spacing(4)}px;\r\n  }\r\n`;\r\n\r\nconst CategoryIconLess = styled(ExpandLess)`\r\n  color: ${props => rgba(props.theme.sidebar.color, 0.5)};\r\n`;\r\n\r\nconst CategoryIconMore = styled(ExpandMore)`\r\n  color: ${props => rgba(props.theme.sidebar.color, 0.5)};\r\n`;\r\n\r\nconst Link = styled(ListItem)`\r\n  padding-left: ${props => props.theme.spacing(14)}px;\r\n  padding-top: ${props => props.theme.spacing(2)}px;\r\n  padding-bottom: ${props => props.theme.spacing(2)}px;\r\n\r\n  span {\r\n    color: ${props => rgba(props.theme.sidebar.color, 0.7)};\r\n  }\r\n\r\n  &:hover {\r\n    background: #EEF7FF;\r\n    border-radius: 8px;\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n\r\n  &.${props => props.activeClassName} {\r\n\r\n    span {\r\n      color: ${props => props.theme.sidebar.color};\r\n    }\r\n  }\r\n`;\r\n\r\nconst LinkText = styled(ListItemText)`\r\n  color: ${props => props.theme.sidebar.color};\r\n  span {\r\n    font-size: 15px;\r\n  }\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst LinkBadge = styled(Chip)`\r\n  font-size: 11px;\r\n  font-weight: ${props => props.theme.typography.fontWeightBold};\r\n  height: 20px;\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 8px;\r\n\r\n  span.MuiChip-label,\r\n  span.MuiChip-label:hover {\r\n    cursor: pointer;\r\n    color: ${props => props.theme.sidebar.badge.color};\r\n    padding-left: ${props => props.theme.spacing(2)}px;\r\n    padding-right: ${props => props.theme.spacing(2)}px;\r\n  }\r\n`;\r\n\r\nconst CategoryBadge = styled(LinkBadge)`\r\n  top: 12px;\r\n`;\r\n\r\nconst SidebarSection = styled(Typography)`\r\n  color: ${props => props.theme.sidebar.color};\r\n  padding: ${props => props.theme.spacing(4)}px\r\n    ${props => props.theme.spacing(6)}px ${props => props.theme.spacing(1)}px;\r\n  font-weight: 600;\r\n  display: block;\r\n`;\r\n\r\nconst SidebarFooter = styled.div`\r\n  padding: ${props => props.theme.spacing(3)}px\r\n    ${props => props.theme.spacing(4)}px;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n  background: #FFFFFF 77.92%;\r\n  &:hover {\r\n    background: #D2D2D2;\r\n    cursor: pointer;\r\n  }\r\n\r\n`;\r\n\r\nfunction SidebarCategory({\r\n  name,\r\n  icon,\r\n  classes,\r\n  isOpen,\r\n  isCollapsable,\r\n  badge,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Category {...rest}>\r\n      {icon}\r\n      <CategoryText>{name}</CategoryText>\r\n      {isCollapsable ? (\r\n        isOpen ? (\r\n          <CategoryIconMore />\r\n        ) : (\r\n          <CategoryIconLess />\r\n        )\r\n      ) : null}\r\n      {badge ? <CategoryBadge label={badge} /> : \"\"}\r\n    </Category>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction SidebarLink({ name, to, badge, disabled=false }) {\r\n  return (\r\n    <Link\r\n      button\r\n      dense\r\n      component={NavLink}\r\n      exact\r\n      to={to}\r\n      activeClassName=\"active\"\r\n      disabled={disabled}\r\n    >\r\n      <LinkText>{name}</LinkText>\r\n      {badge ? <LinkBadge label={badge} /> : \"\"}\r\n    </Link>\r\n  );\r\n}\r\n\r\nclass Sidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  toggle = index => {\r\n    // Collapse all elements\r\n    Object.keys(this.state).forEach(\r\n      item =>\r\n        this.state[index] ||\r\n        this.setState(() => ({\r\n          [item]: false\r\n        }))\r\n    );\r\n\r\n    // Toggle selected element\r\n    this.setState(state => ({\r\n      [index]: !state[index]\r\n    }));\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    /* Open collapse element that matches current url */\r\n    const pathName = this.props.location.pathname;\r\n\r\n    routes.forEach((route, index) => {\r\n      const isActive = pathName.indexOf(route.path) === 0;\r\n      const isOpen = route.open;\r\n      const isHome = route.containsHome && pathName === \"/\" ? true : false;\r\n\r\n      this.setState(() => ({\r\n        [index]: isActive || isOpen || isHome\r\n      }));\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { classes, staticContext, ...other } = this.props;\r\n\r\n    function handleLogout(){\r\n      AuthService.logout();\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.TOKEN);\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.USER);\r\n      sessionStorage.removeItem(GLOBALS.SESSION_KEYS.USER_ID);\r\n      redirectTo('/auth/sign-in')\r\n    }\r\n\r\n    return (\r\n      <Drawer variant=\"permanent\" {...other}>\r\n        <Brand>\r\n          <Logo logo={logo} padding={'5'} width={'150px'} />\r\n        </Brand>\r\n        <Scrollbar>\r\n          <List disablePadding>\r\n            <Items>\r\n              {routes.map((category, index) => (\r\n                <React.Fragment key={index}>\r\n                  {category.header ? (\r\n                    <SidebarSection>{category.header}</SidebarSection>\r\n                  ) : null}\r\n\r\n                  {category.children ? (\r\n                    <React.Fragment key={index}>\r\n                      <SidebarCategory\r\n                        isOpen={!this.state[index]}\r\n                        isCollapsable={true}\r\n                        name={category.id}\r\n                        icon={category.icon}\r\n                        button={true}\r\n                        onClick={() => this.toggle(index)}\r\n                      />\r\n\r\n                      <Collapse\r\n                        in={this.state[index]}\r\n                        timeout=\"auto\"\r\n                        unmountOnExit\r\n                      >\r\n                        {category.children.map((route, index) => (\r\n                            route.hidden ?\r\n                                null\r\n                                :\r\n                          <SidebarLink\r\n                            key={index}\r\n                            name={route.name}\r\n                            to={route.path}\r\n                            icon={route.icon}\r\n                            badge={route.badge}\r\n                            disabled={route.disabled}\r\n                          />\r\n                        ))}\r\n                      </Collapse>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <SidebarCategory\r\n                      isCollapsable={false}\r\n                      name={category.id}\r\n                      to={category.path}\r\n                      activeClassName=\"active\"\r\n                      component={NavLink}\r\n                      icon={category.icon}\r\n                      exact\r\n                      badge={category.badge}\r\n                    />\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n            </Items>\r\n          </List>\r\n        </Scrollbar>\r\n        <Divider/>\r\n        <SidebarFooter onClick={() => this.toggle(10)}>\r\n          <Grid container spacing={2}>\r\n            <Grid item>\r\n              <Avatar\r\n                alt={sessionStorage.getItem('user_first_name')}\r\n                src=\"../images/user.png\"\r\n                style={{color: '#FFFFFF', backgroundColor: '#D2D2D2'}}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"body1\">\r\n                {sessionStorage.getItem('user_first_name')} {sessionStorage.getItem('user_last_name')}\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                {sessionStorage.getItem('username')}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Collapse\r\n                in={this.state[10]}\r\n                timeout=\"auto\"\r\n                unmountOnExit\r\n              >\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    startIcon={<AccountBoxIcon/>}\r\n                    onClick={(e)=> redirectTo('/my_account')}\r\n                    disabled={!sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN)}\r\n                    fullWidth\r\n                    style={{justifyContent: \"left\"}}\r\n                  >\r\n                    My Account\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    startIcon={<ExitToAppIcon/>}\r\n                    onClick={(e)=> handleLogout()}\r\n                    disabled={!sessionStorage.getItem(GLOBALS.SESSION_KEYS.TOKEN)}\r\n                    fullWidth\r\n                    style={{justifyContent: \"left\"}}\r\n                  >\r\n                    Logout\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Typography style={{marginTop: '15px'}}>\r\n                   VERSION: {GLOBALS.VERSION}\r\n                  </Typography>\r\n                </Grid>\r\n              </Collapse>\r\n            </Grid>\r\n          </Grid>\r\n        </SidebarFooter>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Sidebar);\r\n","export default __webpack_public_path__ + \"static/media/Logo.e372df51.png\";","import React from \"react\";\r\nimport styled, { withTheme } from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Grid,\r\n  Hidden,\r\n  AppBar as MuiAppBar,\r\n  IconButton as MuiIconButton,\r\n  Toolbar,\r\n  Avatar,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\r\n\r\n// Add your logo here\r\nimport logo from \"../images/Logo.png\"; // Import your app logo\r\n\r\nconst AppBar = styled(MuiAppBar)`\r\n  background: ${props => props.theme.header.background};\r\n  color: ${props => props.theme.header.color};\r\n  box-shadow: ${props => props.theme.shadows[1]};\r\n`;\r\n\r\nconst IconButton = styled(MuiIconButton)`\r\n  svg {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 130px;\r\n  height: auto;\r\n`;\r\n\r\nconst ProfileSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n`;\r\n\r\nconst Header = ({ onDrawerToggle }) => (\r\n  <React.Fragment>\r\n    <AppBar position=\"sticky\" elevation={0}>\r\n      <Toolbar>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n\r\n          {/* Center - Logo */}\r\n          <Grid item xs={4} container justifyContent=\"left\">\r\n            <Logo src={logo} alt=\"App Logo\" />\r\n          </Grid>\r\n\r\n          {/* Right side - Profile section */}\r\n          <Grid item xs={4} container justifyContent=\"flex-end\">\r\n            <ProfileSection>\r\n              <Typography variant=\"body1\">Hello, User</Typography>\r\n              <Avatar alt=\"User Name\" src=\"/path-to-avatar-image.jpg\" /> {/* Replace with user data */}\r\n            </ProfileSection>\r\n          </Grid>\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default connect()(withTheme(Header));","import {useDispatch, useSelector} from \"react-redux\";\nimport {useSnackbar} from \"notistack\";\nimport React from \"react\";\n\n\n\nlet displayed = [];\n\nconst Notifier = () => {\n    const dispatch = useDispatch();\n    const notifications = useSelector(state => state.alertMessages.notifications || []);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const storeDisplayed = (id) => {\n        displayed = [...displayed, id];\n    };\n\n    React.useEffect(() => {\n        notifications.forEach(({ key, message, options = {}, dismissed = false }) => {\n            if (dismissed) {\n                // dismiss snackbar using notistack\n                closeSnackbar(key);\n                return;\n            }\n\n            // do nothing if snackbar is already displayed\n            if (displayed.includes(key)) return;\n\n            // display snackbar using notistack\n            enqueueSnackbar(message, {\n                key,\n                ...options,\n                onClose: (event, reason, myKey) => {\n                    if (options.onClose) {\n                        options.onClose(event, reason, myKey);\n                    }\n                },\n\n            });\n\n            // keep track of snackbars that we've displayed\n            storeDisplayed(key);\n        });\n    }, [notifications, closeSnackbar, enqueueSnackbar, dispatch]);\n\n    return null;\n};\n\nexport default Notifier;\n","import React from \"react\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\n\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport Header from \"../components/Header\";\r\n\r\nimport { spacing } from \"@material-ui/system\";\r\nimport {\r\n  Hidden,\r\n  CssBaseline,\r\n  Paper as MuiPaper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {closeSnackbar } from '../redux/actions/snackbarActions'\r\nimport Notifier from \"../components/Notifier\";\r\n\r\nexport const drawerWidth = '20vw';\r\nexport const mobileDrawerWidth = '40vw';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    background: ${props => props.theme.body.background};\r\n  }\r\n\r\n  .MuiCardHeader-action .MuiIconButton-root {\r\n    padding: 4px;\r\n    width: 28px;\r\n    height: 28px;\r\n  }\r\n`;\r\n\r\nconst Root = styled.div`\r\n  display: flex;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Drawer = styled.div`\r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nconst AppContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Paper = styled(MuiPaper)(spacing);\r\n\r\nconst MainContent = styled(Paper)`\r\n  flex: 1;\r\n  background: ${props => props.theme.body.background};\r\n  \r\n  ${props => props.theme.breakpoints.down(\"md\")} {\r\n    max-width: 100vw;\r\n  }\r\n  \r\n  ${props => props.theme.breakpoints.up(\"md\")} {\r\n    max-width: calc(100vw);\r\n  }\r\n \r\n\r\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\r\n    flex: none;\r\n  }\r\n\r\n  .MuiPaper-root .MuiPaper-root {\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nclass Dashboard extends React.Component {\r\n  state = {\r\n    mobileOpen: false,\r\n  };\r\n\r\n  handleDrawerToggle = () => {\r\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n  };\r\n\r\n  render() {\r\n    const { children, routes } = this.props;\r\n\r\n    return (\r\n      <Root>\r\n        <Notifier />\r\n        <CssBaseline />\r\n        <GlobalStyle />\r\n        <Drawer>\r\n            <Sidebar\r\n              routes={routes}\r\n              PaperProps={{ style: { width: '20%' } }}\r\n              variant=\"temporary\"\r\n              open={this.state.mobileOpen}\r\n              onClose={this.handleDrawerToggle}\r\n            />\r\n        </Drawer>\r\n        <AppContent>\r\n          <Header onDrawerToggle={this.handleDrawerToggle}/>\r\n          <MainContent p={10}>\r\n            {children}\r\n          </MainContent>\r\n        </AppContent>\r\n      </Root>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  snackbar: state.alertMessages.notifications,\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  closeSnackbar: (params) => dispatch(closeSnackbar(params))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  body {\r\n    background: linear-gradient(180deg, white, black); /* Gradient background */\r\n  }\r\n`;\r\n\r\nconst Root = styled.div`\r\n  max-width: 365px;\r\n  max-height: 400px;\r\n  margin: 0 auto;\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  min-height: 100%;\r\n  padding-bottom: 5%;\r\n`;\r\n\r\nfunction Auth({ children }) {\r\n  return (\r\n    <Root>\r\n      <GlobalStyle />\r\n      <Grid\r\n        container\r\n        justifyContent=\"flex-start\" /* Updated to use Material UI v5 syntax */\r\n        alignItems=\"flex-start\" /* Updated to use Material UI v5 syntax */\r\n      >\r\n        <Grid item xs={12}>\r\n          {children}\r\n        </Grid>\r\n      </Grid>\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default Auth;","export default __webpack_public_path__ + \"static/media/logo_simple.28907bff.svg\";","import React from \"react\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { CssBaseline, Box, Typography, Container, Link } from \"@material-ui/core\";\r\nimport logo from \"../images/logo_simple.svg\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,\r\n  body,\r\n  #root {\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    background: ${props => props.theme.body.background};\r\n  }\r\n`;\r\n\r\nfunction Landing({ children }) {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <GlobalStyle />\r\n      {children}\r\n      <Box\r\n        sx={{\r\n          py: 5,\r\n          textAlign: 'center',\r\n          position: 'relative',\r\n          bgcolor: \"#f0f2f5\",\r\n        }}\r\n      >\r\n        <Container>\r\n          <img \r\n            src={logo} \r\n            alt=\"Logo\" \r\n            style={{\r\n              width: '40px', // Set the desired width for the image\r\n              height: 'auto', // Maintain aspect ratio\r\n              marginBottom: '10px' // Optional: Add some space below the image\r\n            }} \r\n          />\r\n          <Typography variant=\"caption\" component=\"p\">\r\n             All rights reserved\r\n            <br /> made by &nbsp;\r\n            <Link href=\"https://linkedin.com\">CryptoVoice</Link>\r\n          </Typography>\r\n        </Container>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Landing;","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { dashboard as dashboardRoutes, auth as authRoutes, landing as landingRoutes } from \"./index\";\r\n\r\nimport DashboardLayout from \"../layouts/Dashboard\";\r\nimport AuthLayout from \"../layouts/Auth\";\r\nimport LandingLayout from \"../layouts/Landing\";  // Import the new Landing layout\r\nimport Page404 from \"../pages/auth/Page404\";\r\nimport { Suspense } from \"react\";\r\n\r\nconst childRoutes = (Layout, routes) =>\r\n  routes.map(({ children, path, component: Component }, index) =>\r\n    children ? (\r\n      // Route item with children\r\n      children.map(({ path, component: Component }, index) => (\r\n        <Route\r\n          key={index}\r\n          path={path}\r\n          exact\r\n          render={props => (\r\n            <Layout>\r\n              <Component {...props} />\r\n            </Layout>\r\n          )}\r\n        />\r\n      ))\r\n    ) : (\r\n      // Route item without children\r\n      <Route\r\n        key={index}\r\n        path={path}\r\n        exact\r\n        render={props => (\r\n          <Layout>\r\n            <Component {...props} />\r\n          </Layout>\r\n        )}\r\n      />\r\n    )\r\n  );\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    {/* Dashboard Layout Routes */}\r\n    {childRoutes(DashboardLayout, dashboardRoutes)}\r\n    \r\n    {/* Auth Layout Routes */}\r\n    {childRoutes(AuthLayout, authRoutes)}\r\n    \r\n    {/* Landing Layout Routes */}\r\n    {childRoutes(LandingLayout, landingRoutes)}\r\n    \r\n    {/* Fallback Route */}\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <Route\r\n        render={() => (\r\n          <AuthLayout>\r\n            <Page404 />\r\n          </AuthLayout>\r\n        )}\r\n      />\r\n    </Suspense>\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { ThemeProvider as MuiThemeProvider} from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport { StylesProvider } from \"@material-ui/styles\";\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nimport maTheme from \"./theme\";\r\nimport Routes from \"./routes/Routes\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { ConfirmProvider } from 'material-ui-confirm';\r\nimport {SnackbarProvider} from \"notistack\";\r\n\r\n\r\nconst App = ({ theme }) => {\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <MuiThemeProvider theme={maTheme[theme.currentTheme]}>\r\n          <ThemeProvider theme={maTheme[theme.currentTheme]}>\r\n            <ConfirmProvider>\r\n             <SnackbarProvider maxSnack={1}>\r\n              <Routes />\r\n             </SnackbarProvider>\r\n            </ConfirmProvider>\r\n          </ThemeProvider>\r\n        </MuiThemeProvider>\r\n      </MuiPickersUtilsProvider>\r\n    </StylesProvider>\r\n  )\r\n}\r\nconst ConnectedApp = connect(store => ({ theme: store.themeReducer }))(App);\r\n\r\nfunction AppWithRouter() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <ConnectedApp/>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppWithRouter;\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store/index';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, document.getElementById('root'));\r\n","import store from \"../redux/store\";\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\";\nimport {errorMessage} from \"./alertMessages\";\nimport {AuthService} from \"./AuthService\";\nimport {redirectTo} from \"../routes/functions\";\n\nexport function handleError(error, message) {\n    if (error?.response?.data?.message?.includes(\"Failed in authentication\") || error?.response?.data?.message?.includes(\"Bad permissions\")){\n      AuthService.logout();\n      redirectTo('/auth/sign-in')\n      store.dispatch(enqueueSnackbar(errorMessage(\"Failed in authentication. Please Logout\")))\n    }\n    else if(error?.response?.data?.message?.includes(\"Access denied\")){\n      store.dispatch(enqueueSnackbar(errorMessage(\"Access Denied\")))\n      return error.response\n    }\n    else{\n      store.dispatch(enqueueSnackbar(errorMessage(message || error?.response?.data?.message)))\n    }\n}","\nexport function redirectTo(path){\n  window.location = path\n}\n","import React from 'react'\n\nexport const Logo = ({logo, width, padding, otherStyles}) => {\n  return <img src={logo} alt=\"Logo\" style={{padding: padding, maxWidth: width, width: '100%', ...otherStyles}}/>;\n}\n","import GLOBALS from './GLOBALS'\nimport {Token} from \"./common\";\nimport store from \"../redux/store\";\nimport {setAuthError, setAuthLoading, setSignedIn} from \"../redux/actions/authActions\";\nimport {redirectTo} from \"../routes/functions\";\nimport {Urls} from \"./urls\";\nimport API from \"./api\";\nimport {enqueueSnackbar} from \"../redux/actions/snackbarActions\";\nimport {errorMessage, successMessage} from \"./alertMessages\";\nimport snackbarMessages from \"./snackbarMessages\";\nimport {PortalUsersService} from \"./PortalUsersService\";\n\n// Function to safely encode a string containing non-ASCII characters\nfunction safeBase64Encode(str) {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(str);\n  const base64 = btoa(String.fromCharCode.apply(null, data));\n  return base64;\n}\n\nexport const AuthService = {\n\n  attemptLogin: function () {\n    const username = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    AuthService.login(username,password);\n  },\n\n  login: function (username,password) {\n    store.dispatch(setAuthLoading())\n    let xhr = new XMLHttpRequest();\n    xhr.open('POST', Urls.api, true);\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.AUTH_TYPE,\n                         GLOBALS.HEADERS_VALUES.LOGIN);\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.AUTHORIZATION,\n                         GLOBALS.HEADERS_VALUES.BASIC + \" \" + safeBase64Encode(`${username}:${password}`));\n\n    xhr.setRequestHeader(GLOBALS.HEADERS_NAMES.LOGIN_TYPE,\n                         \"4\");\n\n    xhr.responseType = \"json\";\n\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) {\n           if (this.response?.message === \"OK\"){\n              Token.setToken(this.response.data[\"token\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER,username);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_ID,this.response.data[\"id\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_FNAME,this.response.data[\"fname\"]);\n              sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_LNAME,this.response.data[\"lname\"]);\n\n             PortalUsersService.setInstitution(\n               0,\n               this.response.data[\"id\"],\n               this.response.data[\"token\"]\n             ).then((r)=>{\n                 store.dispatch(setSignedIn())\n                 redirectTo('/')\n             })\n           }\n           else{\n              store.dispatch(setAuthError(this.response))\n              throw this.response\n           }\n        }\n    };\n\n    xhr.send(null);\n\n  },\n  logout: function () {\n    sessionStorage.clear();\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.LOGOUT + \"/0\" // the identifier here, is ignored.\n    return API.post(endpoint).then((response) => {\n      return response\n    })\n        .catch((error) => {\n            store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.auth.logout)))\n        })\n    },\n  receivedInstitutionInfo: function(data){\n\n    //console.log(JSON.stringify(data));\n\n    if (data.message !== \"OK\"){\n        document.getElementById(\"error_message\").innerHTML = data.message;\n       // WaitDialog.close();\n        return;\n    }\n\n    let ilist = data.data;\n    let inst_list = [];\n    for (let i = 0; i < ilist.length; i++){\n        let inst = {};\n        inst[GLOBALS.INST_LIST.NAME] =  ilist[i][\"institution_name\"];\n        inst[GLOBALS.INST_LIST.ID]   =  ilist[i][\"keyid\"];\n        inst_list.push(inst);\n    }\n\n    sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_INSTITUTIONS,JSON.stringify(inst_list));\n\n    // Making sure we are home.\n   // WaitDialog.close();\n    window.location.href = \"index.html\"\n\n  },\n  modifyAccount: function(params){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.MODIFY_OWN + \"/0\" ;\n\n    //filtering params to send only updated ones\n    const filtered = Object.fromEntries(Object.entries(params).filter(([k,v]) => v!==null));\n\n    return API.post(endpoint, filtered).then((response) => {\n      store.dispatch(enqueueSnackbar(successMessage(snackbarMessages.success.account.post)));\n      if(filtered['name']){\n        sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_FNAME,filtered['name']);\n      }\n      if(filtered['lastname']){\n        sessionStorage.setItem(GLOBALS.SESSION_KEYS.USER_LNAME,filtered['lastname']);\n      }\n      redirectTo(\"/\")\n      return response\n    }).catch((error) => {\n        store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.account.post)))\n      })\n  },\n  sendResetPasswordEmail: function(email){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.RESET_PASSWORD + \"/\" + email;\n    return API.post(endpoint).then((response) => {\n      return response.data.message\n    }).catch((error) => {\n      return error.response.data.message\n    })\n  },\n  resetPassword: function(id,token,password){\n    let endpoint = GLOBALS.ENDPOINTS.PORTAL_USER.RESET_PASSWORD + \"/\" + id + \"?key=\" + token;\n    return API.post(endpoint, {password: password}).then((response) => {\n      return response.data.message\n    }).catch((error) => {\n        store.dispatch(enqueueSnackbar(errorMessage(snackbarMessages.error.account.resetPassword)))\n        return error.response.data.message\n      })\n  },\n}\n\n","import * as types from '../constants';\n\nexport function setSignedIn() {\n  return {\n    type: types.SET_SIGNED_IN\n  }\n}\n\nexport function setSignedOut() {\n  localStorage.removeItem('loginToken');\n  localStorage.removeItem('loginUsername');\n  return {\n    type: types.SET_SIGNED_OUT\n  }\n}\n\nexport function setResetPasswordDone() {\n  return {\n    type: types.SET_RESET_PASSWORD_DONE\n  }\n}\n\nexport function setNewPasswordDone() {\n  return {\n    type: types.SET_NEW_PASSWORD_DONE\n  }\n}\n\nexport function setAuthLoading() {\n  return {\n    type: types.SET_AUTH_LOADING\n  }\n}\n\nexport function setAuthError(error) {\n  return {\n    type: types.SET_AUTH_ERROR,\n    payload: error\n  }\n}\n","export default __webpack_public_path__ + \"static/media/Logo4.37f3e511.png\";"],"sourceRoot":""}