{"version":3,"sources":["components/PaddedPaper.js","pages/pages/RegisterForm/RegisterForm.js","pages/pages/Account/MyAccount.js","utils/objects.js","images/arrow.png","utils/hooksLib.js","components/DataTable/warningDialog.js","pages/auth/authHelper.js"],"names":["PaddedPaper","styled","Paper","props","theme","spacing","marginRight","marginLeft","breakpoints","down","RegisterForm","_ref","title","displayBack","marginBottom","children","history","useHistory","React","createElement","marginright","marginleft","Grid","item","Button","color","style","onClick","e","stopPropagation","goBack","Logo","logo","arrow","otherStyles","paddingRight","Typography","component","variant","BootstrapInput","withStyles","root","marginTop","input","borderRadius","position","backgroundColor","palette","common","white","border","fontSize","padding","transition","transitions","create","borderColor","InputBase","MyAccount","warningDialog","setWarningDialog","useState","passwordMismatchDialog","setPasswordMismatchDialog","fields","handleFieldChange","useFormFields","user_first_name","sessionStorage","getItem","user_last_name","username","newPassword","passwordConfirmation","handleClose","Fragment","container","sm","xs","id","value","placeholder","onChange","fullWidth","disabled","type","Divider","className","float","width","event","preventDefault","first_name","last_name","password","validatePassword","AuthService","modifyAccount","name","lastname","passwd","redirectTo","WarningDialog","open","onClose","cancelButton","contentText","setProperty","obj","path","schema","pList","split","len","length","i","elem","getProperty","undefined","deleteKeysWithStart","startsWith","Object","keys","forEach","key","removeNotIncluded","object","allowedKeys","includes","initialState","setValues","newFields","target","Dialog","DialogTitle","DialogContent","map","text","DialogContentText","DialogActions","notInclude","test"],"mappings":"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","file":"static/js/12.a36eb333.chunk.js","sourcesContent":["import Paper from '@material-ui/core/Paper';\nimport styled from \"styled-components\";\n\n\nconst PaddedPaper = styled(Paper)`\n  padding: ${props => props.theme.spacing(3)}px;\n  margin-bottom: ${props => props.theme.spacing(3)}px;\n  margin-right:${props => props.marginRight ? props.marginRight : props.theme.spacing(3) + 'px'};\n  margin-left:${props => props.marginLeft ? props.marginLeft : props.theme.spacing(3) + 'px'};\n  /* for small screens */\n  ${props => props.theme.breakpoints.down(\"sm\")} {\n    padding: 0px;\n  }\n  box-shadow: none !important;\n`;\nexport default PaddedPaper;\n","import React from 'react';\nimport {Grid, Typography} from '@material-ui/core';\nimport PaddedPaper from \"../../../components/PaddedPaper\";\nimport Button from \"@material-ui/core/Button\";\nimport {Logo} from \"../../components/Logo\";\nimport arrow from \"../../../images/arrow.png\";\nimport {useHistory} from \"react-router-dom\";\n\nexport default function RegisterForm(\n  {  title,\n     displayBack=true,\n     marginRight=\"0%\",\n     marginLeft=\"0%\",\n     marginBottom = '20px',\n     children\n  }) {\n  const history = useHistory();\n\n  return (\n    <PaddedPaper marginright={marginRight} marginleft={marginLeft}>\n      { displayBack ?\n        <Grid item>\n          <Button\n             color='primary'\n             style={{color: '#3397EF'}}\n             onClick={(e)=>{\n               e.stopPropagation();\n               history.goBack();\n             }}\n           >\n            <Logo logo={arrow} otherStyles={{paddingRight: 10}}/>\n            {` Back`}\n           </Button>\n        </Grid>\n      :\n      <div></div>}\n      <Typography component=\"h1\" variant=\"h3\" style={{marginBottom: marginBottom}}>\n        {title}\n      </Typography>\n      {children}\n    </PaddedPaper>\n  );\n}\n","import React from \"react\";\nimport { useFormFields } from \"../../../utils/hooksLib\";\nimport { Button, Grid, Typography, Divider } from \"@material-ui/core\";\nimport WarningDialog from \"../../../components/DataTable/warningDialog\";\nimport RegisterForm from \"../RegisterForm/RegisterForm\";\nimport { withStyles } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport { validatePassword } from \"../../auth/authHelper\";\nimport { AuthService } from \"../../../services/AuthService\";\nimport { redirectTo } from \"../../../routes/functions\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 8,\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #ced4da',\n    fontSize: 16,\n    padding: '10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    '&:focus': {\n      borderColor: '#3397EF',\n    },\n    '&:hover': {\n      borderColor: '#3397EF',\n    },\n  },\n}))(InputBase);\n\nfunction MyAccount() {\n  const [warningDialog, setWarningDialog] = React.useState(false);\n  const [passwordMismatchDialog, setPasswordMismatchDialog] = React.useState(false);\n\n  const [fields, handleFieldChange] = useFormFields({\n    user_first_name: sessionStorage.getItem('user_first_name') || '',\n    user_last_name: sessionStorage.getItem('user_last_name') || '',\n    username: sessionStorage.getItem('username') || '',\n    newPassword: \"\",\n    passwordConfirmation: \"\"\n  });\n\n  function validateForm() {\n    return validatePassword(fields?.newPassword, fields?.username) &&\n      (fields.newPassword === fields.passwordConfirmation);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const first_name = fields.user_first_name !== sessionStorage.getItem('user_first_name') ? fields.user_first_name : null;\n    const last_name = fields.user_last_name !== sessionStorage.getItem('user_last_name') ? fields.user_last_name : null;\n    const password = fields.newPassword !== \"\" ? fields.newPassword : null;\n    if (password) {\n      if (fields.newPassword !== fields.passwordConfirmation) {\n        setPasswordMismatchDialog(true);\n      } else if (validateForm()) {\n        AuthService.modifyAccount({ name: first_name, lastname: last_name, passwd: password });\n      } else {\n        setWarningDialog(true);\n      }\n    } else {\n      AuthService.modifyAccount({ name: first_name, lastname: last_name });\n    }\n  }\n\n  const handleClose = () => {\n    setWarningDialog(false);\n    setPasswordMismatchDialog(false);\n  };\n\n  return (\n    <>\n      <RegisterForm title={'My Account'} displayBack={false}>\n        <>\n          <form>\n            <React.Fragment>\n              <Grid container spacing={5} style={{ marginTop: '30px' }}>\n                <Grid item sm={4} xs={6}>\n                  <Typography variant='body1'>\n                    First Name\n                  </Typography>\n                  <BootstrapInput\n                    id={'user_first_name'}\n                    value={fields?.user_first_name}\n                    placeholder=\"Enter First Name\"\n                    onChange={handleFieldChange}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item sm={4} xs={6}>\n                  <Typography variant='body1'>\n                    Last Name\n                  </Typography>\n                  <BootstrapInput\n                    id={'user_last_name'}\n                    value={fields?.user_last_name}\n                    placeholder=\"Enter Last Name\"\n                    onChange={handleFieldChange}\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n              <Grid container spacing={5}>\n                <Grid item sm={4} xs={6}>\n                  <Typography variant='body1'>\n                    Email\n                  </Typography>\n                  <BootstrapInput\n                    id={'username'}\n                    value={fields?.username}\n                    fullWidth\n                    disabled={true}\n                  />\n                </Grid>\n              </Grid>\n              <Grid container spacing={5} style={{ marginTop: \"10px\" }}>\n                <Grid item sm={4} xs={6}>\n                  <Typography variant='body1'>\n                    New Password\n                  </Typography>\n                  <BootstrapInput\n                    id={'newPassword'}\n                    type=\"password\"\n                    value={fields?.newPassword}\n                    placeholder=\"Enter Value\"\n                    onChange={handleFieldChange}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item sm={4} xs={6}>\n                  <Typography>\n                    Confirm New Password\n                  </Typography>\n                  <BootstrapInput\n                    id={'passwordConfirmation'}\n                    type=\"password\"\n                    value={fields?.passwordConfirmation}\n                    placeholder=\"Enter Value\"\n                    onChange={handleFieldChange}\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n            </React.Fragment>\n            <Divider style={{ marginTop: 30 }} />\n            <Grid container spacing={3}>\n              <Grid item xs={12}>\n                <div style={{ marginTop: \"25px\" }}>\n                  <Button\n                    className={\"save\"}\n                    style={{ float: \"right\", borderRadius: '8px', marginLeft: \"10px\", marginBottom: \"15px\", width: \"144px\" }}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={false}\n                  >\n                    SAVE\n                  </Button>\n                </div>\n                <div style={{ marginTop: \"25px\" }}>\n                  <Button\n                    className={\"save\"}\n                    style={{ float: \"right\", borderRadius: '8px', marginBottom: \"15px\", width: \"100px\" }}\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    onClick={() => redirectTo('/institutions')}\n                  >\n                    CANCEL\n                  </Button>\n                </div>\n              </Grid>\n            </Grid>\n          </form>\n          <WarningDialog\n            open={warningDialog}\n            onClose={handleClose}\n            cancelButton={true}\n            title={'The password must meet the following requirements'}\n            contentText={[\n              'Between 8 and 64 characters',\n              'Must contain at least 1 uppercase, 1 lowercase, 1 number, and 1 special character',\n              'Must not contain the username, dots o commas'\n            ]}\n          />\n          <WarningDialog\n            open={passwordMismatchDialog}\n            onClose={handleClose}\n            cancelButton={true}\n            title={'Password Mismatch'}\n            contentText={['The new password and password confirmation do not match.']}\n          />\n        </>\n      </RegisterForm>\n    </>\n  );\n}\n\nexport default MyAccount;\n","export function setProperty(obj, path, value) {\n  let schema = obj;\n  const pList = path.split('.');\n  const len = pList.length;\n  for(let i = 0; i < len-1; i++) {\n    const elem = pList[i];\n    if( !schema[elem] ) schema[elem] = {}\n    schema = schema[elem];\n  }\n\n  schema[pList[len-1]] = value;\n}\n\nexport function getProperty(obj, path) {\n  let schema = obj;\n  const pList = path.split('.');\n  const len = pList.length;\n  for(let i = 0; i < len; i++) {\n    const elem = pList[i];\n    if(schema === undefined) return null;\n    schema = schema[elem];\n  }\n\n  return schema;\n}\n\n// const obj = {\n//   'someProp.0.nestedProp1': \"\",\n//   'someProp.0.nestedProp2': \"\",\n//   'someProp.1.nestedProp1': \"\",\n// }\n//\n// deletePath(obj, 'someProp.0')\n//\n// expected obj = {\n//   'someProp.1.nestedProp1': \"\",\n// }\nexport function deleteKeysWithStart(obj, startsWith) {\n  Object.keys(obj).forEach(key => {\n    if(key.startsWith(startsWith)){\n      delete obj[key];\n    }\n  })\n}\n\nexport const removeNotIncluded = (object, allowedKeys) => {\n  const objectKeys = Object.keys(object);\n  objectKeys.forEach(\n    key => {\n      if(!(allowedKeys.includes(key))){\n        delete object[key];\n      }\n    }\n  )\n  return object;\n};\n\n\nconst isAValue = ([key, value]) => {\n  if(key === 'custom_fields'){\n    return value.some(customField => customField.value)\n  }\n\n  if(value === false || value === 0) {\n    return true; //  false and 0 are values.\n  }\n\n  if(!value) {\n    return false;  //  value is null or undefined\n  }\n\n  if(value.constructor === Object) {\n    return Object.entries(value).length > 0\n  }\n\n  if(value.constructor === Array) {\n    if(value.length > 0) {\n      return value.some(hasSomeValue)\n    } else {\n      return false\n    }\n  }\n\n  return true;  // value is string, number, timestamp, etc\n};\n\nconst hasSomeValue = obj => {\n  const objectEntries = Object.entries(obj);\n\n  if(objectEntries.length === 0) return false;\n\n  return objectEntries.some(isAValue);\n}\n\n// params: array of objects { key: value }\n// return a new array, without the empty values objects like { a: '' , b: ''}\n// example: \n//   param = [{a: 1}, {b: ''}, {c: '', d: 'hola'}]\n//   clearEmptyHashOfArray(param)\n// result = [{a: 1}, {c: '', d: 'hola'}]\nexport const clearEmptyHashOfArray = (array) => {\n  return array.filter(hasSomeValue)\n}\n\nexport const toPlainObject = draft => (\n  JSON.parse(JSON.stringify(draft))\n)\n\nexport const objectValuesAreNotEmpty = object => {\n  return Object.values(object).every(value => Boolean(value))\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAMCAYAAACulacQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB3SURBVHgBfZDLDYAgEERHK5AOLIGjbViGoQmtwqNaCQ0YQydcTYzgQqKJsDoHIPuG/QE/KtJAM9r6APTp0JYc8MBslDAFB7ZODE9aDkT4BYLKnQ4fHi5vLgYk/abONBmWVYke6Sic4ZUqNWR1boOjJYCTnGwV7gtBnz3unRiQJwAAAABJRU5ErkJggg==\"","import { useState, useReducer, useMemo } from \"react\";\nimport {deleteKeysWithStart, getProperty, setProperty} from \"./objects\";\nimport store from \"../redux/store\";\nimport {setFormStatus} from \"../redux/actions/formsActions\";\nimport {produce} from 'immer';\nimport {trimChar} from \"./strings\";\n\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n  return [\n    fields,\n    //  handleFieldChange\n    function(event) {\n      const newFields = {...fields};\n\n      const path = event.key || event.target.id || event.target.name;\n      const value = event.target ? event.target.value : event.value;\n      setProperty(newFields, path, value);\n\n      setValues({\n        ...newFields\n      });\n    },\n    //  reset\n    function() {\n      setValues(initialState);\n    }\n  ];\n}\nfunction findValidator(fieldName, validators) {\n  const properties = fieldName.split('.');\n  let validator = null;\n  const indexes = [];\n  const isRootField = properties.length === 1;\n  properties.forEach(\n    property => {\n      if(!isNaN(property)){\n        indexes.push(parseInt(property));\n      }\n      if (validator) {\n        const subValidator = validator[property];\n        if (subValidator) {\n          validator = subValidator;\n        }\n        return\n      }\n\n      const rootValidator = validators[property];\n      const isFunction = rootValidator instanceof Function;\n      //  Avoid assign root validator to nested fields\n      if(!isFunction || (isFunction && isRootField)){\n        validator = validators[property];\n      }\n    }\n  );\n  return {validator, indexes};\n}\n\nfunction validate(fieldName, fields, validators, fieldValue=undefined, extraArgs={}, initialState) {\n  const {validator, indexes} = findValidator(fieldName, validators);\n  let error;\n  if (validator && validator instanceof Function) {\n    const valueIndex = indexes[indexes.length - 1];\n    let value;\n    if(fieldValue === undefined) {\n      value = getProperty(fields, fieldName);\n    } else {\n      value = fieldValue;\n    }\n    const initialValue = getProperty(initialState, fieldName);\n    const validatorArgs = {value, fields, valueIndex, indexes, initialValue, ...extraArgs};\n    error = validator(validatorArgs);\n  }\n  if (error) {\n    fields.errors[fieldName] = error;\n  } else {\n    delete fields.errors[fieldName];\n  }\n}\nconst formReducer = ({validators, initialState, emptyInitialState}) => function (draft, action) {\n  function runValidators(fields, previousKey=\"\") {\n    for (let key in fields) {\n      if(key === \"errors\") continue;\n\n      const value = fields[key];\n\n      if (value instanceof Object){ // Also applies for Arrays\n        runValidators(value, `${previousKey}.${key}`)\n      } else {\n        const fieldName = `${previousKey}.${key}`;\n        validate(trimChar(fieldName, \".\"), draft, validators, undefined, action.extraArgs, initialState);\n      }\n    }\n  }\n  switch (action.type) {\n    case 'FIELD_CHANGE': {\n      validate(action.fieldName, draft, validators, action.fieldValue, {}, initialState);\n      setProperty(draft, action.fieldName, action.fieldValue);\n      if(action.callback) action.callback(draft);\n      if(!draft.dirty && action.fieldValue?.length>0) {\n        store.dispatch(setFormStatus({model: draft.formModel, dirty: true}));\n        draft.dirty = true;\n      }\n      return;\n    }\n    case 'ADD_EMPTY_FIELD': {\n      const path = action.path;\n      let sample;\n      if (action.sample){\n        sample = action.sample;\n      } else {\n        sample = getProperty(emptyInitialState || initialState, path)[0];\n      }\n      getProperty(draft, path).push({...sample});\n      return;\n    }\n    case 'REMOVE_FIELD': {\n      const { path, index } = action;\n      getProperty(draft, path).splice(index, 1);\n      deleteKeysWithStart(draft.errors, `${path}.${index}`);\n      return;\n    }\n\n    case 'SUBMIT':\n      if (action.preValidator){\n        const {fieldName, fieldValue} = action.preValidator(draft)\n        setProperty(draft, fieldName, fieldValue);\n      }\n      runValidators(draft);\n\n      if(Object.keys(draft.errors).length === 0){\n        action.handleSubmit(draft);\n        store.dispatch(setFormStatus({model: draft.formModel, dirty: false}));\n        draft.dirty = false;\n      }\n      return;\n    default:\n  }\n}\n\nexport function useFormReducer({initialState, emptyInitialState, validators = {}}){\n  const memoizedInitialState = useMemo(\n    () => ({\n      ...initialState,\n      errors: {}\n    }),\n    []\n  );\n\n  const curriedFormReducer = useMemo(\n    () => {\n      return produce(formReducer({validators, initialState: memoizedInitialState, emptyInitialState}))\n    },\n    [memoizedInitialState]\n  );\n  const [state, dispatch] = useReducer(curriedFormReducer, memoizedInitialState);\n\n  const handleFieldChange = (e) => {\n    let fieldName, fieldValue;\n    const {target, key, value, callback, initialValue} = e;\n    if(target){\n      fieldName = e.target.name || e.target.id;\n      fieldValue = e.target.value;\n    } else {\n      fieldName = key;\n      fieldValue = value;\n    }\n\n    dispatch({\n      type: 'FIELD_CHANGE',\n      fieldName,\n      fieldValue,\n      callback,\n      initialValue\n    })\n  };\n\n  const addEmptyItem = (path, sample=null) => {\n    dispatch({\n      type: 'ADD_EMPTY_FIELD',\n      path,\n      sample\n    })\n  };\n\n  const removeItem = (path, index) => {\n    dispatch({\n      type: 'REMOVE_FIELD',\n      path,\n      index\n    })\n  };\n\n  const submit = (handleSubmit, preValidator=null, extraArgs) => {\n    dispatch({\n      type: 'SUBMIT',\n      handleSubmit,\n      preValidator,\n      extraArgs\n    })\n  };\n\n  const hasErrors = Object.keys(state.errors).length > 0;\n\n  return {fields: state, dispatch, hasErrors, submit, handleFieldChange, addEmptyItem, removeItem};\n}","import {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider} from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function WarningDialog({open,\n                                       onClose,\n                                       title,\n                                       contentText=[],\n                                       })\n        {\n        return (\n            <React.Fragment>\n                <Dialog\n                  open={open}\n                  onClose={onClose}\n                  aria-labelledby=\"alert-dialog-slide-title\"\n                  aria-describedby=\"alert-dialog-slide-description\">\n                  <DialogTitle id=\"alert-dialog-slide-title\">\n                      {title}\n                  </DialogTitle>\n                  <Divider />\n                  <DialogContent>\n                    {contentText.map((text)=>(\n                      <DialogContentText id=\"alert-dialog-slide-description\">\n                        {text}\n                      </DialogContentText>\n                    ))}\n                  </DialogContent>\n                  <DialogActions>\n                    <Button onClick={onClose} color=\"primary\">\n                      Close\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n            </React.Fragment>\n)\n}\n","export const validateEmail = (email) => {\n  const regex = /^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\\.)+[A-Za-z]+$/\n  return regex.test(email)\n};\n\nexport const validatePassword = (password, username) => {\n  //At least: 1 uppercase, 1 lowercase, 1 number, 1 special including _, length between 8 and 64\n  const regex = /^(?=.*[a-zñ])(?=.*[A-ZÑ])(?=.*\\d)(?=.*[@$!%*?&_])[A-Za-zñÑ\\d@$!%*?&_]{8,64}$/;\n  \n  //Password must not include username\n  const notInclude = !password.includes(username);\n  return regex.test(password) && notInclude;\n};\n"],"sourceRoot":""}